import{c as I,r as n,k as L,o as h}from"./vue.esm-bundler.js";import{f as A}from"./analytics-data.js";import{G as y}from"./geofencing2.js";import{M as l,h as O,k as T,a as b,j as _,u as F,n as f,l as E,o as u}from"./rudderstack-client.js";import{b as w,p as P}from"./iterable.js";import{b as R}from"./validator.js";import{u as U}from"./use-modal.js";import{u as G}from"./use-viewport-size.js";import{B as K}from"./base-section.js";import"./shopify.js";import"./cookies.js";import"./use-scroll-lock.js";const i="footer";class D extends K{constructor(){super(`[data-section-type="${i}"]`)}init(C){const c=C.container,M=c.querySelectorAll(`[data-${i}-menu]`);I({name:"FooterSection",setup(){const t=n({}),{closeModal:g,isModalOpen:S,modalStates:N,openModal:k}=U(),{isMobile:m}=G(),s=n(""),d=n(!1),r=n(!1),v=L(()=>Object.values(y).map(e=>({label:e.id,value:e.url})));return h(()=>{M.forEach(e=>{const o=e.getAttribute(`data-${i}-menu`);o&&(t.value[o]=!1)}),A({sectionName:i})}),{closeModal:g,emailProvided:d,emailValue:s,geoFencingOptions:v,handleComunicationLinkClick:(e,o,a)=>{var p;e.includes(E.OPEN_CHAT_KEYWORD)?(u({footerLinkCategory:a,footerLinkName:o}),(p=window==null?void 0:window.Gladly)==null||p.show()):f({analyticsFn:()=>{u({footerLinkCategory:a,footerLinkName:o})},openInNewTab:!1,urlToNavigate:e})},handleCountryChange:e=>{window.location.href=e.target.value},handleSignUpClick:()=>{const e=s.value.trim(),o=l.PLACEMENT.FOOTER,a=w({email:e,isMobile:m.value,placementSource:o});if(e==""||!R(e)){r.value=!0;return}O(e,T()),b({additionalTraits:_({subscriptionSource:o,subscriptionStatus:!0}),email:e}),F({messageMedium:l.MEDIUM.EMAIL,messageType:l.TYPE.ALL,optInStatus:!0,placement:o}),P(a),s.value="",d.value=!0,r.value=!1},handleSocialIconClick:(e,o,a)=>{f({analyticsFn:()=>{u({footerLinkCategory:e,footerLinkName:`${E.SOCIAL_MEDIA_LINKS_TRACKING_NAME_PREFIX}${a}`})},openInNewTab:!0,urlToNavigate:o})},isMenuOpen:e=>t.value[e]===!0,isMobile:m,isModalOpen:S,menuStates:t,modalStates:N,openModal:k,showInvalidEmailMessage:r,toggleMenu:e=>{typeof t.value[e]<"u"&&(t.value[e]=!t.value[e])}}}}).mount(c)}}document.addEventListener("DOMContentLoaded",()=>{new D});
//# sourceMappingURL=footer.js.map
