<!DOCTYPE html>
<!-- saved from url=(0116)https://www.allbirds.com/web-pixels@73b305c4w82c1918fpb7086179m603a4010/custom/web-pixel-17334352@22/sandbox/modern/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Allbirds: Comfortable, Sustainable Shoes &amp; Apparel</title>
    <script src="./s73b305c4w82c1918fpb7086179m603a4010m.js.download"></script>

    <script type="text/javascript">
  (function(shopify) {shopify.extend('WebPixel::Render', function(api) {
var analytics=api.analytics,browser=api.browser,init=api.init;
(()=>{var O=e=>typeof e!="string"||e.length===0?"":e.charAt(0).toUpperCase()+e.slice(1);var v="GTM-5NKRGTHN",Q="GTM-TH8KRSBJ",Qe="GTM-WWLLK4FG",ge="2024-04",A="us1-devbirds",K="us2-devbirds",B="us3-devbirds",z="us4-devbirds",H="rebrand-devbirds",N="allbirds-partners",$="allbirdseu-dev",j="allbirdsuk-dev",P="weareallbirds",G="allbirdseu",Y="allbirdsuk",ee="cc2bfe76ec2340aea2136ea2806ae40c",b="fd95b50c6c7c40faade23db808cecfd1",et="2f960e0cac903df6ecfe9bee117c1af00b63b545c64585fc4d77a752c8e25494",M="b020eb549cf3ef3406e460b6b16e44d07a870d4c80ee5c2a14506a1bb6366417",F={apiKey:"configure_api_key",organization:"configure_organization"},tt="8776313",V="8776469";var ne={BUTTON_TYPE:"button",CHECKOUT_LOCATION:"checkout"},D={contact_information:1,shipping_method:2,payment_method:3,thank_you:4},E={ENVIRONMENTS:{development:{dataDogSecret:"pubc6ad3e51ca841e98ee216de1da17b49c",dataDogEnv:"dev"},staging:{dataDogSecret:"pubc6ad3e51ca841e98ee216de1da17b49c",dataDogEnv:"test"},production:{dataDogSecret:"pub75727705086793f9de48d47553dd0fe9",dataDogEnv:"prod"}}},x={TOKEN:"5cfec9b7f4574339a9ce7274f57dedb4",ENVIRONMENTS:{development:"dev",us:"us",eu:"eu",uk:"uk"}},h={US:"US",UK:"UK",EU:"EU"};var J="checkout";var ye="SMS",Ee="msrp";var T={ALLBIRDS_EMAIL:"allbirds-identified-email",ALLBIRDS_ENCRYPTED_EMAIL:"allbirds-encrypted-email",ALLBIRDS_ID:"allbirds_id",DYNAMIC_YIELD:"_dyjsession",DYNAMIC_YIELD_SERVER:"_dyid_server",ITERABLE_CAMPAIGN_ID:"iterable-campaign-id",ITERABLE_TEMPLATE_ID:"iterable-template-id",PREFERRED_STORE:"allbirds-preferred-store",USER_STATE:"allbirds-user-state"},te="1rPF2XhPLMKZS39MROI5nrujMIY",he=`-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDL0bn59V0XP6gfLZSudymp1o3L
5t5tNNJNgzzSmuqYjVV48FK2ofQsSp3idXB+djySq51UABozutwIRQiiltaP/X3u
TjJEuuYGn2L7nGRnn/HPWAa+OScm4FkNLgqKGfPNz+6vSW8Ab0XYZBNLLsTy+ulP
jnn6iRdveAo2LRZ64wIDAQAB
-----END PUBLIC KEY-----`,ke="OptanonConsent",g={[A]:{shopId:h.US,gtmId:v,shopifyAccessToken:"67b9e0744c24299ae585c1abdf26dad6",iterableApiKey:b,dynamicYieldConfigs:{apiKey:M,organization:V},rudderStackId:"1xEmwnbSXytFtBkBAc7P0e79vg1",...E.ENVIRONMENTS.development},[K]:{shopId:h.US,gtmId:v,shopifyAccessToken:"129a0c21d08a1416193c9ff11b5523fb",iterableApiKey:b,dynamicYieldConfigs:{apiKey:M,organization:V},rudderStackId:"1xEmwnbSXytFtBkBAc7P0e79vg1",...E.ENVIRONMENTS.development},[B]:{shopId:h.US,gtmId:v,shopifyAccessToken:"841b439868b30297acdcea315d3658e7",iterableApiKey:b,dynamicYieldConfigs:{apiKey:M,organization:V},rudderStackId:"1xEmwnbSXytFtBkBAc7P0e79vg1",...E.ENVIRONMENTS.development},[z]:{shopId:h.US,gtmId:v,shopifyAccessToken:"5266b56b592d14a403d1cc5658c29a17",iterableApiKey:b,dynamicYieldConfigs:{apiKey:M,organization:V},rudderStackId:"1xEmwnbSXytFtBkBAc7P0e79vg1",...E.ENVIRONMENTS.development},[H]:{shopId:h.US,gtmId:Qe,shopifyAccessToken:"4eaf0d54e7e027739f11bd7df6195d1b",iterableApiKey:b,dynamicYieldConfigs:{apiKey:M,organization:V},rudderStackId:"1xEmwnbSXytFtBkBAc7P0e79vg1",...E.ENVIRONMENTS.development},[N]:{shopId:h.US,gtmId:v,shopifyAccessToken:"53dcbef5243f4b616660739d74a753bd",iterableApiKey:b,dynamicYieldConfigs:{apiKey:M,organization:V},rudderStackId:te,...E.ENVIRONMENTS.staging},[$]:{shopId:h.EU,gtmId:v,shopifyAccessToken:"66011021640d1f2d1af0cc53026dbe2e",iterableApiKey:b,dynamicYieldConfigs:F,rudderStackId:te,...E.ENVIRONMENTS.staging},[j]:{shopId:h.UK,gtmId:v,shopifyAccessToken:"c44c85d63cc43be5c07d695ae7d3be97",iterableApiKey:b,dynamicYieldConfigs:F,rudderStackId:te,...E.ENVIRONMENTS.staging},[P]:{shopId:h.US,gtmId:Q,shopifyAccessToken:"00358b8c7409badfde97691ba14de468",iterableApiKey:ee,dynamicYieldConfigs:{apiKey:et,organization:tt},rudderStackId:"1wsEr0lioiZzgx5iZd40tVWiUJI",...E.ENVIRONMENTS.production},[G]:{shopId:h.EU,gtmId:Q,shopifyAccessToken:"ac30d96966bf8c3ad2e59371c2a0fb19",iterableApiKey:ee,dynamicYieldConfigs:F,rudderStackId:"1wsEza7nlHbP8dYPr7xNh1g0whi",...E.ENVIRONMENTS.production},[Y]:{shopId:h.UK,gtmId:Q,shopifyAccessToken:"6a0e027e9acc781b426ebdcb4a44d327",iterableApiKey:ee,rudderStackId:"1wsEvk2JSySDpu4GkRrODFa3wfu",dynamicYieldConfigs:F,...E.ENVIRONMENTS.production}};var nt="checkouts";var S=()=>init?.context?.window?.location||window.location,oe=()=>(S()?.pathname).includes(nt);var Se=(e,t,o,n,i=0)=>{if(i<=3)if(window?.DD_LOGS?.logger&&window?.DD_LOGS?.logger[e])window?.DD_LOGS?.logger[e](t,o,n);else{let c=i+1;setTimeout(()=>{Se(t,e,o,n,c)},1e3*c)}},re=Se;var _e=5,Ie=1e3,ie="3.10.4",ot=e=>{let t=e.environmet?.myshopifyDomain?.toLowerCase();return t?t.includes("partners")||t.includes("-dev")?x.ENVIRONMENTS.development:t.includes("eu")?x.ENVIRONMENTS.eu:t.includes("uk")?x.ENVIRONMENTS.uk:x.ENVIRONMENTS.us:x.ENVIRONMENTS.development},rt=(e,t,o={})=>{let n=t instanceof Error?t:new Error(e),i=new Date().toISOString(),c=window?.rudderanalytics?.getUserId()||"",d=S();return{agentPlatform:"browser",bindStack:null,bindTime:null,console:[],customer:{application:ot(o),correlationId:crypto.randomUUID(),sessionId:"",token:x.TOKEN,userId:c,version:""},entry:"direct",environment:{age:0,dependencies:{TrackJS:ie},originalUrl:d?.href,referrer:document.referrer,userAgent:navigator.userAgent,viewportHeight:init?.context?.window?.innerHeight,viewportWidth:init?.context?.window?.innerWidth},message:e,metadata:Object.entries(o).map(([l,p])=>({key:l,value:JSON.stringify(p)})),nav:[],network:[],url:d?.href,stack:n.stack,timestamp:i,visitor:[],version:ie,throttled:0}},it=async e=>{let t=`https://capture.trackjs.com/capture?token=${x.TOKEN}&v=${ie}`;try{let o=await fetch(t,{method:"POST",headers:{"Content-Type":"text/plain",Accept:"*/*","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(e)});if(!o.ok)throw new Error(`TrackJS API error: ${o.status}`);console.log("Error successfully sent to TrackJS")}catch(o){console.error("Failed to send error to TrackJS:",o)}},Ce=(e,t,o={},n=0)=>{console.log("trackJSLogRetry attempt:",{retryCount:n,message:e,error:t,metadata:o});try{let i=rt(e,t,o);it(i)}catch(i){n<_e?(console.log(`TrackJS send failed, retrying in ${Ie}ms...`,i),setTimeout(()=>{Ce(e,i,o,n+1)},Ie)):console.warn(`Failed to send error to TrackJS after max ${_e} retries`,i)}},we=Ce;var r=class e{constructor(){this.instance=null,this.infoLogLevelEnabled=!1}checkLoggingEnabled(){return sessionStorage.getItem("webPixelDebug")&&(this.infoLogLevelEnabled=!0),this.infoLogLevelEnabled}static getInstance(){return this.instance||(this.instance=new e),this.instance}static _getEnvironmentInfo(t){return t?{pixelName:y.getEnvironmet()?.pixelName,environmet:y.getEnvironmet()}:{}}static info(t,o,n={environmentInfoEnabled:!0}){let i=this._getEnvironmentInfo(n?.environmentInfoEnabled);e.getInstance().checkLoggingEnabled()&&(console.log(t,{...i},{...o}),re("info",t,{...i,...o}))}static error(t,o,n={environmentInfoEnabled:!0},i={}){let c=this._getEnvironmentInfo(n?.environmentInfoEnabled);console.error(t,{...c},o),re("error",t,{...c,...i},o),we(t,o,{...c,...i})}static warn(t,o,n={environmentInfoEnabled:!0}){let i=this._getEnvironmentInfo(n?.environmentInfoEnabled);console.warn(t,{...i},{...o})}};var y=class e{constructor(){this.instance=null,this.currentEnvConfigs=null}static createEnvironment(t,o,n,i){return{...t,myshopifyDomain:o,storefrontUrl:n,pixelName:i||"Unknown Pixel Name"}}static getInstance(){return this.instance||(this.instance=new e),this.instance}static initEnvironment(t,o,n){let i=null;return t.includes(A)?i=g[A]:t.includes(K)?i=g[K]:t.includes(B)?i=g[B]:t.includes(z)?i=g[z]:t.includes(H)?i=g[H]:t.includes(P)?i=g[P]:t.includes($)?i=g[$]:t.includes(G)?i=g[G]:t.includes(j)?i=g[j]:t.includes(Y)?i=g[Y]:t.includes(N)&&(i=g[N]),i||r.error(`LogUtils:PixleEnvironment - Shopify domain: ${t} is not mapped, resulting in: ${i}`,new Error("Environment not initialized"),{environmentInfoEnabled:!1}),this.getInstance().currentEnvConfigs=this.createEnvironment(i,t,o,n),this.getInstance().currentEnvConfigs||r.error("LogUtils:PixleEnvironment - Environment not initialized, Pixel will not work!",new Error("Environment not initialized"),{environmentInfoEnabled:!1}),this.getInstance().currentEnvConfigs}static getEnvironmet(){return e.getInstance().currentEnvConfigs||r.error("LogUtils:PixleEnvironment -Environment not initialized, Pixel will not work!",new Error("Environment not initialized"),{environmentInfoEnabled:!1}),e.getInstance().currentEnvConfigs}};var be={USD:{units:{symbol:"$",decimal:".",thousand:",",precision:0,format:"%s%v",suffix:""},unitsAndSubUnits:{symbol:"$",decimal:".",thousand:",",precision:2,format:"%s%v",suffix:""},analytics:{symbol:"",decimal:".",thousand:"",precision:2,format:"%s%v",suffix:""}},GBP:{units:{symbol:"\xA3",decimal:".",thousand:",",precision:0,format:"%s%v",suffix:""},unitsAndSubUnits:{symbol:"\xA3",decimal:".",thousand:",",precision:2,format:"%s%v",suffix:""},analytics:{symbol:"",decimal:".",thousand:"",precision:2,format:"%s%v",suffix:""}},AUD:{units:{symbol:"$",decimal:".",thousand:",",precision:0,format:"%s%v",suffix:" AUD"},unitsAndSubUnits:{symbol:"$",decimal:".",thousand:",",precision:2,format:"%s%v",suffix:" AUD"},analytics:{symbol:"",decimal:".",thousand:"",precision:2,format:"%s%v",suffix:""}},NZD:{units:{symbol:"$",decimal:".",thousand:",",precision:0,format:"%s%v",suffix:" NZD"},unitsAndSubUnits:{symbol:"$",decimal:".",thousand:",",precision:2,format:"%s%v",suffix:" NZD"},analytics:{symbol:"",decimal:".",thousand:"",precision:2,format:"%s%v",suffix:""}},EUR:{units:{symbol:"\u20AC",decimal:".",thousand:",",precision:0,format:"%s%v",suffix:""},unitsAndSubUnits:{symbol:"\u20AC",decimal:".",thousand:",",precision:2,format:"%s%v",suffix:""},analytics:{symbol:"",decimal:".",thousand:"",precision:2,format:"%s%v",suffix:""}},JPY:{units:{symbol:"\xA5",thousand:",",precision:0,format:"%s%v",suffix:""},unitsAndSubUnits:{symbol:"\xA5",thousand:",",precision:0,format:"%s%v",suffix:""},analytics:{symbol:"",thousand:"",precision:0,format:"%s%v",suffix:""}}};var xe=e=>{let t=e?.lineItems?.map(n=>`${n.id}=${n.quantity}`).join(","),o=e&&`${e.token}:${t}`;return r.info("LogUtils:LocalStore - getCachedId",{checkoutCached:o}),o},Te=e=>{let t=localStorage.getItem(e);if(t)try{let o=JSON.parse(t);return r.info("LogUtils:LocalStore - getItem",{cartCachedObj:o}),o}catch(o){return r.error("LogUtils:LocalStore - Error parsing cached cart",o),null}return null},Ue=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))};var at=e=>`${e}/api/${ge}/graphql.json`,st=async(e,t,o,n)=>{let i=at(e),d=await(await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Shopify-Storefront-Access-Token":t},body:JSON.stringify({query:o,variables:n})})).json();return r.info("LogUtils:ShopifyService - _fetchStorefrontData",{resutlJson:d}),d},Re=async(e,t,o)=>{let i=await st(e,t,`
    query getProductsVariants($ids: [ID!]!) {
      nodes(ids: $ids) {
        ... on ProductVariant {
          sku
          id
          size: title
          compareAtPrice {
            amount
          }
          price {
            amount
          }
          product {
            handle
            id
            productType
            tags
            title

            masterName: metafield(namespace: "allbirds", key: "master-name") {
              value
            }
            colorName: metafield(namespace: "allbirds", key: "color-name") {
              value
            }
            masterId: metafield(namespace: "allbirds", key: "master-id") {
              value
            }
            gender: metafield(namespace: "allbirds", key: "gender") {
              value
            }
            cfMetadata: metafield(namespace: "allbirds", key: "cf-metadata") {
              value
            }
            contentfulImages: metafield(namespace: "allbirds", key: "images") {
              value
            }
            hues: metafield(namespace: "allbirds", key: "hues") {
              value
            }
            material: metafield(namespace: "allbirds", key: "material") {
              value
            }
            silhouette: metafield(namespace: "allbirds", key: "silhouette") {
              value
            }
            priceTier: metafield(namespace: "allbirds", key: "price-tier") {
              value
            }
            edition: metafield(namespace: "allbirds", key: "edition") {
              value
            }
          }
        }
      }
  }`,{ids:o});return r.info("LogUtils:ShopifyService - fetchProductVariants",{result:i}),i};var Le=e=>e&&e.slice(e.lastIndexOf("/")+1),ct=e=>e&&e.checkout&&e.checkout.lineItems,dt=({data:e,errors:t})=>{if(t)throw new Error(`Error on handleQueryResult - GraphQL result - errorsJson: ${JSON.stringify(t)}`);let o=e?.nodes?.reduce((n,i)=>{if(i){let{sku:c,id:d,size:l,compareAtPrice:p,price:m,product:u}=i,f=u?.contentfulImages?.value&&JSON.parse(u.contentfulImages.value),L=f&&f[0],w={name:u?.masterName?.value,fullName:u?.title?.replace(/&#39;/g,"'").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),price_tier:u?.priceTier?.value,gender:u?.gender?.value,category:u?.productType,color:u?.colorName?.value,edition:u?.edition?.value,hues:u?.hues?.value,material:u?.material?.value,images:f,featuredImage:L,silhouette:u?.silhouette?.value,cfMetadata:u?.cfMetadata&&JSON.parse(u.cfMetadata.value),product_id:Le(u.id),tags:u.tags,handle:u.handle},k=Le(d),me=0;try{me=parseFloat(m?.amount)}catch(Ze){r.error("LogUtils:CartService - fullProductList - error parsing amount",Ze)}return{...n,[k]:{...w,id:d,sku:c,variant_id:k,size:l,unformattedCompareAtPrice:p?.amount,unformattedPrice:m?.amount,price:me}}}},{});return r.info("LogUtils:CartService - fullProductList",{fullProductList:o}),o},lt=(e,t)=>{let o=e.map(n=>{let i=t[n.id];return{...n,...i}});return r.info("LogUtils:CartService - transformCart",{transformLineItem:o}),o},q=async e=>{let t=y.getEnvironmet();try{let o=xe(e?.checkout),n=Te(o);if(n)return n;let i=e?.checkout?.lineItems?.map(u=>`gid://shopify/ProductVariant/${u.variant.id}`),{storefrontUrl:c,shopifyAccessToken:d}=t,l=await Re(c,d,i),p=dt(l),m=lt(ct(e),p);return Ue(o,m),r.info("LogUtils:CartService - getFullCart",{fullCart:m}),m}catch(o){return r.error("LogUtils:CartService - getFullCart - error",o),[]}},ve=e=>e?.checkout?.currencyCode,Ae=e=>{let t=e?.checkout?.discountApplications;if(t?.length>0){let o=t.map(n=>n.title).join(",");return r.info("LogUtils:CartService - getDiscountCodes",{discountCsv:o}),o}return""},Ne=e=>{let t=Object.entries(D).filter(([,o])=>o===e);return t&&t[0]&&t[0][0]?t[0][0]:""},Pe=e=>{let t=e?.checkout?.delivery?.selectedDeliveryOptions;return t&&t.length?t[0].title:null};var a=()=>window.analytics;function ut(e,t,o){let n=a();n&&n.track("Account Creation Completed",e||{},s(t),o)}function pt(e,t,o){let n=a();n&&n.track("Account Creation Started",e||{},s(t),o)}function ae(e,t,o){let n=a();n&&n.track("Call to Action Clicked",e||{},s(t),o)}function ft(e,t,o){let n=a();n&&n.track("Cart Upsell Size Selected",e||{},s(t),o)}function mt(e,t,o){let n=a();n&&n.track("Cart Upsell Swatch Clicked",e||{},s(t),o)}function gt(e,t,o){let n=a();n&&n.track("Cart Viewed",e||{},s(t),o)}function se(e,t,o){let n=a();n&&n.track("Checkout Failure",e||{},s(t),o)}function ce(e,t,o){let n=a();n&&n.track("Checkout Started",e||{},s(t),o)}function yt(e,t,o){let n=a();n&&n.track("Checkout Step Completed",e||{},s(t),o)}function de(e,t,o){let n=a();n&&n.track("Checkout Step Viewed",e||{},s(t),o)}function Et(e,t,o){let n=a();n&&n.track("Details Accordion Opened",e||{},s(t),o)}function ht(e,t,o){let n=a();n&&n.track("Discover Clicked",e||{},s(t),o)}function kt(e,t,o){let n=a();n&&n.track("Discover Viewed",e||{},s(t),o)}function St(e,t,o){let n=a();n&&n.track("Experiment Viewed",e||{},s(t),o)}function _t(e,t,o){let n=a();n&&n.track("Footer Link Clicked",e||{},s(t),o)}function It(e,t,o){let n=a();n&&n.track("Gift Message Clicked",e||{},s(t),o)}function Ct(e,t,o){let n=a();n&&n.track("Gift Message Submitted",e||{},s(t),o)}function wt(e,t,o){let n=a();n&&n.track("Global Banner Link Clicked",e||{},s(t),o)}function bt(e,t,o){let n=a();n&&n.track("Homepage Hero Clicked",e||{},s(t),o)}function xt(e,t,o){let n=a();n&&n.track("Homepage Module Clicked",e||{},s(t),o)}function Tt(e,t,o){let n=a();n&&n.track("Mini Navigation Clicked",e||{},s(t),o)}function Ut(e,t,o){let n=a();n&&n.track("Navigation Clicked",e||{},s(t),o)}function Rt(e,t,o){let n=a();n&&n.track("Navigation Viewed",e||{},s(t),o)}function le(e,t,o){let n=a();n&&n.track("Order Completed",e||{},s(t),o)}function Lt(e,t,o){let n=a();n&&n.track("PDP Module Clicked",e||{},s(t),o)}function vt(e,t,o){let n=a();n&&n.track("Product Added",e||{},s(t),o)}function At(e,t,o){let n=a();n&&n.track("Product Clicked",e||{},s(t),o)}function Nt(e,t,o){let n=a();n&&n.track("Product Image Clicked",e||{},s(t),o)}function Pt(e,t,o){let n=a();n&&n.track("Product Image Scroll",e||{},s(t),o)}function Dt(e,t,o){let n=a();n&&n.track("Product List Clicked",e||{},s(t),o)}function Ot(e,t,o){let n=a();n&&n.track("Product List Feature Clicked",e||{},s(t),o)}function Mt(e,t,o){let n=a();n&&n.track("Product List Filtered",e||{},s(t),o)}function Vt(e,t,o){let n=a();n&&n.track("Product List Viewed",e||{},s(t),o)}function Gt(e,t,o){let n=a();n&&n.track("Product Removed",e||{},s(t),o)}function Yt(e,t,o){let n=a();n&&n.track("Product Shared",e||{},s(t),o)}function Kt(e,t,o){let n=a();n&&n.track("Products Searched",e||{},s(t),o)}function Bt(e,t,o){let n=a();n&&n.track("Products Search Initiated",e||{},s(t),o)}function zt(e,t,o){let n=a();n&&n.track("Product Viewed",e||{},s(t),o)}function Jt(e,t,o){let n=a();n&&n.track("Push Notification Tapped",e||{},s(t),o)}function Ft(e,t,o){let n=a();n&&n.track("Recommendations Clicked",e||{},s(t),o)}function Ht(e,t,o){let n=a();n&&n.track("Reviews Filtered",e||{},s(t),o)}function $t(e,t,o){let n=a();n&&n.track("Reviews Load More",e||{},s(t),o)}function jt(e,t,o){let n=a();n&&n.track("Reviews Searched",e||{},s(t),o)}function qt(e,t,o){let n=a();n&&n.track("Reviews Sorted",e||{},s(t),o)}function Xt(e,t,o){let n=a();n&&n.track("Reviews Stars Clicked",e||{},s(t),o)}function U(e){a=e.analytics?()=>e.analytics||window.analytics:a}function Wt(e,t,o){let n=a();n&&n.track("Size Guide Opened",e||{},s(t),o)}function Zt(e,t,o){let n=a();n&&n.track("Size Selector Clicked",e||{},s(t),o)}function X(e,t,o){let n=a();n&&n.track("User Marketing Preference",e||{},s(t),o)}function s(e={}){return{...e,context:{...e.context||{},ruddertyper:{sdk:"analytics.js",language:"javascript",rudderTyperVersion:"1.0.0-beta.5",trackingPlanId:"tp_1uZ45DFhpGdImHhzH0baIm3XHCJ",trackingPlanVersion:"103"}}}}var Qt={setRudderTyperOptions:U,productListFiltered:Mt,productViewed:zt,reviewsStarsClicked:Xt,productClicked:At,userMarketingPreference:X,checkoutStepCompleted:yt,cartViewed:gt,productListViewed:Vt,productShared:Yt,experimentViewed:St,productAdded:vt,checkoutStarted:ce,orderCompleted:le,productListFeatureClicked:Ot,productRemoved:Gt,checkoutStepViewed:de,miniNavigationClicked:Tt,checkoutFailure:se,pushNotificationTapped:Jt,homepageHeroClicked:bt,callToActionClicked:ae,homepageModuleClicked:xt,accountCreationCompleted:ut,footerLinkClicked:_t,globalBannerLinkClicked:wt,productsSearched:Kt,accountCreationStarted:pt,navigationViewed:Rt,navigationClicked:Ut,productsSearchInitiated:Bt,reviewsSorted:qt,reviewsSearched:jt,discoverViewed:kt,discoverClicked:ht,productImageScroll:Pt,giftMessageSubmitted:Ct,productListClicked:Dt,productImageClicked:Nt,sizeSelectorClicked:Zt,detailsAccordionOpened:Et,sizeGuideOpened:Wt,reviewsLoadMore:$t,giftMessageClicked:It,reviewsFiltered:Ht,recommendationsClicked:Ft,cartUpsellSizeSelected:ft,cartUpsellSwatchClicked:mt,pdpModuleClicked:Lt},eo=new Proxy(Qt,{get(e,t){return typeof t=="string"&&e.hasOwnProperty(t)?e[t]:()=>{console.warn(`\u26A0\uFE0F  You made an analytics call (${String(t)}) that can't be found. Either:
    a) Re-generate your ruddertyper client: \`npx rudder-typer\`
    b) Add it to your Tracking Plan: https://api.rudderstack.com/trackingplans/tp_1uZ45DFhpGdImHhzH0baIm3XHCJ`);let o=a();o&&o.track("Unknown Analytics Call Fired",{method:t},s())}}});var De=()=>init?.context?.window?.innerHeight,Oe=()=>init?.context?.window?.innerWidth;var Me=!1,tn=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/x|y/g,e=>(Math.random()*16|(e==="y"?8:0)).toString(16)),nn="allbirds-checkout-ext",on="Allbirds Checkout Extensibility",rn="_WEB",an=()=>ue?.context?.navigator?.language||"en-US",sn=(e,t)=>({clientName:on,geoCode:`${t}${rn}`,locale:an(),shopName:e.split(".")[0],isHydrogen:!1}),ue=({myshopifyDomain:e})=>{try{let t=y.getEnvironmet();if(!Me){let o=tn();(function(n,i,c,d,l){n=n[l]=n[l]||{q:[],onReady:function(p){n.q.push(p)}},l=i.createElement(c),l.async=1,l.src=d,d=i.getElementsByTagName(c)[0],d.parentNode.insertBefore(l,d)})(window,document,"script","https://www.datadoghq-browser-agent.com/us1/v5/datadog-logs.js","DD_LOGS"),window.DD_LOGS.onReady(function(){window.DD_LOGS.init({clientToken:t?.dataDogSecret,service:nn,env:t?.dataDogEnv,forwardErrorsToLogs:!0,sessionSampleRate:100,beforeSend:n=>{Object.assign(n,{...sn(e,t?.shopId),pageId:o})}})}),Me=!0,r.info("LogUtil:Datadog - initialized",{pageId:o,environment:t})}}catch(t){r.error("LogUtil:Datadog - init error",t,{environmentInfoEnabled:!1})}},Ve=()=>{try{return(window?.DD_LOGS?.getInternalContext&&window?.DD_LOGS?.getInternalContext())?.session_id}catch(e){r.error("LogUtil:Datadog - sessionId error",e,{environmentInfoEnabled:!1})}};var I=e=>{let t=RegExp(`${e}=[^;]+`).exec(document.cookie),o=decodeURIComponent(t?t.toString().replace(/^[^=]+./,""):"");return r.info("LogUtils:CookiesService - getCookie",{cookiename:e,cookie:o}),o},Ge=()=>I(T.ALLBIRDS_ENCRYPTED_EMAIL),Ye=()=>I(T.USER_STATE),Ke=()=>I(T.DYNAMIC_YIELD_SERVER),Be=()=>I(T.DYNAMIC_YIELD),ze=()=>I(T.ALLBIRDS_ID),Je=()=>I(T.ITERABLE_CAMPAIGN_ID),Fe=()=>I(T.ITERABLE_TEMPLATE_ID),He=()=>window.rudderanalytics?.getAnonymousId&&window.rudderanalytics.getAnonymousId();var W=async e=>{if(typeof e!="string")return"";if(TextEncoder===void 0||crypto===void 0||crypto.subtle===void 0||crypto.subtle.digest===void 0||Uint8Array===void 0||Array.from===void 0)throw new Error("Native crypto functions are not supported");let t=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",t),i=Array.from(new Uint8Array(o)).map(c=>c.toString(16).padStart(2,"0")).join("");return r.info("LogUtils:HashService - hash",{string:e,hashHex:i}),i};var $e=e=>{let t=new window.JSEncrypt;t.setPublicKey(he);let o=t.encrypt(e);return r.info("LogUtils:CypherService - encryptEmail",{email:e,encryptedEmail:o}),o};var je=(e,t,o)=>{if(!o)return!_.isMatch(e,t);let{email:n,...i}=e,{email:c,...d}=t,l=!_.isMatch(i,d);return r.info("LogUtils:CustomerService - shouldUpdateUser",{shouldUpdateUser:l}),l},cn=async()=>{let e={dynamic_yield_session_id:await Be()||null,dynamic_yield_server_id:await Ke()||null,anonymousId:He(),auth_state:await Ye()||null,shopify_domain:S().host,allbirds_id:await ze()||null,session_id:Ve(),screen_height:De(),screen_width:Oe()};return r.info("LogUtils:CustomerService - getDefaultUserTraits",{defaultUserTraits:e}),e},qe=async({email:e,additionalTraits:t={}})=>{let o={};if(e){let c=await W(e),d=await Ge(),l=$e(e);o={email:d||l,is_using_encrypted_email:!0,hashed_email:c}}let n=await cn(),i=_.omitBy({...n,...o,...t},_.isNil);return r.info("LogUtils:CustomerService - getUserTraits",{defaultUserTraits:n,supplementaryTraits:o,additionalTraits:t}),i};var pe=async(e,t={type:"text/javascript"})=>{r.info("LogUtils:LibraryUtils - loadLibrary",{src:e,options:t});let o=await W(e);if(!document.getElementById(o)){let n=document.createElement("script");n.src=e,n.type=t?.type,e.id=o,n.async=!0,document.head.appendChild(n)}},R=async e=>{let t=0;return new Promise(o=>{let n=setInterval(()=>{let i=t>10;(window[e]||i)&&(clearInterval(n),o(!!window[e]||i)),t++},200)})};var dn="C0002";var ln="groups",un="groups=C0001:1,C0002:1,C0003:1,C0004:1,C0005:1",pn="groups=C0001:0,C0002:0,C0003:0,C0004:0,C0005:0",fn=()=>{let e;try{e=I(ke),r.info("LogUtils:ConsentService: getConsentCookie",{cookie:e})}catch(t){r.error("LogUtils:ConsentService: Error getting consent cookie",t)}return e},mn=()=>{let e=fn(),t;e?t=e:t=yn()?un:pn;let o=new URLSearchParams(t),n=o.get(ln);return r.info("LogUtils:ConsentService: getConsentModeGroups - ",{allParams:o,groups:n}),n},gn=e=>{let t=mn();return t?.includes(e)&&t?.includes(`${e}:1`)};var C=()=>gn(dn);var yn=()=>{let{myshopifyDomain:e}=init?.data?.shop||{};return e.includes(A)||e.includes(P)||e.includes(N)?!0:e.includes(G)?!1:!e.includes(Y)};var En="INVENTORY_ERROR",Xe=e=>e?.data?.alert?.type===En;var hn=e=>{"use strict";try{r.info("LogUtils:Rudderstack -  #initialize"),window.RudderSnippetVersion="3.0.60";var t="rudderanalytics";window[t]||(window[t]=[]);var o=window[t];if(Array.isArray(o))if(o.snippetExecuted==="true")r.warn("LogUtils:Rudderstack - SDK snippet already included");else{o.snippetExecuted="true",window.rudderAnalyticsBuildType="legacy";var n="https://cdn.rudderlabs.com/v3",i="rsa.min.js",c="async",d=["setDefaultInstanceKey","load","ready","page","track","identify","alias","group","reset","setAnonymousId","startSession","endSession","consent"];d.forEach(f=>{o[f]=function(L){return function(){if(Array.isArray(window[t]))o.push([L].concat(Array.prototype.slice.call(arguments)));else{var w;(w=window[t][L])===null||w===void 0||w.apply(window[t],arguments)}}}(f)});let m=!1;try{window.rudderAnalyticsBuildType="modern"}catch{}var l=document.head||document.getElementsByTagName("head")[0],p=document.body||document.getElementsByTagName("body")[0];window.rudderAnalyticsAddScript=function(f,L,w){var k=document.createElement("script");k.src=f,k.setAttribute("data-loader","RS_JS_SDK"),L&&w&&k.setAttribute(L,w),c==="async"?k.async=!0:c==="defer"&&(k.defer=!0),l?l.insertBefore(k,l.firstChild):p.insertBefore(k,p.firstChild)},window.rudderAnalyticsMount=function(){typeof globalThis>"u"&&(Object.defineProperty(Object.prototype,"__globalThis_magic__",{get:function(){return this},configurable:!0}),__globalThis_magic__.globalThis=__globalThis_magic__,delete Object.prototype.__globalThis_magic__),window.rudderAnalyticsAddScript("".concat(n,"/").concat(window.rudderAnalyticsBuildType,"/").concat(i),"data-rsa-write-key",e)},typeof Promise>"u"||typeof globalThis>"u"?window.rudderAnalyticsAddScript("https://polyfill-fastly.io/v3/polyfill.min.js?version=3.111.0&features=Symbol%2CPromise&callback=rudderAnalyticsMount"):window.rudderAnalyticsMount();let u={logLevel:"ERROR",loadIntegration:!1,storage:{encryption:{version:"legacy"}},consentManagement:{enabled:!1},queueOpts:{maxRetryDelay:36e4,minRetryDelay:1e3,backoffFactor:2,backoffJitter:0,maxAttempts:10,maxItems:100,batch:{enabled:!1,maxItems:100,maxSize:512*1024,flushInterval:6e4}},onLoaded:()=>{window.rudderanalytics.page(),r.warn("LogUtils:Rudderstack - SDK initialized - load() executed")}};o.load(e,"https://allbirds-dataplane.rudderstack.com",u)}r.info("LogUtils:Rudderstack - pixel loaded!",{window})}catch(m){r.warn("LogUtils:Rudderstack - #initialize | error loading rudderstack sdk",{},m)}},kn=async()=>{try{if(!oe()){r.warn("LogUtils:Rudderstack - Not loading pixel outside checkout",{},{environmentInfoEnabled:!1});return}let{myshopifyDomain:e,storefrontUrl:t}=init.data.shop||{},o=y.initEnvironment(e,t,"rudderstack");if(!o){r.error("LogUtils:Rudderstack - Environment not initialized, Pixel will not work!",new Error("Environment not initialized"),{environmentInfoEnabled:!1});return}if(!C()){r.warn("LogUtils:Rudderstack - Not loading pixel without performance consent");return}hn(o.rudderStackId),pe("https://cdn.allbirds.com/raw/upload/v1717589306/jsEncrypt.js"),pe("https://cdn.allbirds.com/raw/upload/v1717607923/lodash.min.js"),ue({myshopifyDomain:e}),r.info("LogUtils:Rudderstack - runPixel",{environment:o,r:window.rudderanalytics||"rudderanalytics=null"})}catch(e){r.error("LogUtils:Rudderstack - runPixel error",e,{environmentInfoEnabled:!1})}},Sn=(e,t)=>({category:e.category,color_name:e.color,edition:O(e.edition),hue:O(e.hues),material:O(e.material),silhouette:O(e.silhouette),image_url:e?.featuredImage?.src,name:e.name,gender:O(e.gender),price:e.price,price_tier:e.price_tier,product_id:parseInt(e.product_id),quantity:e.quantity,sku:e.sku,handle:e.handle,url:`/products/${e.handle}`,variant_id:e.variant_id,variant_title:e.size,variant_url:`/products/${e.handle}?size=${e.size}`,on_sale:e.price_tier?e.price_tier!==Ee:null,...t}),fe=(e,t,o)=>{let n=t?.checkout?.token,i=o.map((u,f)=>Sn(u,{position:f})),{revenue:c,subtotalPrice:d}=o.reduce((u,f)=>(f?.finalLinePrice?.amount||r.info("LogUtils:Rudderstack - no finalLinePrice",{item:f}),{revenue:u.revenue+f?.price*f?.quantity,subtotalPrice:u.subtotalPrice+(f?.finalLinePrice?.amount||0)}),{revenue:0,subtotalPrice:0}),l=ve(t),p=Pe(t),m={checkout_id:n,discount:t?.checkout?.discountsAmount?.amount,shipping:t?.checkout?.shippingLine?.price?.amount,shipping_method:p,subtotal:t?.checkout?.subtotalPrice?.amount,tax:t?.checkout?.totalTax?.amount,total:t?.checkout?.totalPrice?.amount,coupon:Ae(t),checkout_url:S().href,currency:l,currency_symbol:be[l]?.units?.symbol,products:i,revenue:c,value:d};return r.info("LogUtils:Rudderstack - _generateCheckoutRudderstackPayload",{generatedCheckoutData:m}),m},_n=(e,t,o)=>{let{data:n}=e,i=Ne(t),{revenue:c,value:d,...l}=fe(e,n,o),p={...l,step:t,step_name:i};return r.info("LogUtils:Rudderstack - createCheckoutStepViewedPayload",{checkoutStepViewed:p}),p},In=(e,t)=>{let{data:o}=e,n=fe(e,o,t),i=o?.checkout?.order?.id,c=Je(),d=Fe();return{...n,campaignId:c,order_id:i,templateId:d}},We=async e=>{let t=xn(e),{email:o,additionalTraits:n,apiOptions:i}=t,c=await qe({email:o,additionalTraits:n}),d=window.rudderanalytics.getUserTraits&&window.rudderanalytics.getUserTraits();if(!je(d,c,o))return;let p=c?.hashed_email||window?.rudderanalytics?.getUserId()||"";r.info("LogUtils:Rudderstack - rudderStackIdentify",{identifyPayload:t,userId:p,proposedUserTraits:c,apiOptions:i}),window.rudderanalytics.identify(p,c,i)},Cn=(e={})=>{let t={message_medium:"Email",message_type:"All",placement:null,cms_product_id:null,sku:null,purpose:null},o={...t,placement:J,opt_in_status:e.data.checkout.buyerAcceptsEmailMarketing};if(X(o),r.info("LogUtils:Rudderstack - email rudderStackUserMarketingPreference",{emailMarketingPreferencePayload:o,r:window.rudderanalytics}),e.data.checkout.buyerAcceptsSmsMarketing){let n={...t,message_medium:ye,placement:J,opt_in_status:!0};X(n),r.info("LogUtils:Rudderstack - sms rudderStackUserMarketingPreference",{smsMarketingPreferencePayload:n,r:window.rudderanalytics})}},Z=async(e,t)=>{let{data:o}=e,n=await q(o),i=_n(e,t,n);de(i),r.info(`LogUtils:Rudderstack - rudderStackCheckoutStepViewed, step: ${t}`,{checkoutStepViewedPayload:i,event:e})},wn=(e,t)=>{let o=e?.length?e[0]:{},n={first_purchase_date:new Date().toISOString().split("T")[0],total_number_of_purchases:1,total_spent:t?.checkout?.totalPrice?.amount,first_purchased_product:o?.name,inferred_gender:o?.gender?.toLowerCase()},i=window?.rudderanalytics?.getUserId()||"";window.rudderanalytics.identify(i,{},{traits:n}),r.info("LogUtils:Rudderstack - identify with ephimeral traits",{userId:i,apiOptions:n})},bn=async e=>{let{data:t}=e,o=await q(t);wn(o,t);let n=In(e,o);le(n),r.info("LogUtils:Rudderstack - rudderStackOrderCompleted",{checkoutOrderPayload:n,event:e})},xn=e=>{let t=e?.data?.checkout,{email:o,smsMarketingPhone:n,buyerAcceptsEmailMarketing:i,buyerAcceptsSmsMarketing:c}=t;return{email:o,additionalTraits:{marketing_email_subscription:i,marketing_email_subscription_source:J},apiOptions:{traits:{phone:n,marketing_sms_subscription:c,marketing_sms_subscription_source:J}}}};analytics.subscribe("checkout_started",async e=>{try{let t=await R("JSEncrypt"),o=await R("DD_LOGS"),n=await R("rudderanalytics"),i=await R("_");if(!t||!i||!o||!n){r.warn("LogUtils:Rudderstack - Pixel libraries not yet initialized",{isJSEncryptLoaded:t,isDataDogLoaded:o,isRudderstackLoaded:n,isLodashLoaded:i},{environmentInfoEnabled:!1});return}if(!C()){r.warn("LogUtils:Rudderstack - Not triggering event without performance consent");return}let{data:c}=e,d=y.getEnvironmet(),l=await q(c),p=fe(e,c,l);U({analytics:window.rudderanalytics}),ce(p),Z(e,D.contact_information),r.info("LogUtils:Rudderstack - checkout_started event",{event:e,environment:d,eventData:c,checkoutStartedPayload:p,window})}catch(t){r.error("LogUtils:Rudderstack - checkout_started error",t,{environmentInfoEnabled:!1},{event:e,init})}});analytics.subscribe("checkout_address_info_submitted",async e=>{try{if(!C()){r.warn("LogUtils:Rudderstack - Not triggering event without performance consent");return}U({analytics:window.rudderanalytics}),await We(e),Cn(e),Z(e,D.shipping_method),r.info("LogUtils:Rudderstack - checkout_address_info_submitted event",{event:e,window,lib:window.JSEncrypt})}catch(t){r.error("LogUtils:Rudderstack - checkout_address_info_submitted error",t,{environmentInfoEnabled:!1},{event:e,init})}});analytics.subscribe("checkout_shipping_info_submitted",async e=>{try{if(!C()){r.warn("LogUtils:Rudderstack - Not triggering event without performance consent");return}U({analytics:window.rudderanalytics}),Z(e,D.payment_method),r.info("LogUtils:Rudderstack - checkout_shipping_info_submitted event",{event:e,window,lib:window.JSEncrypt})}catch(t){r.error("LogUtils:Rudderstack - checkout_shipping_info_submitted error",t,{environmentInfoEnabled:!1})}});analytics.subscribe("payment_info_submitted",async e=>{try{if(!C()){r.warn("LogUtils:Rudderstack - Not triggering event without performance consent");return}U({analytics:window.rudderanalytics}),r.info("LogUtils:Rudderstack - payment_info_submitted event",{event:e,window,lib:window.JSEncrypt})}catch(t){r.error("LogUtils:Rudderstack - payment_info_submitted error",t,{environmentInfoEnabled:!1},{event:e,init})}});analytics.subscribe("checkout_completed",async e=>{try{let t=await R("JSEncrypt"),o=await R("DD_LOGS"),n=await R("_");if(!t||!n||!o){r.warn("LogUtils:Rudderstack - Pixel libraries not yet initialized",{isJSEncryptLoaded:t,isDataDogLoaded:o,isLodashLoaded:n},{environmentInfoEnabled:!1});return}if(!C()){r.warn("LogUtils:Rudderstack - Not triggering event without performance consent");return}U({analytics:window.rudderanalytics}),await We(e),bn(e),Z(e,D.thank_you),r.info("LogUtils:Rudderstack - checkout_completed event",{event:e,window,lib:window.JSEncrypt})}catch(t){r.error("LogUtils:Rudderstack - checkout_completed error",t,{environmentInfoEnabled:!1},{event:e,init})}});analytics.subscribe("alert_displayed",e=>{try{if(!C()){r.warn("LogUtils:Rudderstack -  Not triggering event without performance consent");return}if(Xe(e)){let t={checkout_id:S().pathname,failure_reason:e?.data?.alert?.message};se(t)}r.info("LogUtils:Rudderstack -- alert_displayed",{event:e})}catch(t){r.error("LogUtils:Rudderstack -- alert_displayed error",t,{environmentInfoEnabled:!1})}});analytics.subscribe("clicked",e=>{try{if(!oe()){r.info("LogUtils:Rudderstack -  Not triggering event outside checkout",null,{environmentInfoEnabled:!1});return}if(!C()){r.warn("LogUtils:Rudderstack -  Not triggering event without performance consent",null,{environmentInfoEnabled:!1});return}let t=e?.data?.element?.id,o="";if(t?.includes("expressCheckout")){t?.includes("paypal")?o="paypal":t?.includes("google_pay")?o="googlepay":t?.includes("shop_pay")?o="shopay":t?.includes("amazon_pay")?o="amazonpay":t.includes("apple_pay")&&(o="applepay"),o===""&&(o=`untrack-${t}`),U({analytics:window.rudderanalytics});let n={type:ne.BUTTON_TYPE,location:ne.CHECKOUT_LOCATION,name:o,url:S()?.href};ae(n),r.info("LogUtils:Rudderstack -- clicked",{event:e,payload:n})}}catch(t){r.error("LogUtils:Rudderstack -- clicked error",t,{environmentInfoEnabled:!1})}});kn();})();


/*
	Build watermark for
	File: rudderstack-prod.js
	Packaged on custom-pixels-package-2025-07-17T19.21.12.358Z.zip
*/
});})(self.webPixelsManager.createShopifyExtend('17334352', 'custom'));

</script>

  </head>
  <body>

</body></html>