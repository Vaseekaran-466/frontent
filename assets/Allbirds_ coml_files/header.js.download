import{g as a,B as $e}from"./base-section.js";import{S as We}from"./swiper-core.js";import{r as f,w as U,l as $,c as Ge,k as Y,o as Ye,a as Ke}from"./vue.esm-bundler.js";import{j as je,k as F}from"./analytics-data.js";import{b as ue,a as ze,u as Xe}from"./use-focus-management.js";import{u as Je}from"./use-scroll-lock.js";import{u as Qe}from"./use-viewport-size.js";import{b as S,a as q}from"./animations.js";import{q as I}from"./rudderstack-client.js";import{e as K}from"./shopify.js";import"./cookies.js";import"./validator.js";function Ze(){const k=f(!1),g=f(null),r=f(null),c=f(null),C=f(null),h=()=>{k.value=!1,g.value=null,r.value=null,c.value=null,C.value=null},D=b=>{r.value=b},N=b=>{k.value=!0,g.value=b,c.value=b},d=()=>{h()};return{activeDesktopCategory:r,activeDesktopMenu:g,closeDesktopMenu:d,hoveredDesktopCategory:C,hoveredDesktopMenu:c,isDesktopMenuOpen:k,openDesktopMenu:N,setActiveDesktopCategory:D,setHoveredDesktopCategory:b=>{C.value=b},setHoveredDesktopMenu:b=>{c.value=b},toggleDesktopMenu:b=>{k.value&&g.value===b?d():k.value?(g.value=b,r.value=null):N(b)}}}function et(k){const{activeDesktopMenu:g,getLastTriggerElement:r,getPanelElement:c,isDesktopMenuOpen:C,setActiveCategory:h}=k,D=f(null),N=f(null),d=f(!1),l=f(!0),P=f(!0),L=f("keyboard"),b=M=>{L.value=M,l.value=M!=="hover",P.value=M!=="hover"};return ue({containerRef:D,focusFirstOnActivate:l,focusTriggerElementRef:N,isActive:d,onElementActivated:M=>{const y=M.target;if(y instanceof HTMLElement&&y.matches('[data-testid^="desktop-secondary-nav-button-"]')){M.preventDefault();const v=y.dataset.testid,O=v?.replace("desktop-secondary-nav-button-","");O&&h(O)}},shouldRestoreFocus:P,trapFocus:!0}),U([C,g],([M,y],[v])=>{if(M&&y){const T=c(y),O=r();D.value=T,N.value=O,d.value=!0}else!M&&v&&(d.value=!1,a.delayedCall(0,()=>{D.value=null,N.value=null}))},{flush:"post"}),{prepareActivation:b}}function tt(k){const{getMobileMenuElement:g,getMobileTriggerElement:r,isMobileOpen:c}=k,C=f(null),h=f(null),D=f(!1),{focusFirstElement:N}=ue({containerRef:C,focusFirstOnActivate:!0,focusTriggerElementRef:h,isActive:D,onElementActivated:null,trapFocus:!0});U(c,(d,l)=>{if(d){const P=g(),L=r();P&&L&&(C.value=P,h.value=L,$(()=>{D.value=!0,a.delayedCall(150,()=>{D.value&&N()})}))}else l&&(D.value=!1,a.delayedCall(0,()=>{C.value=null,h.value=null}))},{flush:"post"})}function nt(){const k=f(!1),g=f({}),r=f({}),c=f({}),C=()=>{k.value=!k.value,k.value||l()},h=v=>{const O=g.value[v]!==!0;return r.value={},c.value={},g.value={[v]:O},O},D=v=>{r.value={},c.value={},g.value={[v]:!0}},N=v=>{c.value={},r.value={[v]:!0}},d=v=>{const O=!(c.value[v]??!1);c.value[v]=O},l=()=>{g.value={},r.value={},c.value={}};return{accordionMenuStates:c,isAccordionOpen:v=>c.value[v]===!0,isAnyMenuActive:()=>Object.values(g.value).some(v=>v===!0),isAnySubMenuActive:()=>Object.values(r.value).some(v=>v===!0),isMenuOpen:v=>g.value[v]===!0,isMobileOpen:k,isSubMenuOpen:v=>r.value[v]===!0,menuStates:g,resetAllMenuStates:l,setAccordionsOpenByDefault:(v=[])=>{const T={};v.length&&v.forEach(O=>{T[O]=!0}),c.value=T},setMenuStateActive:D,submenuStates:r,toggleAccordionState:d,toggleMenuState:h,toggleMobileMenuState:C,toggleSubMenuState:N}}const A=k=>{k&&typeof k.kill=="function"&&k.kill()},j=.4,ot=60,re="header";class at extends $e{constructor(){super(`[data-section-type="${re}"]`)}init(g){const r=g.container;Ge({name:"HeaderSection",setup(){const{isLarge:c}=Qe(),{lockScroll:C,unlockScroll:h}=Je(),{cart:D}=ze(),N=Xe(),d=nt(),l=Ze(),P=f(null),L=f(null),b=Y(()=>{var e;return((e=D.value)==null?void 0:e.item_count)||0}),o=f({}),M=f({}),y=f({}),v=f({}),T=f({}),O=f(0),B=f(0),_=f(!1),W=f(!1),ie=Y(()=>b.value>0),ce=Y(()=>d.isMobileOpen.value||l.isDesktopMenuOpen.value||O.value<B.value||!_.value||W.value);Ye(()=>{var e;ve(),se(),Ue(),pe(),de(),z(c.value,void 0),(e=M.value.contentFadeIn)==null||e.play(),je({sectionName:re})}),Ke(()=>{me(),Fe()}),U(c,(e,t)=>{z(e,t)}),U(ce,e=>{if(!o.value.headerBar)return;const n=e?0:-(B.value+20);a.to(o.value.headerBar,{duration:q.ELEMENT.NAVIGATION.DROPDOWN,ease:S.POWER3_IN_OUT,y:n})});const ve=()=>{o.value={allCategoryContentDivs:Array.from(r.querySelectorAll("[data-category-content]")),allCategoryImagesDivs:Array.from(r.querySelectorAll("[data-category-images]")),allDesktopPanels:Array.from(r.querySelectorAll("[data-desktop-submenu-panel]")),allSubmenuPanels:Array.from(r.querySelectorAll("[data-submenu]")),container:r,desktopHeaderContent:r.querySelector("[data-header-content-desktop]"),desktopMenu:r.querySelector("[data-desktop-menu]"),desktopMenuContentWrapper:r.querySelector("[data-desktop-menu-content-wrapper]"),desktopMenuDropdownBackground:r.querySelector("[data-desktop-menu-dropdown-background]"),desktopMenuOverlay:r.querySelector("[data-desktop-menu-overlay]"),desktopNavButtons:r.querySelectorAll("[data-header-content-desktop] button[data-menu-trigger]"),desktopSecondaryNavigationBars:r.querySelectorAll("[data-desktop-secondary-navigation-bar]"),desktopSubmenuPanelContents:r.querySelectorAll("[data-desktop-submenu-panel-content]"),headerBar:r.querySelector("[data-header-bar]"),level1Container:r.querySelector('[data-submenu-level="1"]'),level2Container:r.querySelector('[data-submenu-level="2"]'),mainMenuContainer:r.querySelector('[data-submenu-level="0"]'),mobileHeaderContent:r.querySelector("[data-header-content-mobile]"),mobileMenu:r.querySelector("[data-mobile-menu]"),mobileMenuFooter:r.querySelector("[data-mobile-menu-footer]"),mobileMenuItems:Array.from(r.querySelectorAll("[data-mobile-menu-item]")),mobileMenuOverlay:r.querySelector("[data-mobile-menu-overlay]"),mobileMenuToggle:r.querySelector('[data-testid="mobile-menu-toggle"]')}},pe=()=>{M.value.mobileOverlay=Se(),M.value.desktopDropdown=be(),M.value.contentFadeIn=ke()},de=()=>{fe(),ye(),ge(),Me()},fe=()=>{window.addEventListener("keydown",X)},ye=()=>{window.addEventListener("scroll",ae,{passive:!0})},ge=()=>{window.addEventListener("mousemove",le,{passive:!0})},Me=()=>{var e;T.value={},(e=o.value.desktopNavButtons)==null||e.forEach(t=>{const n=t.dataset.menuTrigger;if(n){const s=i=>Le(i,n,t);T.value[n]=s,t.addEventListener("keydown",s)}})},me=()=>{var e;window.removeEventListener("keydown",X),window.removeEventListener("scroll",ae),window.removeEventListener("mousemove",le),(e=o.value.desktopNavButtons)==null||e.forEach(t=>{const n=t.dataset.menuTrigger;n&&T.value[n]&&t.removeEventListener("keydown",T.value[n])}),T.value={}};function z(e,t){if(e!==t)if(o.value.headerBar&&a.set(o.value.headerBar,{y:0}),_.value=!1,se(),e){if(d.isMobileOpen.value){d.closeMobileMenu(),h(),a.set(o.value.mobileMenu,{pointerEvents:"none"}),a.set(o.value.mobileMenuOverlay,{scaleY:0}),a.set(o.value.mainMenuContainer,{opacity:0,pointerEvents:"none"});const n={opacity:0,pointerEvents:"none",xPercent:0};a.set(o.value.allSubmenuPanels,n),a.set([o.value.level1Container,o.value.level2Container],n)}G()}else l.isDesktopMenuOpen.value&&(l.closeDesktopMenu(),a.set(o.value.allDesktopPanels,{display:"none"}),a.set(o.value.desktopMenu,{pointerEvents:"none"}),a.set(o.value.desktopMenuOverlay,{opacity:0}),a.set(o.value.desktopMenuDropdownBackground,{scaleY:0}),a.set(o.value.desktopMenuContentWrapper,{opacity:0})),oe()}const X=e=>{e.key==="Escape"&&(c.value&&l.isDesktopMenuOpen.value?x():!c.value&&d.isMobileOpen.value&&Z())},ke=()=>{const{desktopHeaderContent:e,mobileHeaderContent:t}=o.value;return!t||!e?null:a.to([t,e],{duration:q.SECTION.FADE_IN,ease:S.SINE_OUT,opacity:1,paused:!0})},Se=()=>{const{mainMenuContainer:e,mobileMenu:t,mobileMenuFooter:n,mobileMenuItems:s,mobileMenuOverlay:i}=o.value;if(!t||!i||!(s!=null&&s.length)||!n||!e)return null;const u=q.ELEMENT.NAVIGATION.DROPDOWN,p=a.timeline({onReverseComplete:()=>{a.set(t,{pointerEvents:"none"});const m={display:"none",opacity:0,pointerEvents:"none",xPercent:0};a.set(o.value.allSubmenuPanels,m),a.set([o.value.mainMenuContainer,o.value.level1Container,o.value.level2Container],m)},paused:!0});return p.set(e,{display:"flex"},0),p.to(e,{duration:u*.8,ease:S.SINE_OUT,opacity:1,pointerEvents:"auto"},0),p.fromTo(i,{scaleY:0},{duration:u,ease:S.POWER3_IN_OUT,scaleY:1,transformOrigin:"top"},0),p.fromTo(s,{opacity:0,pointerEvents:"none"},{duration:u,ease:S.SINE_OUT,opacity:1,pointerEvents:"auto",stagger:.05},u+.1),p.fromTo(n,{opacity:0,pointerEvents:"none"},{duration:u,ease:S.SINE_OUT,opacity:1,pointerEvents:"auto"},u+.1),p},be=()=>{const{allDesktopPanels:e,desktopMenu:t,desktopMenuContentWrapper:n,desktopMenuDropdownBackground:s,desktopMenuOverlay:i}=o.value;if(!t||!n||!i||!s)return null;const u=q.ELEMENT.NAVIGATION.DROPDOWN,p=a.timeline({onReverseComplete:()=>{a.set(e,{display:"none"}),a.set(t,{pointerEvents:"none"}),l.closeDesktopMenu()},onStart:()=>{a.set(t,{pointerEvents:"auto"})},paused:!0});return p.fromTo(i,{opacity:0},{duration:u*.8,ease:S.SINE_OUT,opacity:1},0),p.fromTo(s,{scaleY:0},{duration:u,ease:S.POWER3_IN_OUT,scaleY:1,transformOrigin:"top"},0),p.fromTo(n,{opacity:0},{duration:u*.5,ease:S.SINE_OUT,opacity:1},u*.5),p.fromTo([...o.value.desktopSecondaryNavigationBars,...o.value.desktopSubmenuPanelContents],{opacity:0},{duration:u*.85,ease:S.SINE_OUT,opacity:1,stagger:.05},u*.85),p},J=e=>{var t,n;return((t=e?.dataset)==null?void 0:t.submenu)||((n=e?.dataset)==null?void 0:n.desktopSubmenuPanel)||null},Q=e=>{if(!e||c.value)return;const t=e.querySelector(".menu-image-carousel"),n=J(e);if(t&&n&&!v.value[n])try{const s=new We(t,{slidesPerView:2.3,spaceBetween:10});v.value[n]=s,a.to(t,{duration:.3,ease:"sine.out",opacity:1})}catch(s){K("[Allbirds section] - Header - initializeCarouselIfNeeded - Error initializing carousel",{panelElement:e},s)}},Oe=e=>{if(c.value)return;const t=J(e);if(t&&v.value[t]){const n=e?.querySelector(".menu-image-carousel");n&&a.set(n,{opacity:0});try{v.value[t].destroy(!0,!0)}catch(s){K("[Allbirds section] - Header - destroyCarousel - Error destroying carousel",{panelElement:e},s)}delete v.value[t]}},G=()=>{c.value||(Object.keys(v.value).forEach(e=>{var t;try{(t=v.value[e])==null||t.destroy(!0,!0)}catch(n){K("[Allbirds section] - Header - destroyAllCarousels - Error destroying carousel",{panelId:e},n)}}),v.value={})},Ee=e=>{if(!e||c.value)return;const t=e.querySelectorAll("[data-accordion-content]");if(!t.length)return;const n=Array.from(t).map(s=>s.dataset.accordionContent);d.setAccordionsOpenByDefault(n),Array.from(t).forEach(s=>{d.isAccordionOpen(s.dataset.accordionContent)?a.set(s,{maxHeight:`${s.scrollHeight}px`}):a.set(s,{maxHeight:"0px"})})},V=(e,t,n)=>{if(!e||!t)return;a.killTweensOf([e,t]);const s=e.closest("[data-submenu-level]"),i=t.closest("[data-submenu-level]");a.killTweensOf([s,i]),a.set(t,{display:"flex"}),i&&a.set(i,{display:"flex"});const u=a.timeline({onComplete:()=>{Oe(e),Q(t),a.set(e,{display:"none"}),s&&s!==i&&a.set(s,{display:"none"}),$(()=>{let H=null;n==="backward"&&L.value?(H=L.value,L.value=null):H=t.querySelector('button[aria-label*="Back"]')||t.querySelector("button:not([disabled]), a[href]:not([disabled])")||t.querySelector('input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),H&&H.focus()})}});i&&(a.set(i,{opacity:0,pointerEvents:"none",xPercent:0}),u.to(i,{duration:.1,ease:"none",opacity:1,pointerEvents:"auto"},0));const m={backward:{current:{xPercent:100},next:{fromXPercent:-100,toXPercent:0}},forward:{current:{xPercent:-100},next:{fromXPercent:100,toXPercent:0}}}[n],E=q.ELEMENT.NAVIGATION.SLIDE,w=S.POWER3_IN_OUT,R=E*.5;u.to(e,{duration:E,ease:w,pointerEvents:"none",xPercent:m.current.xPercent},0),u.to(e,{duration:R,ease:S.SINE_IN,opacity:0},0),u.fromTo(t,{pointerEvents:"none",xPercent:m.next.fromXPercent},{duration:E,ease:w,pointerEvents:"auto",xPercent:m.next.toXPercent},0),u.fromTo(t,{opacity:0},{duration:R,ease:S.SINE_OUT,opacity:1},0),u.play()},De=()=>{const{allSubmenuPanels:e,level1Container:t,level2Container:n}=o.value,s=e.length>0,i=a.timeline({onComplete:()=>{const m={display:"none",opacity:0,pointerEvents:"none",xPercent:0};t&&a.set(t,m),n&&a.set(n,m),s&&a.set(e,m)},paused:!0}),u={duration:q.ELEMENT.NAVIGATION.SLIDE*.8,ease:S.POWER3_IN_OUT,opacity:0,pointerEvents:"none"},p=[];return s&&p.push(...e),t&&p.push(t),n&&p.push(n),p.length>0&&i.to(p,{...u,stagger:.03},0),i},Z=()=>{var t,n,s;if(c.value)return;l.isDesktopMenuOpen.value&&x();const e=d.isMobileOpen.value;if(d.toggleMobileMenuState(),e)h(),De().play(),(s=M.value.mobileOverlay)==null||s.reverse(),G();else{C(),a.set(o.value.mobileMenu,{pointerEvents:"auto"});const i={display:"none",opacity:0,pointerEvents:"none"},u={opacity:0,pointerEvents:"none"};a.set(o.value.allSubmenuPanels,{...i,xPercent:100}),o.value.level1Container&&a.set(o.value.level1Container,{...i,xPercent:0}),o.value.level2Container&&a.set(o.value.level2Container,{...i,xPercent:0}),a.set([...o.value.mobileMenuItems,o.value.mobileMenuFooter],u),a.set(o.value.mainMenuContainer,{display:"flex",opacity:0,pointerEvents:"none",xPercent:0}),(t=M.value.mobileOverlay)==null||t.invalidate().restart();const p=((n=M.value.mobileOverlay)==null?void 0:n.duration())||.5;a.delayedCall(p,()=>Q(o.value.mainMenuContainer))}},Ae=(e,t=void 0,n)=>{if(F({navigationLevel1:e,navigationType:n?I.GLOBAL:I.BACK,[t&&"navigationLevel2"]:new String(t).split("_").pop()}),c.value)return;const{level1Container:s,level2Container:i,mainMenuContainer:u}=o.value;if(!u||!s)return;const p=s.querySelector(`[data-submenu="${e}"]`);if(!p)return;if(t){if(!i)return;const E=i.querySelector(`[data-submenu="${t}"]`);if(!E)return;d.setMenuStateActive(e),V(E,p,"backward");return}n!=null&&n.currentTarget&&(L.value=n.currentTarget);const m=!d.isMenuOpen(e);d.toggleMenuState(e),m?V(u,p,"forward"):V(p,u,"backward"),i&&a.set(i,{opacity:0,pointerEvents:"none"})},Ce=(e,t,n,s)=>{if(F({navigationLevel1:t,navigationLevel2:n,navigationType:I.LEVEL_2}),c.value)return;const{level1Container:i,level2Container:u}=o.value;if(!i||!u)return;const p=i.querySelector(`[data-submenu="${t}"]`);if(!p)return;const m=u.querySelector(`[data-submenu="${e}"]`);if(!m)return;s!=null&&s.currentTarget&&(L.value=s.currentTarget);const E=!d.isSubMenuOpen(e);d.toggleSubMenuState(e),E&&(V(p,m,"forward"),Ee(m))},Te=(e,t,n,s)=>{if(F({navigationLevel1:t,navigationLevel2:n,navigationLevel3:s,navigationType:I.LEVEL_3}),c.value)return;const i=o.value.container.querySelector(`[data-accordion-content="${e}"]`);if(!i)return;const u=d.isAccordionOpen(e);d.toggleAccordionState(e),a.to(i,{duration:q.ELEMENT.NAVIGATION.DROPDOWN*.5,ease:S.POWER3_IN_OUT,maxHeight:u?"0px":`${i.scrollHeight}px`,onComplete:()=>{u||a.set(i,{maxHeight:"auto"})}})},ee=(e,t=!0)=>{if(!e||!o.value.container)return;const n=o.value.container.querySelector(`[data-testid="desktop-submenu-panel-${l.activeDesktopMenu.value}"]`);if(!n)return;const s=n.querySelector(`[data-testid="desktop-category-content-${e}"]`),i=n.querySelector(`[data-testid="desktop-category-images-${e}"]`),u=[];s&&u.push(s),i&&u.push(i),u.length>0&&a.to(u,{duration:q.ELEMENT.NAVIGATION.DROPDOWN,ease:t?S.SINE_OUT:S.SINE_IN,opacity:t?1:0,stagger:.25})};U(l.activeDesktopCategory,(e,t)=>{if(l.isDesktopMenuOpen.value&&e!==t&&(t&&ee(t,!1),e)){const n=o.value.container.querySelector(`[data-testid="desktop-submenu-panel-${l.activeDesktopMenu.value}"]`),s=n?.querySelector(`[data-testid="desktop-category-content-${e}"]`),i=n?.querySelector(`[data-testid="desktop-category-images-${e}"]`),u=[s,i].filter(Boolean);u.length>0&&(a.set(u,{opacity:0}),$(()=>{ee(e,!0)}))}});const he=e=>{var n;if(!e)return null;const t=o.value.container.querySelector(`[data-desktop-submenu-panel="${e}"]`);return((n=t?.dataset)==null?void 0:n.defaultCategory)||null},te=e=>{var s;if(!c.value)return;const t=l.isDesktopMenuOpen.value;if(t&&l.activeDesktopMenu.value===e)x();else{const i=he(e);if(t){const u=l.activeDesktopMenu.value,p=o.value.container.querySelector(`[data-desktop-submenu-panel="${u}"]`),m=[];if(p){const E=p.querySelector("[data-desktop-submenu-panel-content]"),w=p.querySelector("[data-desktop-secondary-navigation-bar]");E&&m.push(E),w&&m.push(w)}a.to(m,{duration:q.ELEMENT.NAVIGATION.DROPDOWN*.5,ease:S.SINE_IN,onComplete:async()=>{l.openDesktopMenu(e),l.setActiveDesktopCategory(i),await $();const E=o.value.container.querySelector(`[data-desktop-submenu-panel="${e}"]`);if(!E)return;const w=E.querySelector("[data-desktop-submenu-panel-content]"),R=E.querySelector("[data-desktop-secondary-navigation-bar]"),H=[];w&&H.push(w),R&&H.push(R),a.fromTo(H,{opacity:0},{duration:q.ELEMENT.NAVIGATION.DROPDOWN*.5,ease:S.SINE_OUT,opacity:1,stagger:.05})},opacity:0})}else{if(!o.value.container.querySelector(`[data-desktop-submenu-panel="${e}"]`))return;l.openDesktopMenu(e),l.setActiveDesktopCategory(i),(s=M.value.desktopDropdown)==null||s.invalidate().timeScale(1).restart()}}},Ne=()=>P.value,Pe=e=>{var t;return e?(t=o.value.container)==null?void 0:t.querySelector(`[data-testid="desktop-submenu-panel-${e}"]`):null},{prepareActivation:ne}=et({activeDesktopMenu:l.activeDesktopMenu,getLastTriggerElement:Ne,getPanelElement:Pe,isDesktopMenuOpen:l.isDesktopMenuOpen,setActiveCategory:l.setActiveDesktopCategory});tt({getMobileMenuElement:()=>o.value.mobileMenu,getMobileTriggerElement:()=>o.value.mobileMenuToggle,isMobileOpen:d.isMobileOpen});const Le=(e,t,n)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),P.value=n,ne("keyboard"),te(t))},qe=e=>{var n;if(!c.value)return;const t=(n=o.value.container)==null?void 0:n.querySelector(`button[data-menu-trigger="${e}"]`);if(t&&(P.value=t),A(y.value.categoryHover),l.setHoveredDesktopCategory(null),l.setHoveredDesktopMenu(e),A(y.value.close),l.isDesktopMenuOpen.value&&l.activeDesktopMenu.value===e){A(y.value.open);return}A(y.value.open),ne("hover"),y.value.open=a.delayedCall(j,()=>{t&&(P.value=t),te(e),F({navigationLevel1:e,navigationType:I.GLOBAL})})},we=()=>{c.value&&(A(y.value.open),l.setHoveredDesktopMenu(null))},He=()=>{c.value&&A(y.value.close)},_e=e=>{const t=e.relatedTarget==o.value.desktopMenuDropdownBackground;!c.value||t||(A(y.value.categoryHover),l.setHoveredDesktopCategory(null),Be())},Ie=(e,t,n)=>{l.setHoveredDesktopCategory(e),A(y.value.categoryHover),l.activeDesktopCategory.value!==e&&(y.value.categoryHover=a.delayedCall(j,()=>{l.setActiveDesktopCategory(e),F({navigationLevel1:t,navigationLevel2:n,navigationType:I.LEVEL_2})}))},Be=()=>{!c.value||!l.isDesktopMenuOpen.value||(A(y.value.close),y.value.close=a.delayedCall(j,x))},x=()=>{var e;!c.value||!l.isDesktopMenuOpen.value||(A(y.value.open),A(y.value.close),(e=M.value.desktopDropdown)==null||e.timeScale(1.5).reverse(),l.setHoveredDesktopMenu(null),l.setHoveredDesktopCategory(null))},xe=()=>{const e=document.querySelector("main");e&&(e.getAttribute("tabindex")===null&&e.setAttribute("tabindex","-1"),e.focus())},Re=()=>{Object.values(M.value).forEach(A),M.value={}},oe=()=>{Object.values(y.value).forEach(A),y.value={}},Fe=()=>{Re(),oe(),G(),a.killTweensOf(r),a.killTweensOf(r.querySelectorAll("*"))},Ue=()=>{var t;const e={display:"none",opacity:0,pointerEvents:"none"};o.value.mainMenuContainer&&a.set(o.value.mainMenuContainer,e),o.value.level1Container&&a.set(o.value.level1Container,e),o.value.level2Container&&a.set(o.value.level2Container,e),(t=o.value.allSubmenuPanels)!=null&&t.length&&a.set(o.value.allSubmenuPanels,e),o.value.mobileMenuOverlay&&a.set(o.value.mobileMenuOverlay,{scaleY:0}),a.set(o.value.mobileMenu,{pointerEvents:"none"})},ae=()=>{const e=window.scrollY;Math.abs(e-O.value)>=60&&(e>O.value&&e>B.value?(_.value=!0,W.value=!1):(e<O.value||e<=B.value)&&(_.value=!1),O.value=Math.max(0,e)),c.value&&l.isDesktopMenuOpen.value&&x()},se=()=>{o.value.headerBar&&(B.value=o.value.headerBar.offsetHeight)},Ve=()=>{c.value&&(A(y.value.categoryHover),l.setHoveredDesktopCategory(null))},le=e=>{_.value&&e.clientY<=ot&&(W.value=!0)};return{activeDesktopCategory:l.activeDesktopCategory,activeDesktopMenu:l.activeDesktopMenu,cartCount:b,cartVisibility:N,handleCategoryMouseEnter:Ie,handleCategoryMouseLeave:Ve,handleDesktopMenuMouseEnter:qe,handleDesktopMenuMouseLeave:we,handlePanelMouseEnter:He,handlePanelMouseLeave:_e,handleSkipToContentClick:xe,hoveredDesktopCategory:l.hoveredDesktopCategory,hoveredDesktopMenu:l.hoveredDesktopMenu,isAccordionMenuOpen:d.isAccordionOpen,isDesktopMenuOpen:l.isDesktopMenuOpen,isLarge:c,isMobileOpen:d.isMobileOpen,showCartCount:ie,toggleAccordionMenu:Te,toggleMobileMenu:Z,toggleSelectedMenu:Ae,toggleSelectedSubMenu:Ce}}}).mount(r)}onUnload(g){const r=g.container.__vue_app__;r&&(r.unmount(),delete g.container.__vue_app__)}}document.addEventListener("DOMContentLoaded",()=>{new at});
//# sourceMappingURL=/cdn/shop/t/2799/assets/header.js.map
