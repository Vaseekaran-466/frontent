import{B as f,g}from"./base-section.js";import{S as y}from"./swiper-core.js";import{S as A}from"./scrollbar.js";import{A as I}from"./autoplay.js";import{E as S}from"./effect-fade.js";import{c as h,r as u,o as N}from"./vue.esm-bundler.js";import{u as b}from"./use-video.js";import{A as m,a as E}from"./animations.js";import{w as _}from"./shopify.js";import{g as v}from"./analytics-data.js";import"./create-element-if-not-defined.js";import"./classes-to-selector.js";import"./effect-virtual-transition-end.js";import"./rudderstack-client.js";import"./cookies.js";import"./validator.js";import"./use-viewport-size.js";const T={autoplay:{delay:5e3,disableOnInteraction:!1},effect:"fade",loop:!0,modules:[I,S,A],on:{autoplayTimeLeft:function(l,o,e){if(l.scrollbar.dragEl){const r=100/l.slides.length;l.scrollbar.dragEl.style.width=(1-e)*r+"%"}}},scrollbar:{draggable:!0,el:".swiper-scrollbar",hide:!1},slidesPerView:1},d="full-bleed-hero";class w extends f{constructor(){super(`[data-section-type="${d}"]`)}init(o){const e=o.container,r=Number(e.getAttribute("data-autoplay-delay")),s=this;h({name:"FullBleedHeroSection",setup(){const t=u({}),i=u(null),a=u(!0),p=()=>{a.value=!a.value,i.value&&i.value.autoplay&&i.value.autoplay[a.value?"resume":"pause"]()};return N(()=>{e.querySelectorAll("video").forEach(n=>{if(n.id){const c=b(n.id);c.init(),t.value[n.id]=c}else _("[Allbirds section] - FullBleedHero - onMounted - Video found without ID",{video:n})}),e.querySelectorAll(".swiper-slide").length>1&&(i.value=new y(e.querySelector(".swiper"),{...T,autoplay:{delay:r,disableOnInteraction:!1}})),s.isHomePageTemplate()&&v({sectionName:d})}),{isPlaying:a,togglePlayPause:p,videoRefs:t}}}).mount(e)}onUnload(o){o.animation&&o.animation.scrollTrigger&&o.animation.scrollTrigger.kill(),o.animation&&(o.animation.kill(),o.animation=null);const e=o.container.__vue_app__;e&&e.unmount()}setupInViewAnimationTimeline(o){const e=o.container,r=e.querySelectorAll("[data-hero-content]"),s=e.querySelector("[data-hero-controls]");if(!e||!r)return null;const t=g.timeline({paused:!0,scrollTrigger:{trigger:e,...this.getInViewAnimationOptions()}});return t?(t.to(e,m.FADE_IN,0),t.to([r,s],m.FADE_IN,E.IN_VIEW),t):null}}document.addEventListener("DOMContentLoaded",()=>{new w});
//# sourceMappingURL=full-bleed-hero.js.map
