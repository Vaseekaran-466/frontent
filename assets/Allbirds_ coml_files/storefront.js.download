
(function() {
  if (window.$superfiliateStorefront) return;

  window.$superfiliateStorefront = {"health":{"environment":"production","railsTimestamp":1754576994327834,"redisTimestamp":1754576994328241,"postgresTimestamp":1754576994329404,"herokuReleaseVersion":null,"herokuReleaseCreatedAt":null,"ddVersion":"3069b03471730d4880145a1d62d1ee99a6a8b01b","yjit":true},"shop":{"id":10660,"name":"Allbirds","shopifyDomain":"weareallbirds.myshopify.com","programDomain":"allbirds.superfiliate.com","featuresEnabled":["waitlist_approved","reward_code_regenerate","without_shopify_extra_features","proactive_gifting_campaign","customer_address_form","gifting_campaign_dashboard","content_brief_deliverable_groups","content_brief_seeding_campaign","app_insights_commission_charts","gifting_collections","custom_currency","tiktok_shop_aggregated_metrics","tiktok_shop_product_sku_search","gifting_enable_repeated_skus","tiktok_shop_upload_creators","tiktok_shop_merged_creators_management","tiktok_shop_sync_products","tiktok_shop_search_products_from_db","superfiliate_select_all","url_customization","meta_ads_creative_custom_placement"],"micrositeDomain":"shop.allbirds.com"},"personalization":null,"defaultSfVariables":{},"apiBaseUrl":"https://app.superfiliate.com"};

  var x0=Object.defineProperty;var y0=(gt,vt,qe)=>vt in gt?x0(gt,vt,{enumerable:!0,configurable:!0,writable:!0,value:qe}):gt[vt]=qe;var Iu=(gt,vt,qe)=>(y0(gt,typeof vt!="symbol"?vt+"":vt,qe),qe);(function(){var fu,lu,cu,uu;"use strict";var gt=document.createElement("style");gt.textContent=`@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&display=swap";._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#f3f4f6}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-content: ""}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x html,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x body{margin:0;line-height:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr{height:0;color:inherit;border-top-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6{font-size:inherit;font-weight:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x a{color:inherit;text-decoration:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x b,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x code,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x kbd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x samp,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x small{font-size:80%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub{bottom:-.25em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{top:-.5em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x table{text-indent:0;border-color:inherit;border-collapse:collapse}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x optgroup,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select{text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=button]),._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=reset]),._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-focusring{outline:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-ui-invalid{box-shadow:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x progress{vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-inner-spin-button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-outer-spin-button{height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [type=search]{-webkit-appearance:textfield;outline-offset:-2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-search-decoration{-webkit-appearance:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x summary{display:list-item}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x blockquote,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dl,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x figure,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x p,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{margin:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x fieldset{margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x legend{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ol,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ul,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x menu{list-style:none;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dialog{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{resize:vertical}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::-moz-placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [role=button]{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :disabled{cursor:default}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x svg,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x canvas,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x audio,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x iframe,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x embed,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x object{display:block;vertical-align:middle}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video{max-width:100%;height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [hidden]:where(:not([hidden=until-found])){display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x{--sf-success-color: 18,183,106;--sf-success-content-color: 255,255,255;--sf-danger-color: 240,68,56;--sf-danger-content-color: 255,255,255;--sf-base-swappable: var(--base-color);--sf-base-content-swappable: var(--base-content-color);--sf-primary-swappable: var(--primary-color);--sf-primary-content-swappable: var(--primary-content-color);--sf-secondary-swappable: var(--secondary-color);--sf-secondary-content-swappable: var(--secondary-content-color);--sf-accent-swappable: var(--accent-color);--sf-accent-content-swappable: var(--accent-content-color)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pointer-events-none{pointer-events:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fixed{position:fixed}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-absolute{position:absolute}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-relative{position:relative}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-0{top:0;right:0;bottom:0;left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-x-0{left:0;right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2{right:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2\\.5{right:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2{top:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2\\.5{top:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-0{bottom:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-\\[50vh\\]{bottom:50vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-0{left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-\\[-10\\%\\]{left:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-0{right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2{right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2\\.5{right:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2{top:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2\\.5{top:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-3{top:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-4{top:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-\\[-10\\%\\]{top:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-\\[10\\]{z-index:-10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-index-program-widget-modal{z-index:calc(var(--sf-z-index-program-widget-modal) * -1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-10{z-index:10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-index-program-widget-modal{z-index:var(--sf-z-index-program-widget-modal)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-col-span-2{grid-column:span 2 / span 2}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-m-auto{margin:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-1{margin-left:4px;margin-right:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-3{margin-left:12px;margin-right:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-5{margin-left:20px;margin-right:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-auto{margin-left:auto;margin-right:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-1{margin-top:4px;margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-3{margin-top:12px;margin-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-6{margin-top:24px;margin-bottom:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-mt-7{margin-top:-28px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1{margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1\\.5{margin-bottom:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-2{margin-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-4{margin-bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-8{margin-bottom:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-1{margin-left:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-5{margin-left:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mt-\\[32px\\]{margin-top:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-block{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex{display:flex}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid{display:grid}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-size-full{width:100%;height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-12{height:48px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-2{height:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-3{height:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-36{height:144px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-4{height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-5{height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-6{height:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-8{height:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-9{height:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120\\%\\]{height:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120px\\]{height:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[141px\\]{height:141px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[144px\\]{height:144px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[18px\\]{height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[190px\\]{height:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[662px\\]{height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-full{height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-screen{height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-full{max-height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-screen{max-height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-min-h-\\[360px\\]{min-height:360px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-10\\/12{width:83.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-11\\/12{width:91.666667%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-2{width:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-3\\/4{width:75%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-4\\/12{width:33.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-5{width:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-6{width:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-6\\/12{width:50%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9{width:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9\\/12{width:75%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120\\%\\]{width:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120px\\]{width:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[18px\\]{width:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[190px\\]{width:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[80px\\]{width:80px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[95\\%\\]{width:95%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-fit{width:-moz-fit-content;width:fit-content}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-full{width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-screen{width:100vw}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-\\[unset\\]{max-width:unset}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-full{max-width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-left{transform-origin:bottom left}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-right{transform-origin:bottom right}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[-36\\%\\]{--tw-translate-x: -36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[36\\%\\]{--tw-translate-x: 36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[270deg\\]{--tw-rotate: 270deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[90deg\\]{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes sf-pulse{50%{opacity:.5}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-pulse{animation:sf-pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes sf-spin{to{transform:rotate(360deg)}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-spin{animation:sf-spin 1s linear infinite}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-cursor-pointer{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-list-disc{list-style-type:disc}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex-col{flex-direction:column}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-items-center{align-items:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-justify-center{justify-content:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-gap-2{gap:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-auto{overflow:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-hidden{overflow:hidden}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded{border-radius:.25rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-2xl{border-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-3xl{border-radius:1.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-full{border-radius:9999px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-lg{border-radius:.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-xl{border-radius:.75rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border{border-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border-base-content\\/10{border-color:rgba(var(--sf-base-content-swappable),.1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base{--tw-bg-opacity: 1;background-color:rgba(var(--sf-base-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base-content\\/20{background-color:rgba(var(--sf-base-content-swappable),.2)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base\\/\\[0\\.5\\]{background-color:rgba(var(--sf-base-swappable),.5)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-black\\/50{background-color:#00000080}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(237 237 237 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-primary{--tw-bg-opacity: 1;background-color:rgba(var(--sf-primary-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-object-contain{-o-object-fit:contain;object-fit:contain}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0\\.5{padding:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2{padding:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2\\.5{padding:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-6{padding:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-\\[6px\\]{padding:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-2{padding-left:8px;padding-right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-4{padding-left:16px;padding-right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-1{padding-top:4px;padding-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-10{padding-top:40px;padding-bottom:40px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-2{padding-top:8px;padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-3{padding-top:12px;padding-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pb-2{padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-center{text-align:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-display{font-family:SF-Primary-Font,Poppins,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{font-size:;line-height:}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-lg{font-size:20px;line-height:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-md{font-size:14px;line-height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-sm{font-size:12px;line-height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-xs{font-size:10px;line-height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-bold{font-weight:700}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-semibold{font-weight:600}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-leading-4{line-height:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{--tw-text-opacity: 1;color:rgba(var(--sf-base-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base-content{--tw-text-opacity: 1;color:rgba(var(--sf-base-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary{--tw-text-opacity: 1;color:rgba(var(--sf-primary-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary-content{--tw-text-opacity: 1;color:rgba(var(--sf-primary-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-underline{text-decoration-line:underline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-decoration-2{text-decoration-thickness:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-backdrop-blur-xl{--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-in{animation-name:enter;animation-duration:.7s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fade-in{--tw-enter-opacity: 0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-left{--tw-enter-translate-x: -100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-right{--tw-enter-translate-x: 100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x *{flex-wrap:initial;margin:0;min-width:initial;flex:initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x div{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x img{opacity:1;background-color:transparent}._sf-storefront._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder{text-align:left;text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x input::placeholder{text-align:left;text-transform:none}:root{--sf-z-index-program-widget-modal: 2147483000}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *{font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder!important}@media (min-width: 480px){._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-m-0{margin:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-h-\\[222px\\]{height:222px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[662px\\]{max-height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[680px\\]{max-height:680px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-w-\\[126px\\]{width:126px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-w-\\[390px\\]{max-width:390px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-rounded-3xl{border-radius:1.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-leading-6{line-height:1.5rem}}
`,document.head.appendChild(gt);const vt="";var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vr=function(t){return t&&t.Math==Math&&t},Ae=Vr(typeof globalThis=="object"&&globalThis)||Vr(typeof window=="object"&&window)||Vr(typeof self=="object"&&self)||Vr(typeof qe=="object"&&qe)||function(){return this}()||Function("return this")(),Kn={},Re=function(t){try{return!!t()}catch{return!0}},Cu=Re,mt=!Cu(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Au=Re,Jn=!Au(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Ru=Jn,Yr=Function.prototype.call,xt=Ru?Yr.bind(Yr):function(){return Yr.apply(Yr,arguments)},Ti={},Oi={}.propertyIsEnumerable,Pi=Object.getOwnPropertyDescriptor,Nu=Pi&&!Oi.call({1:2},1);Ti.f=Nu?function(e){var r=Pi(this,e);return!!r&&r.enumerable}:Oi;var Ii=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},Ci=Jn,Ai=Function.prototype,Xn=Ai.call,Du=Ci&&Ai.bind.bind(Xn,Xn),ge=Ci?Du:function(t){return function(){return Xn.apply(t,arguments)}},Ri=ge,Fu=Ri({}.toString),Mu=Ri("".slice),pr=function(t){return Mu(Fu(t),8,-1)},Lu=ge,Uu=Re,ju=pr,Qn=Object,Bu=Lu("".split),Hu=Uu(function(){return!Qn("z").propertyIsEnumerable(0)})?function(t){return ju(t)=="String"?Bu(t,""):Qn(t)}:Qn,Kr=function(t){return t==null},zu=Kr,Wu=TypeError,hr=function(t){if(zu(t))throw Wu("Can't call method on "+t);return t},Gu=Hu,qu=hr,Jr=function(t){return Gu(qu(t))},Zn=typeof document=="object"&&document.all,Vu=typeof Zn>"u"&&Zn!==void 0,Ni={all:Zn,IS_HTMLDDA:Vu},Di=Ni,Yu=Di.all,$e=Di.IS_HTMLDDA?function(t){return typeof t=="function"||t===Yu}:function(t){return typeof t=="function"},Fi=$e,Mi=Ni,Ku=Mi.all,Wt=Mi.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:Fi(t)||t===Ku}:function(t){return typeof t=="object"?t!==null:Fi(t)},es=Ae,Ju=$e,Xu=function(t){return Ju(t)?t:void 0},ts=function(t,e){return arguments.length<2?Xu(es[t]):es[t]&&es[t][e]},Qu=ge,Li=Qu({}.isPrototypeOf),Zu=typeof navigator<"u"&&String(navigator.userAgent)||"",Ui=Ae,rs=Zu,ji=Ui.process,Bi=Ui.Deno,Hi=ji&&ji.versions||Bi&&Bi.version,zi=Hi&&Hi.v8,Be,Xr;zi&&(Be=zi.split("."),Xr=Be[0]>0&&Be[0]<4?1:+(Be[0]+Be[1])),!Xr&&rs&&(Be=rs.match(/Edge\/(\d+)/),(!Be||Be[1]>=74)&&(Be=rs.match(/Chrome\/(\d+)/),Be&&(Xr=+Be[1])));var e_=Xr,Wi=e_,t_=Re,Gi=!!Object.getOwnPropertySymbols&&!t_(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Wi&&Wi<41}),r_=Gi,qi=r_&&!Symbol.sham&&typeof Symbol.iterator=="symbol",n_=ts,s_=$e,o_=Li,i_=qi,a_=Object,Vi=i_?function(t){return typeof t=="symbol"}:function(t){var e=n_("Symbol");return s_(e)&&o_(e.prototype,a_(t))},f_=String,l_=function(t){try{return f_(t)}catch{return"Object"}},c_=$e,u_=l_,__=TypeError,d_=function(t){if(c_(t))return t;throw __(u_(t)+" is not a function")},p_=d_,h_=Kr,ns=function(t,e){var r=t[e];return h_(r)?void 0:p_(r)},ss=xt,os=$e,is=Wt,g_=TypeError,v_=function(t,e){var r,n;if(e==="string"&&os(r=t.toString)&&!is(n=ss(r,t))||os(r=t.valueOf)&&!is(n=ss(r,t))||e!=="string"&&os(r=t.toString)&&!is(n=ss(r,t)))return n;throw g_("Can't convert object to primitive value")},Yi={exports:{}},Ki=Ae,m_=Object.defineProperty,as=function(t,e){try{m_(Ki,t,{value:e,configurable:!0,writable:!0})}catch{Ki[t]=e}return e},x_=Ae,y_=as,Ji="__core-js_shared__",b_=x_[Ji]||y_(Ji,{}),fs=b_,Xi=fs;(Yi.exports=function(t,e){return Xi[t]||(Xi[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var ls=Yi.exports,w_=hr,S_=Object,cs=function(t){return S_(w_(t))},k_=ge,E_=cs,$_=k_({}.hasOwnProperty),yt=Object.hasOwn||function(e,r){return $_(E_(e),r)},T_=ge,O_=0,P_=Math.random(),I_=T_(1 .toString),Qi=function(t){return"Symbol("+(t===void 0?"":t)+")_"+I_(++O_+P_,36)},C_=Ae,A_=ls,Zi=yt,R_=Qi,N_=Gi,D_=qi,Gt=C_.Symbol,us=A_("wks"),F_=D_?Gt.for||Gt:Gt&&Gt.withoutSetter||R_,bt=function(t){return Zi(us,t)||(us[t]=N_&&Zi(Gt,t)?Gt[t]:F_("Symbol."+t)),us[t]},M_=xt,ea=Wt,ta=Vi,L_=ns,U_=v_,j_=bt,B_=TypeError,H_=j_("toPrimitive"),z_=function(t,e){if(!ea(t)||ta(t))return t;var r=L_(t,H_),n;if(r){if(e===void 0&&(e="default"),n=M_(r,t,e),!ea(n)||ta(n))return n;throw B_("Can't convert object to primitive value")}return e===void 0&&(e="number"),U_(t,e)},W_=z_,G_=Vi,ra=function(t){var e=W_(t,"string");return G_(e)?e:e+""},q_=Ae,na=Wt,_s=q_.document,V_=na(_s)&&na(_s.createElement),sa=function(t){return V_?_s.createElement(t):{}},Y_=mt,K_=Re,J_=sa,oa=!Y_&&!K_(function(){return Object.defineProperty(J_("div"),"a",{get:function(){return 7}}).a!=7}),X_=mt,Q_=xt,Z_=Ti,ed=Ii,td=Jr,rd=ra,nd=yt,sd=oa,ia=Object.getOwnPropertyDescriptor;Kn.f=X_?ia:function(e,r){if(e=td(e),r=rd(r),sd)try{return ia(e,r)}catch{}if(nd(e,r))return ed(!Q_(Z_.f,e,r),e[r])};var qt={},od=mt,id=Re,aa=od&&id(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),ad=Wt,fd=String,ld=TypeError,Rt=function(t){if(ad(t))return t;throw ld(fd(t)+" is not an object")},cd=mt,ud=oa,_d=aa,Qr=Rt,fa=ra,dd=TypeError,ds=Object.defineProperty,pd=Object.getOwnPropertyDescriptor,ps="enumerable",hs="configurable",gs="writable";qt.f=cd?_d?function(e,r,n){if(Qr(e),r=fa(r),Qr(n),typeof e=="function"&&r==="prototype"&&"value"in n&&gs in n&&!n[gs]){var s=pd(e,r);s&&s[gs]&&(e[r]=n.value,n={configurable:hs in n?n[hs]:s[hs],enumerable:ps in n?n[ps]:s[ps],writable:!1})}return ds(e,r,n)}:ds:function(e,r,n){if(Qr(e),r=fa(r),Qr(n),ud)try{return ds(e,r,n)}catch{}if("get"in n||"set"in n)throw dd("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var hd=mt,gd=qt,vd=Ii,vs=hd?function(t,e,r){return gd.f(t,e,vd(1,r))}:function(t,e,r){return t[e]=r,t},la={exports:{}},ms=mt,md=yt,ca=Function.prototype,xd=ms&&Object.getOwnPropertyDescriptor,xs=md(ca,"name"),yd=xs&&(function(){}).name==="something",bd=xs&&(!ms||ms&&xd(ca,"name").configurable),wd={EXISTS:xs,PROPER:yd,CONFIGURABLE:bd},Sd=ge,kd=$e,ys=fs,Ed=Sd(Function.toString);kd(ys.inspectSource)||(ys.inspectSource=function(t){return Ed(t)});var $d=ys.inspectSource,Td=Ae,Od=$e,ua=Td.WeakMap,Pd=Od(ua)&&/native code/.test(String(ua)),Id=ls,Cd=Qi,_a=Id("keys"),da=function(t){return _a[t]||(_a[t]=Cd(t))},bs={},Ad=Pd,pa=Ae,Rd=Wt,Nd=vs,ws=yt,Ss=fs,Dd=da,Fd=bs,ha="Object already initialized",ks=pa.TypeError,Md=pa.WeakMap,Zr,gr,en,Ld=function(t){return en(t)?gr(t):Zr(t,{})},Ud=function(t){return function(e){var r;if(!Rd(e)||(r=gr(e)).type!==t)throw ks("Incompatible receiver, "+t+" required");return r}};if(Ad||Ss.state){var Ve=Ss.state||(Ss.state=new Md);Ve.get=Ve.get,Ve.has=Ve.has,Ve.set=Ve.set,Zr=function(t,e){if(Ve.has(t))throw ks(ha);return e.facade=t,Ve.set(t,e),e},gr=function(t){return Ve.get(t)||{}},en=function(t){return Ve.has(t)}}else{var Vt=Dd("state");Fd[Vt]=!0,Zr=function(t,e){if(ws(t,Vt))throw ks(ha);return e.facade=t,Nd(t,Vt,e),e},gr=function(t){return ws(t,Vt)?t[Vt]:{}},en=function(t){return ws(t,Vt)}}var ga={set:Zr,get:gr,has:en,enforce:Ld,getterFor:Ud},Es=ge,jd=Re,Bd=$e,tn=yt,$s=mt,Hd=wd.CONFIGURABLE,zd=$d,va=ga,Wd=va.enforce,Gd=va.get,ma=String,rn=Object.defineProperty,qd=Es("".slice),Vd=Es("".replace),Yd=Es([].join),Kd=$s&&!jd(function(){return rn(function(){},"length",{value:8}).length!==8}),Jd=String(String).split("String"),Xd=la.exports=function(t,e,r){qd(ma(e),0,7)==="Symbol("&&(e="["+Vd(ma(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!tn(t,"name")||Hd&&t.name!==e)&&($s?rn(t,"name",{value:e,configurable:!0}):t.name=e),Kd&&r&&tn(r,"arity")&&t.length!==r.arity&&rn(t,"length",{value:r.arity});try{r&&tn(r,"constructor")&&r.constructor?$s&&rn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=Wd(t);return tn(n,"source")||(n.source=Yd(Jd,typeof e=="string"?e:"")),t};Function.prototype.toString=Xd(function(){return Bd(this)&&Gd(this).source||zd(this)},"toString");var Qd=la.exports,Zd=$e,ep=qt,tp=Qd,rp=as,xa=function(t,e,r,n){n||(n={});var s=n.enumerable,o=n.name!==void 0?n.name:e;if(Zd(r)&&tp(r,o,n),n.global)s?t[e]=r:rp(e,r);else{try{n.unsafe?t[e]&&(s=!0):delete t[e]}catch{}s?t[e]=r:ep.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},ya={},np=Math.ceil,sp=Math.floor,op=Math.trunc||function(e){var r=+e;return(r>0?sp:np)(r)},ip=op,vr=function(t){var e=+t;return e!==e||e===0?0:ip(e)},ap=vr,fp=Math.max,lp=Math.min,cp=function(t,e){var r=ap(t);return r<0?fp(r+e,0):lp(r,e)},up=vr,_p=Math.min,ba=function(t){return t>0?_p(up(t),9007199254740991):0},dp=ba,wa=function(t){return dp(t.length)},pp=Jr,hp=cp,gp=wa,Sa=function(t){return function(e,r,n){var s=pp(e),o=gp(s),i=hp(n,o),a;if(t&&r!=r){for(;o>i;)if(a=s[i++],a!=a)return!0}else for(;o>i;i++)if((t||i in s)&&s[i]===r)return t||i||0;return!t&&-1}},vp={includes:Sa(!0),indexOf:Sa(!1)},mp=ge,Ts=yt,xp=Jr,yp=vp.indexOf,bp=bs,ka=mp([].push),Ea=function(t,e){var r=xp(t),n=0,s=[],o;for(o in r)!Ts(bp,o)&&Ts(r,o)&&ka(s,o);for(;e.length>n;)Ts(r,o=e[n++])&&(~yp(s,o)||ka(s,o));return s},Os=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wp=Ea,Sp=Os,kp=Sp.concat("length","prototype");ya.f=Object.getOwnPropertyNames||function(e){return wp(e,kp)};var $a={};$a.f=Object.getOwnPropertySymbols;var Ep=ts,$p=ge,Tp=ya,Op=$a,Pp=Rt,Ip=$p([].concat),Cp=Ep("Reflect","ownKeys")||function(e){var r=Tp.f(Pp(e)),n=Op.f;return n?Ip(r,n(e)):r},Ta=yt,Ap=Cp,Rp=Kn,Np=qt,Dp=function(t,e,r){for(var n=Ap(e),s=Np.f,o=Rp.f,i=0;i<n.length;i++){var a=n[i];!Ta(t,a)&&!(r&&Ta(r,a))&&s(t,a,o(e,a))}},Fp=Re,Mp=$e,Lp=/#|\.prototype\./,mr=function(t,e){var r=jp[Up(t)];return r==Hp?!0:r==Bp?!1:Mp(e)?Fp(e):!!e},Up=mr.normalize=function(t){return String(t).replace(Lp,".").toLowerCase()},jp=mr.data={},Bp=mr.NATIVE="N",Hp=mr.POLYFILL="P",zp=mr,Ps=Ae,Wp=Kn.f,Gp=vs,qp=xa,Vp=as,Yp=Dp,Kp=zp,Is=function(t,e){var r=t.target,n=t.global,s=t.stat,o,i,a,f,l,u;if(n?i=Ps:s?i=Ps[r]||Vp(r,{}):i=(Ps[r]||{}).prototype,i)for(a in e){if(l=e[a],t.dontCallGetSet?(u=Wp(i,a),f=u&&u.value):f=i[a],o=Kp(n?a:r+(s?".":"#")+a,t.forced),!o&&f!==void 0){if(typeof l==typeof f)continue;Yp(l,f)}(t.sham||f&&f.sham)&&Gp(l,"sham",!0),qp(i,a,l,t)}},Oa={},Jp=Ea,Xp=Os,Qp=Object.keys||function(e){return Jp(e,Xp)},Zp=mt,eh=aa,th=qt,rh=Rt,nh=Jr,sh=Qp;Oa.f=Zp&&!eh?Object.defineProperties:function(e,r){rh(e);for(var n=nh(r),s=sh(r),o=s.length,i=0,a;o>i;)th.f(e,a=s[i++],n[a]);return e};var oh=ts,ih=oh("document","documentElement"),ah=Rt,fh=Oa,Pa=Os,lh=bs,ch=ih,uh=sa,_h=da,Ia=">",Ca="<",Cs="prototype",As="script",Aa=_h("IE_PROTO"),Rs=function(){},Ra=function(t){return Ca+As+Ia+t+Ca+"/"+As+Ia},Na=function(t){t.write(Ra("")),t.close();var e=t.parentWindow.Object;return t=null,e},dh=function(){var t=uh("iframe"),e="java"+As+":",r;return t.style.display="none",ch.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(Ra("document.F=Object")),r.close(),r.F},nn,sn=function(){try{nn=new ActiveXObject("htmlfile")}catch{}sn=typeof document<"u"?document.domain&&nn?Na(nn):dh():Na(nn);for(var t=Pa.length;t--;)delete sn[Cs][Pa[t]];return sn()};lh[Aa]=!0;var Da=Object.create||function(e,r){var n;return e!==null?(Rs[Cs]=ah(e),n=new Rs,Rs[Cs]=null,n[Aa]=e):n=sn(),r===void 0?n:fh.f(n,r)},ph=bt,hh=Da,gh=qt.f,Ns=ph("unscopables"),Ds=Array.prototype;Ds[Ns]==null&&gh(Ds,Ns,{configurable:!0,value:hh(null)});var vh=function(t){Ds[Ns][t]=!0},mh=Is,xh=cs,yh=wa,bh=vr,wh=vh;mh({target:"Array",proto:!0},{at:function(e){var r=xh(this),n=yh(r),s=bh(e),o=s>=0?s:n+s;return o<0||o>=n?void 0:r[o]}}),wh("at");var Sh=Ae,kh=ge,Fa=function(t,e){return kh(Sh[t].prototype[e])},Eh=Fa;Eh("Array","at");var $h=Wt,Th=pr,Oh=bt,Ph=Oh("match"),Ih=function(t){var e;return $h(t)&&((e=t[Ph])!==void 0?!!e:Th(t)=="RegExp")},Ch=bt,Ah=Ch("toStringTag"),Ma={};Ma[Ah]="z";var Rh=String(Ma)==="[object z]",Nh=Rh,Dh=$e,on=pr,Fh=bt,Mh=Fh("toStringTag"),Lh=Object,Uh=on(function(){return arguments}())=="Arguments",jh=function(t,e){try{return t[e]}catch{}},Bh=Nh?on:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=jh(e=Lh(t),Mh))=="string"?r:Uh?on(e):(n=on(e))=="Object"&&Dh(e.callee)?"Arguments":n},Hh=Bh,zh=String,an=function(t){if(Hh(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return zh(t)},Wh=Rt,La=function(){var t=Wh(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Gh=xt,qh=yt,Vh=Li,Yh=La,Ua=RegExp.prototype,Kh=function(t){var e=t.flags;return e===void 0&&!("flags"in Ua)&&!qh(t,"flags")&&Vh(Ua,t)?Gh(Yh,t):e},Fs=ge,Jh=cs,Xh=Math.floor,Ms=Fs("".charAt),Qh=Fs("".replace),Ls=Fs("".slice),Zh=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,eg=/\$([$&'`]|\d{1,2})/g,ja=function(t,e,r,n,s,o){var i=r+t.length,a=n.length,f=eg;return s!==void 0&&(s=Jh(s),f=Zh),Qh(o,f,function(l,u){var c;switch(Ms(u,0)){case"$":return"$";case"&":return t;case"`":return Ls(e,0,r);case"'":return Ls(e,i);case"<":c=s[Ls(u,1,-1)];break;default:var h=+u;if(h===0)return l;if(h>a){var d=Xh(h/10);return d===0?l:d<=a?n[d-1]===void 0?Ms(u,1):n[d-1]+Ms(u,1):l}c=n[h-1]}return c===void 0?"":c})},tg=Is,rg=xt,Us=ge,Ba=hr,ng=$e,sg=Kr,og=Ih,xr=an,ig=ns,ag=Kh,fg=ja,lg=bt,cg=lg("replace"),ug=TypeError,Ha=Us("".indexOf);Us("".replace);var za=Us("".slice),_g=Math.max,Wa=function(t,e,r){return r>t.length?-1:e===""?r:Ha(t,e,r)};tg({target:"String",proto:!0},{replaceAll:function(e,r){var n=Ba(this),s,o,i,a,f,l,u,c,h,d=0,v=0,g="";if(!sg(e)){if(s=og(e),s&&(o=xr(Ba(ag(e))),!~Ha(o,"g")))throw ug("`.replaceAll` does not allow non-global regexes");if(i=ig(e,cg),i)return rg(i,e,n,r)}for(a=xr(n),f=xr(e),l=ng(r),l||(r=xr(r)),u=f.length,c=_g(1,u),d=Wa(a,f,0);d!==-1;)h=l?xr(r(f,d,a)):fg(f,a,d,[],void 0,r),g+=za(a,v,d)+h,v=d+u,d=Wa(a,f,d+c);return v<a.length&&(g+=za(a,v)),g}});var js=Re,dg=Ae,Bs=dg.RegExp,Hs=js(function(){var t=Bs("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),pg=Hs||js(function(){return!Bs("a","y").sticky}),hg=Hs||js(function(){var t=Bs("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),gg={BROKEN_CARET:hg,MISSED_STICKY:pg,UNSUPPORTED_Y:Hs},vg=Re,mg=Ae,xg=mg.RegExp,yg=vg(function(){var t=xg(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),bg=Re,wg=Ae,Sg=wg.RegExp,kg=bg(function(){var t=Sg("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),Yt=xt,fn=ge,Eg=an,$g=La,Tg=gg,Og=ls,Pg=Da,Ig=ga.get,Cg=yg,Ag=kg,Rg=Og("native-string-replace",String.prototype.replace),ln=RegExp.prototype.exec,zs=ln,Ng=fn("".charAt),Dg=fn("".indexOf),Fg=fn("".replace),Ws=fn("".slice),Gs=function(){var t=/a/,e=/b*/g;return Yt(ln,t,"a"),Yt(ln,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),Ga=Tg.BROKEN_CARET,qs=/()??/.exec("")[1]!==void 0,Mg=Gs||qs||Ga||Cg||Ag;Mg&&(zs=function(e){var r=this,n=Ig(r),s=Eg(e),o=n.raw,i,a,f,l,u,c,h;if(o)return o.lastIndex=r.lastIndex,i=Yt(zs,o,s),r.lastIndex=o.lastIndex,i;var d=n.groups,v=Ga&&r.sticky,g=Yt($g,r),w=r.source,y=0,k=s;if(v&&(g=Fg(g,"y",""),Dg(g,"g")===-1&&(g+="g"),k=Ws(s,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&Ng(s,r.lastIndex-1)!==`
`)&&(w="(?: "+w+")",k=" "+k,y++),a=new RegExp("^(?:"+w+")",g)),qs&&(a=new RegExp("^"+w+"$(?!\\s)",g)),Gs&&(f=r.lastIndex),l=Yt(ln,v?a:r,k),v?l?(l.input=Ws(l.input,y),l[0]=Ws(l[0],y),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:Gs&&l&&(r.lastIndex=r.global?l.index+l[0].length:f),qs&&l&&l.length>1&&Yt(Rg,l[0],a,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(l[u]=void 0)}),l&&d)for(l.groups=c=Pg(null),u=0;u<d.length;u++)h=d[u],c[h[0]]=l[h[1]];return l});var Vs=zs,Lg=Is,qa=Vs;Lg({target:"RegExp",proto:!0,forced:/./.exec!==qa},{exec:qa});var Ug=Jn,Va=Function.prototype,Ya=Va.apply,Ka=Va.call,jg=typeof Reflect=="object"&&Reflect.apply||(Ug?Ka.bind(Ya):function(){return Ka.apply(Ya,arguments)}),Bg=pr,Hg=ge,zg=function(t){if(Bg(t)==="Function")return Hg(t)},Ja=zg,Xa=xa,Wg=Vs,Qa=Re,Za=bt,Gg=vs,qg=Za("species"),Ys=RegExp.prototype,Vg=function(t,e,r,n){var s=Za(t),o=!Qa(function(){var l={};return l[s]=function(){return 7},""[t](l)!=7}),i=o&&!Qa(function(){var l=!1,u=/a/;return t==="split"&&(u={},u.constructor={},u.constructor[qg]=function(){return u},u.flags="",u[s]=/./[s]),u.exec=function(){return l=!0,null},u[s](""),!l});if(!o||!i||r){var a=Ja(/./[s]),f=e(s,""[t],function(l,u,c,h,d){var v=Ja(l),g=u.exec;return g===Wg||g===Ys.exec?o&&!d?{done:!0,value:a(u,c,h)}:{done:!0,value:v(c,u,h)}:{done:!1}});Xa(String.prototype,t,f[0]),Xa(Ys,s,f[1])}n&&Gg(Ys[s],"sham",!0)},Ks=ge,Yg=vr,Kg=an,Jg=hr,Xg=Ks("".charAt),ef=Ks("".charCodeAt),Qg=Ks("".slice),tf=function(t){return function(e,r){var n=Kg(Jg(e)),s=Yg(r),o=n.length,i,a;return s<0||s>=o?t?"":void 0:(i=ef(n,s),i<55296||i>56319||s+1===o||(a=ef(n,s+1))<56320||a>57343?t?Xg(n,s):i:t?Qg(n,s,s+2):(i-55296<<10)+(a-56320)+65536)}},Zg={codeAt:tf(!1),charAt:tf(!0)},ev=Zg.charAt,tv=function(t,e,r){return e+(r?ev(t,e).length:1)},rf=xt,rv=Rt,nv=$e,sv=pr,ov=Vs,iv=TypeError,av=function(t,e){var r=t.exec;if(nv(r)){var n=rf(r,t,e);return n!==null&&rv(n),n}if(sv(t)==="RegExp")return rf(ov,t,e);throw iv("RegExp#exec called on incompatible receiver")},fv=jg,nf=xt,cn=ge,lv=Vg,cv=Re,uv=Rt,_v=$e,dv=Kr,pv=vr,hv=ba,Kt=an,gv=hr,vv=tv,mv=ns,xv=ja,yv=av,bv=bt,Js=bv("replace"),wv=Math.max,Sv=Math.min,kv=cn([].concat),Xs=cn([].push),sf=cn("".indexOf),of=cn("".slice),Ev=function(t){return t===void 0?t:String(t)},$v=function(){return"a".replace(/./,"$0")==="$0"}(),af=function(){return/./[Js]?/./[Js]("a","$0")==="":!1}(),Tv=!cv(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});lv("replace",function(t,e,r){var n=af?"$":"$0";return[function(o,i){var a=gv(this),f=dv(o)?void 0:mv(o,Js);return f?nf(f,o,a,i):nf(e,Kt(a),o,i)},function(s,o){var i=uv(this),a=Kt(s);if(typeof o=="string"&&sf(o,n)===-1&&sf(o,"$<")===-1){var f=r(e,i,a,o);if(f.done)return f.value}var l=_v(o);l||(o=Kt(o));var u=i.global;if(u){var c=i.unicode;i.lastIndex=0}for(var h=[];;){var d=yv(i,a);if(d===null||(Xs(h,d),!u))break;var v=Kt(d[0]);v===""&&(i.lastIndex=vv(a,hv(i.lastIndex),c))}for(var g="",w=0,y=0;y<h.length;y++){d=h[y];for(var k=Kt(d[0]),U=wv(Sv(pv(d.index),a.length),0),P=[],A=1;A<d.length;A++)Xs(P,Ev(d[A]));var F=d.groups;if(l){var j=kv([k],P,U,a);F!==void 0&&Xs(j,F);var O=Kt(fv(o,void 0,j))}else O=xv(k,a,U,P,F,o);U>=w&&(g+=of(a,w,U)+O,w=U+k.length)}return g+of(a,w)}]},!Tv||!$v||af);var Ov=Fa;Ov("String","replaceAll");var ff=(t=>(t.Production="production",t.Development="development",t.Test="test",t))(ff||{}),q=(t=>(t.ShopifyOnlineStore="ShopifyOnlineStore",t.ShopifyOrderStatus="ShopifyOrderStatus",t.ShopifyCheckoutContact="ShopifyCheckoutContact",t.ShopifyCheckoutShipping="ShopifyCheckoutShipping",t.ShopifyCheckoutPayment="ShopifyCheckoutPayment",t.ShopifyCheckoutUnknown="ShopifyCheckoutUnknown",t.RechargeCheckout="RechargeCheckout",t.RechargeOrderStatus="RechargeOrderStatus",t.Unknown="Unknown",t))(q||{});const wt=()=>{var t,e;return(t=window.Shopify)!=null&&t.Checkout?window.Shopify.Checkout.step==="contact_information"?q.ShopifyCheckoutContact:window.Shopify.Checkout.step==="shipping_method"?q.ShopifyCheckoutShipping:window.Shopify.Checkout.step==="payment_method"?q.ShopifyCheckoutPayment:window.Shopify.Checkout.step==="thank_you"||window.Shopify.Checkout.isOrderStatusPage?q.ShopifyOrderStatus:q.ShopifyCheckoutUnknown:(e=window.Shopify)!=null&&e.checkout?q.RechargeOrderStatus:window.cart_json?q.RechargeCheckout:window.ShopifyAnalytics?q.ShopifyOnlineStore:q.Unknown},Te=t=>t==="online_store"?Te([q.ShopifyOnlineStore,q.Unknown]):t==="order_status"?Te([q.ShopifyOrderStatus,q.RechargeOrderStatus]):t==="shopify_checkout"?Te([q.ShopifyCheckoutContact,q.ShopifyCheckoutShipping,q.ShopifyCheckoutPayment]):t instanceof Array?t.includes(wt()):wt()===t,Pv="external_access",Iv="main_store_access",lf="sf_main_site_session",cf="sf_external_session_key",uf="sf-external-session-uuid",_f="sf_microsite_session",Cv="superfiliate_suspect_code",Av="discount_code",df=()=>{const t=/^_shopify_sa_p/,e=/^utm_/,r=/^_shopify_sa_t/,n={utm_timestamp:"",utm_data_source:"shopify_cookie"};let s="";if(document.cookie.split(";").map(i=>i.trim()).forEach(i=>{t.test(i)&&(s=i),r.test(i)&&(n.utm_timestamp=decodeURIComponent(i.split("=")[1]))}),!s||!s.includes("="))return;const o=s.split("=")[1];try{decodeURIComponent(o).split("&").forEach(i=>{const a=i.split("=")[0],f=i.split("=")[1];e.test(a)&&(n[a]=decodeURIComponent(f))})}catch{return}if(!(Object.keys(n).length<=2))return n},un=()=>{const t=new URL(window.location.href),{searchParams:e}=t;return{utm_data_source:e.get("utm_data_source")||void 0,utm_timestamp:e.get("utm_timestamp")||void 0,utm_campaign:e.get("utm_campaign")||void 0,utm_content:e.get("utm_content")||void 0,utm_source:e.get("utm_source")||void 0,utm_medium:e.get("utm_medium")||void 0,utm_audience:e.get("utm_audience")||void 0,utm_target:e.get("utm_target")||void 0,utm_incentive:e.get("utm_incentive")||void 0,utm_campaign_id:e.get("utm_campaign_id")||void 0,utm_campaign_name:e.get("utm_campaign_name")||void 0}},Rv=()=>{const e=un().utm_content;if(e)try{const r=atob(e);return JSON.parse(r)[uf]}catch{return}},pf=t=>{const r=` ${document.cookie};`.match(new RegExp(` ${t}=(.*?);`));return r?r[1]:null},yr=()=>pf(Av),Nv=()=>pf(Cv);window.$superfiliateStorefront.shopifyUtmParams={getShopifyCookiesUtmParams:df,getShopifyAutoApplyDiscountCode:yr};const Qs=()=>yr(),hf=()=>{const t=Qs();return t?`&discount=${t}`:""},Dv=()=>{const t=hf();return t?[t.replace("&","")]:[]},Fv="sf-code",gf="!!INITIAL!!",Mv=()=>{if(!Te(q.ShopifyOnlineStore))return;let t=gf;setInterval(async()=>{const e=Qs();t!==e&&(!e&&t===gf||!e&&!Nv()||(await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attributes:{[Fv]:e||""}})}),t=e))},1e3)},Lv=()=>{window.$superfiliateStorefront.discountUtils={discoverDiscount:Qs,discountAsQueryParam:hf,discountAsQueryArray:Dv},Mv()};var vf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var i=typeof o;if(i==="string"||i==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&n.push(a)}}else if(i==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var f in o)e.call(o,f)&&o[f]&&n.push(f)}}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(vf);var Uv=vf.exports;const mf=$i(Uv),xf={cn:mf},I=(...t)=>xf.cn(...t);let Zs="";const jv=(t,e)=>{const r=e.split(":"),n=r.slice(0,r.length-1);let s=r[r.length-1],o=`${t}${s}`;return s.startsWith("!-")&&(s=s.slice(2,s.length),o=`!-${t}${s}`),s.startsWith("!")&&(s=s.slice(1,s.length),o=`!${t}${s}`),s.startsWith("-")&&(s=s.slice(1,s.length),o=`-${t}${s}`),n.length===0?o:`${n.join(":")}:${o}`},Bv=(...t)=>mf(...t).split(Zs).join("").split(" ").map(r=>jv(Zs,r)).join(" "),Hv=t=>{Zs=t,xf.cn=Bv},eo=t=>{let e;typeof t=="string"?e=new Error(t):e=t,console.error(e)};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.reportError=eo;const yf="responseText could not be pulled",bf=async(t,e=[200,201,204])=>{let r,n,s;try{r=await t.text()}catch{r=yf}try{n=JSON.parse(r||"null")}catch{n=void 0}if(e.includes(t.status)?r===yf?s=new Error(`Unexpected response text body, status ${t.status}, from ${t.url}`):n===void 0&&(s=new Error(`Unexpected response bad JSON body, status ${t.status}, from ${t.url}`)):s=new Error(`Unexpected response status, status ${t.status}, from ${t.url}`),s)throw s.response=t,s.responseText=r,s.responseJson=n,s;return n||null};var br,R,wf,Nt,Sf,kf,to,ro,no,so,Ef,wr={},$f=[],zv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_n=Array.isArray;function st(t,e){for(var r in e)t[r]=e[r];return t}function Tf(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ot(t,e,r){var n,s,o,i={};for(o in e)o=="key"?n=e[o]:o=="ref"?s=e[o]:i[o]=e[o];if(arguments.length>2&&(i.children=arguments.length>3?br.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)i[o]===void 0&&(i[o]=t.defaultProps[o]);return Sr(t,i,n,s,null)}function Sr(t,e,r,n,s){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++wf,__i:-1,__u:0};return s==null&&R.vnode!=null&&R.vnode(o),o}function Wv(){return{current:null}}function Oe(t){return t.children}function Ye(t,e){this.props=t,this.context=e}function Jt(t,e){if(e==null)return t.__?Jt(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Jt(t):null}function Of(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Of(t)}}function oo(t){(!t.__d&&(t.__d=!0)&&Nt.push(t)&&!dn.__r++||Sf!==R.debounceRendering)&&((Sf=R.debounceRendering)||kf)(dn)}function dn(){var t,e,r,n,s,o,i,a;for(Nt.sort(to);t=Nt.shift();)t.__d&&(e=Nt.length,n=void 0,o=(s=(r=t).__v).__e,i=[],a=[],r.__P&&((n=st({},s)).__v=s.__v+1,R.vnode&&R.vnode(n),io(r.__P,n,s,r.__n,r.__P.namespaceURI,32&s.__u?[o]:null,i,o??Jt(s),!!(32&s.__u),a),n.__v=s.__v,n.__.__k[n.__i]=n,Rf(i,n,a),n.__e!=o&&Of(n)),Nt.length>e&&Nt.sort(to));dn.__r=0}function Pf(t,e,r,n,s,o,i,a,f,l,u){var c,h,d,v,g,w=n&&n.__k||$f,y=e.length;for(r.__d=f,Gv(r,e,w),f=r.__d,c=0;c<y;c++)(d=r.__k[c])!=null&&(h=d.__i===-1?wr:w[d.__i]||wr,d.__i=c,io(t,d,h,s,o,i,a,f,l,u),v=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&ao(h.ref,null,d),u.push(d.ref,d.__c||v,d)),g==null&&v!=null&&(g=v),65536&d.__u||h.__k===d.__k?f=If(d,f,t):typeof d.type=="function"&&d.__d!==void 0?f=d.__d:v&&(f=v.nextSibling),d.__d=void 0,d.__u&=-196609);r.__d=f,r.__e=g}function Gv(t,e,r){var n,s,o,i,a,f=e.length,l=r.length,u=l,c=0;for(t.__k=[],n=0;n<f;n++)(s=e[n])!=null&&typeof s!="boolean"&&typeof s!="function"?(i=n+c,(s=t.__k[n]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Sr(null,s,null,null,null):_n(s)?Sr(Oe,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Sr(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,o=null,(a=s.__i=qv(s,r,i,u))!==-1&&(u--,(o=r[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&c--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a==i-1?c--:a==i+1?c++:(a>i?c--:c++,s.__u|=65536))):s=t.__k[n]=null;if(u)for(n=0;n<l;n++)(o=r[n])!=null&&!(131072&o.__u)&&(o.__e==t.__d&&(t.__d=Jt(o)),Nf(o,o))}function If(t,e,r){var n,s;if(typeof t.type=="function"){for(n=t.__k,s=0;n&&s<n.length;s++)n[s]&&(n[s].__=t,e=If(n[s],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=Jt(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function it(t,e){return e=e||[],t==null||typeof t=="boolean"||(_n(t)?t.some(function(r){it(r,e)}):e.push(t)),e}function qv(t,e,r,n){var s=t.key,o=t.type,i=r-1,a=r+1,f=e[r];if(f===null||f&&s==f.key&&o===f.type&&!(131072&f.__u))return r;if(n>(f!=null&&!(131072&f.__u)?1:0))for(;i>=0||a<e.length;){if(i>=0){if((f=e[i])&&!(131072&f.__u)&&s==f.key&&o===f.type)return i;i--}if(a<e.length){if((f=e[a])&&!(131072&f.__u)&&s==f.key&&o===f.type)return a;a++}}return-1}function Cf(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||zv.test(e)?r:r+"px"}function pn(t,e,r,n,s){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Cf(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Cf(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=ro,t.addEventListener(e,o?so:no,o)):t.removeEventListener(e,o?so:no,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Af(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=ro++;else if(e.t<r.u)return;return r(R.event?R.event(e):e)}}}function io(t,e,r,n,s,o,i,a,f,l){var u,c,h,d,v,g,w,y,k,U,P,A,F,j,O,te,M=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(f=!!(32&r.__u),o=[a=e.__e=r.__e]),(u=R.__b)&&u(e);e:if(typeof M=="function")try{if(y=e.props,k="prototype"in M&&M.prototype.render,U=(u=M.contextType)&&n[u.__c],P=u?U?U.props.value:u.__:n,r.__c?w=(c=e.__c=r.__c).__=c.__E:(k?e.__c=c=new M(y,P):(e.__c=c=new Ye(y,P),c.constructor=M,c.render=Yv),U&&U.sub(c),c.props=y,c.state||(c.state={}),c.context=P,c.__n=n,h=c.__d=!0,c.__h=[],c._sb=[]),k&&c.__s==null&&(c.__s=c.state),k&&M.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=st({},c.__s)),st(c.__s,M.getDerivedStateFromProps(y,c.__s))),d=c.props,v=c.state,c.__v=e,h)k&&M.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),k&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(k&&M.getDerivedStateFromProps==null&&y!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(y,P),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(y,c.__s,P)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(c.props=y,c.state=c.__s,c.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(H){H&&(H.__=e)}),A=0;A<c._sb.length;A++)c.__h.push(c._sb[A]);c._sb=[],c.__h.length&&i.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(y,c.__s,P),k&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,v,g)})}if(c.context=P,c.props=y,c.__P=t,c.__e=!1,F=R.__r,j=0,k){for(c.state=c.__s,c.__d=!1,F&&F(e),u=c.render(c.props,c.state,c.context),O=0;O<c._sb.length;O++)c.__h.push(c._sb[O]);c._sb=[]}else do c.__d=!1,F&&F(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++j<25);c.state=c.__s,c.getChildContext!=null&&(n=st(st({},n),c.getChildContext())),k&&!h&&c.getSnapshotBeforeUpdate!=null&&(g=c.getSnapshotBeforeUpdate(d,v)),Pf(t,_n(te=u!=null&&u.type===Oe&&u.key==null?u.props.children:u)?te:[te],e,r,n,s,o,i,a,f,l),c.base=e.__e,e.__u&=-161,c.__h.length&&i.push(c),w&&(c.__E=c.__=null)}catch(H){if(e.__v=null,f||o!=null){for(e.__u|=f?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,e.__e=a}else e.__e=r.__e,e.__k=r.__k;R.__e(H,e,r)}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Vv(r.__e,e,r,n,s,o,i,f,l);(u=R.diffed)&&u(e)}function Rf(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)ao(r[n],r[++n],r[++n]);R.__c&&R.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(o){o.call(s)})}catch(o){R.__e(o,s.__v)}})}function Vv(t,e,r,n,s,o,i,a,f){var l,u,c,h,d,v,g,w=r.props,y=e.props,k=e.type;if(k==="svg"?s="http://www.w3.org/2000/svg":k==="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((d=o[l])&&"setAttribute"in d==!!k&&(k?d.localName===k:d.nodeType===3)){t=d,o[l]=null;break}}if(t==null){if(k===null)return document.createTextNode(y);t=document.createElementNS(s,k,y.is&&y),a&&(R.__m&&R.__m(e,o),a=!1),o=null}if(k===null)w===y||a&&t.data===y||(t.data=y);else{if(o=o&&br.call(t.childNodes),w=r.props||wr,!a&&o!=null)for(w={},l=0;l<t.attributes.length;l++)w[(d=t.attributes[l]).name]=d.value;for(l in w)if(d=w[l],l!="children"){if(l=="dangerouslySetInnerHTML")c=d;else if(!(l in y)){if(l=="value"&&"defaultValue"in y||l=="checked"&&"defaultChecked"in y)continue;pn(t,l,null,d,s)}}for(l in y)d=y[l],l=="children"?h=d:l=="dangerouslySetInnerHTML"?u=d:l=="value"?v=d:l=="checked"?g=d:a&&typeof d!="function"||w[l]===d||pn(t,l,d,w[l],s);if(u)a||c&&(u.__html===c.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(c&&(t.innerHTML=""),Pf(t,_n(h)?h:[h],e,r,n,k==="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,i,o?o[0]:r.__k&&Jt(r,0),a,f),o!=null)for(l=o.length;l--;)Tf(o[l]);a||(l="value",k==="progress"&&v==null?t.removeAttribute("value"):v!==void 0&&(v!==t[l]||k==="progress"&&!v||k==="option"&&v!==w[l])&&pn(t,l,v,w[l],s),l="checked",g!==void 0&&g!==t[l]&&pn(t,l,g,w[l],s))}return t}function ao(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(s){R.__e(s,r)}}function Nf(t,e,r){var n,s;if(R.unmount&&R.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||ao(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){R.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&Nf(n[s],e,r||typeof t.type!="function");r||Tf(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Yv(t,e,r){return this.constructor(t,r)}function Xt(t,e,r){var n,s,o,i;R.__&&R.__(t,e),s=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],i=[],io(e,t=(!n&&r||e).__k=ot(Oe,null,[t]),s||wr,wr,e.namespaceURI,!n&&r?[r]:s?null:e.firstChild?br.call(e.childNodes):null,o,!n&&r?r:s?s.__e:e.firstChild,n,i),Rf(o,t,i)}function Df(t,e){Xt(t,e,Df)}function Kv(t,e,r){var n,s,o,i,a=st({},t.props);for(o in t.type&&t.type.defaultProps&&(i=t.type.defaultProps),e)o=="key"?n=e[o]:o=="ref"?s=e[o]:a[o]=e[o]===void 0&&i!==void 0?i[o]:e[o];return arguments.length>2&&(a.children=arguments.length>3?br.call(arguments,2):r),Sr(t.type,a,n||t.key,s||t.ref,null)}function fo(t,e){var r={__c:e="__cC"+Ef++,__:t,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,o;return this.getChildContext||(s=new Set,(o={})[e]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&s.forEach(function(a){a.__e=!0,oo(a)})},this.sub=function(i){s.add(i);var a=i.componentWillUnmount;i.componentWillUnmount=function(){s&&s.delete(i),a&&a.call(i)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}br=$f.slice,R={__e:function(t,e,r,n){for(var s,o,i;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(t)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,n||{}),i=s.__d),i)return s.__E=s}catch(a){t=a}throw t}},wf=0,Ye.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=st({},this.state),typeof t=="function"&&(t=t(st({},r),this.props)),t&&st(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),oo(this))},Ye.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oo(this))},Ye.prototype.render=Oe,Nt=[],kf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,to=function(t,e){return t.__v.__b-e.__v.__b},dn.__r=0,ro=0,no=Af(!1),so=Af(!0),Ef=0;var St,V,lo,Ff,Qt=0,Mf=[],X=R,Lf=X.__b,Uf=X.__r,jf=X.diffed,Bf=X.__c,Hf=X.unmount,zf=X.__;function Zt(t,e){X.__h&&X.__h(V,t,Qt||e),Qt=0;var r=V.__H||(V.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Ke(t){return Qt=1,co(Jf,t)}function co(t,e,r){var n=Zt(St++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Jf(void 0,e),function(a){var f=n.__N?n.__N[0]:n.__[0],l=n.t(f,a);f!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=V,!V.u)){var s=function(a,f,l){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!o||o.call(this,a,f,l);var c=!1;return u.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(c=!0)}}),!(!c&&n.__c.props===a)&&(!o||o.call(this,a,f,l))};V.u=!0;var o=V.shouldComponentUpdate,i=V.componentWillUpdate;V.componentWillUpdate=function(a,f,l){if(this.__e){var u=o;o=void 0,s(a,f,l),o=u}i&&i.call(this,a,f,l)},V.shouldComponentUpdate=s}return n.__N||n.__}function He(t,e){var r=Zt(St++,3);!X.__s&&_o(r.__H,e)&&(r.__=t,r.i=e,V.__H.__h.push(r))}function kr(t,e){var r=Zt(St++,4);!X.__s&&_o(r.__H,e)&&(r.__=t,r.i=e,V.__h.push(r))}function Wf(t){return Qt=5,kt(function(){return{current:t}},[])}function Gf(t,e,r){Qt=6,kr(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function kt(t,e){var r=Zt(St++,7);return _o(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function qf(t,e){return Qt=8,kt(function(){return t},e)}function Et(t){var e=V.context[t.__c],r=Zt(St++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(V)),e.props.value):t.__}function Vf(t,e){X.useDebugValue&&X.useDebugValue(e?e(t):t)}function Yf(){var t=Zt(St++,11);if(!t.__){for(var e=V.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Jv(){for(var t;t=Mf.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(hn),t.__H.__h.forEach(uo),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){V=null,Lf&&Lf(t)},X.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),zf&&zf(t,e)},X.__r=function(t){Uf&&Uf(t),St=0;var e=(V=t.__c).__H;e&&(lo===V?(e.__h=[],V.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(hn),e.__h.forEach(uo),e.__h=[],St=0)),lo=V},X.diffed=function(t){jf&&jf(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Mf.push(e)!==1&&Ff===X.requestAnimationFrame||((Ff=X.requestAnimationFrame)||Xv)(Jv)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),lo=V=null},X.__c=function(t,e){e.some(function(r){try{r.__h.forEach(hn),r.__h=r.__h.filter(function(n){return!n.__||uo(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],X.__e(n,r.__v)}}),Bf&&Bf(t,e)},X.unmount=function(t){Hf&&Hf(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{hn(n)}catch(s){e=s}}),r.__H=void 0,e&&X.__e(e,r.__v))};var Kf=typeof requestAnimationFrame=="function";function Xv(t){var e,r=function(){clearTimeout(n),Kf&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Kf&&(e=requestAnimationFrame(r))}function hn(t){var e=V,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),V=e}function uo(t){var e=V;t.__c=t.__(),V=e}function _o(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Jf(t,e){return typeof e=="function"?e(t):e}function po(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function ho(t,e){this.props=t,this.context=e}function Qv(t,e){function r(s){var o=this.props.ref,i=o==s.ref;return!i&&o&&(o.call?o(null):o.current=null),e?!e(this.props,s)||!i:po(this.props,s)}function n(s){return this.shouldComponentUpdate=r,ot(t,s)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(ho.prototype=new Ye).isPureReactComponent=!0,ho.prototype.shouldComponentUpdate=function(t,e){return po(this.props,t)||po(this.state,e)};var Xf=R.__b;R.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Xf&&Xf(t)};var Zv=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Qf(t){function e(r){if(!("ref"in r))return t(r,null);var n=r.ref;delete r.ref;var s=t(r,n);return r.ref=n,s}return e.$$typeof=Zv,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Zf=function(t,e){return t==null?null:it(it(t).map(e))},em={map:Zf,forEach:Zf,count:function(t){return t?it(t).length:0},only:function(t){var e=it(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:it},tm=R.__e;R.__e=function(t,e,r,n){if(t.then){for(var s,o=e;o=o.__;)if((s=o.__c)&&s.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),s.__c(t,e)}tm(t,e,r,n)};var el=R.unmount;function tl(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=function(n,s){for(var o in s)n[o]=s[o];return n}({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return tl(n,e,r)})),t}function rl(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return rl(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function gn(){this.__u=0,this.t=null,this.__b=null}function nl(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function rm(t){var e,r,n;function s(o){if(e||(e=t()).then(function(i){r=i.default||i},function(i){n=i}),n)throw n;if(!r)throw e;return ot(r,o)}return s.displayName="Lazy",s.__f=!0,s}function Er(){this.u=null,this.o=null}R.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),el&&el(t)},(gn.prototype=new Ye).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var s=nl(n.__v),o=!1,i=function(){o||(o=!0,r.__R=null,s?s(a):a())};r.__R=i;var a=function(){if(!--n.__u){if(n.state.__a){var f=n.state.__a;n.__v.__k[0]=rl(f,f.__c.__P,f.__c.__O)}var l;for(n.setState({__a:n.__b=null});l=n.t.pop();)l.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(i,i)},gn.prototype.componentWillUnmount=function(){this.t=[]},gn.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=tl(this.__b,r,n.__O=n.__P)}this.__b=null}var s=e.__a&&ot(Oe,null,t.fallback);return s&&(s.__u&=-33),[ot(Oe,null,e.__a?null:t.children),s]};var sl=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function nm(t){return this.getChildContext=function(){return t.context},t.children}function sm(t){var e=this,r=t.i;e.componentWillUnmount=function(){Xt(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,s){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Xt(ot(nm,{context:e.context},t.__v),e.l)}function om(t,e){var r=ot(sm,{__v:t,i:e});return r.containerInfo=e,r}(Er.prototype=new Ye).__a=function(t){var e=this,r=nl(e.__v),n=e.o.get(t);return n[0]++,function(s){var o=function(){e.props.revealOrder?(n.push(s),sl(e,t,n)):s()};r?r(o):o()}},Er.prototype.render=function(t){this.u=null,this.o=new Map;var e=it(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Er.prototype.componentDidUpdate=Er.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){sl(t,r,e)})};var ol=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,im=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,am=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,fm=/[A-Z0-9]/g,lm=typeof document<"u",cm=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function um(t,e,r){return e.__k==null&&(e.textContent=""),Xt(t,e),typeof r=="function"&&r(),t?t.__c:null}function _m(t,e,r){return Df(t,e),typeof r=="function"&&r(),t?t.__c:null}Ye.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ye.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var il=R.event;function dm(){}function pm(){return this.cancelBubble}function hm(){return this.defaultPrevented}R.event=function(t){return il&&(t=il(t)),t.persist=dm,t.isPropagationStopped=pm,t.isDefaultPrevented=hm,t.nativeEvent=t};var go,gm={enumerable:!1,configurable:!0,get:function(){return this.class}},al=R.vnode;R.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,s={},o=n.indexOf("-")===-1;for(var i in r){var a=r[i];if(!(i==="value"&&"defaultValue"in r&&a==null||lm&&i==="children"&&n==="noscript"||i==="class"||i==="className")){var f=i.toLowerCase();i==="defaultValue"&&"value"in r&&r.value==null?i="value":i==="download"&&a===!0?a="":f==="translate"&&a==="no"?a=!1:f[0]==="o"&&f[1]==="n"?f==="ondoubleclick"?i="ondblclick":f!=="onchange"||n!=="input"&&n!=="textarea"||cm(r.type)?f==="onfocus"?i="onfocusin":f==="onblur"?i="onfocusout":am.test(i)&&(i=f):f=i="oninput":o&&im.test(i)?i=i.replace(fm,"-$&").toLowerCase():a===null&&(a=void 0),f==="oninput"&&s[i=f]&&(i="oninputCapture"),s[i]=a}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=it(r.children).forEach(function(l){l.props.selected=s.value.indexOf(l.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=it(r.children).forEach(function(l){l.props.selected=s.multiple?s.defaultValue.indexOf(l.props.value)!=-1:s.defaultValue==l.props.value})),r.class&&!r.className?(s.class=r.class,Object.defineProperty(s,"className",gm)):(r.className&&!r.class||r.class&&r.className)&&(s.class=s.className=r.className),e.props=s}(t),t.$$typeof=ol,al&&al(t)};var fl=R.__r;R.__r=function(t){fl&&fl(t),go=t.__c};var ll=R.diffed;R.diffed=function(t){ll&&ll(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),go=null};var vm={ReactCurrentDispatcher:{current:{readContext:function(t){return go.__n[t.__c].props.value},useCallback:qf,useContext:Et,useDebugValue:Vf,useDeferredValue:ul,useEffect:He,useId:Yf,useImperativeHandle:Gf,useInsertionEffect:dl,useLayoutEffect:kr,useMemo:kt,useReducer:co,useRef:Wf,useState:Ke,useSyncExternalStore:pl,useTransition:_l}}};function mm(t){return ot.bind(null,t)}function vn(t){return!!t&&t.$$typeof===ol}function xm(t){return vn(t)&&t.type===Oe}function ym(t){return!!t&&!!t.displayName&&(typeof t.displayName=="string"||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function bm(t){return vn(t)?Kv.apply(null,arguments):t}function wm(t){return!!t.__k&&(Xt(null,t),!0)}function Sm(t){return t&&(t.base||t.nodeType===1&&t)||null}var km=function(t,e){return t(e)},Em=function(t,e){return t(e)},$m=Oe;function cl(t){t()}function ul(t){return t}function _l(){return[!1,cl]}var dl=kr,Tm=vn;function pl(t,e){var r=e(),n=Ke({h:{__:r,v:e}}),s=n[0].h,o=n[1];return kr(function(){s.__=r,s.v=e,vo(s)&&o({h:s})},[t,r,e]),He(function(){return vo(s)&&o({h:s}),t(function(){vo(s)&&o({h:s})})},[t]),r}function vo(t){var e,r,n=t.v,s=t.__;try{var o=n();return!((e=s)===(r=o)&&(e!==0||1/e==1/r)||e!=e&&r!=r)}catch{return!0}}var mo={useState:Ke,useId:Yf,useReducer:co,useEffect:He,useLayoutEffect:kr,useInsertionEffect:dl,useTransition:_l,useDeferredValue:ul,useSyncExternalStore:pl,startTransition:cl,useRef:Wf,useImperativeHandle:Gf,useMemo:kt,useCallback:qf,useContext:Et,useDebugValue:Vf,version:"18.3.1",Children:em,render:um,hydrate:_m,unmountComponentAtNode:wm,createPortal:om,createElement:ot,createContext:fo,createFactory:mm,cloneElement:bm,createRef:Wv,Fragment:Oe,isValidElement:vn,isElement:Tm,isFragment:xm,isMemo:ym,findDOMNode:Sm,Component:Ye,PureComponent:ho,memo:Qv,forwardRef:Qf,flushSync:Em,unstable_batchedUpdates:km,StrictMode:$m,Suspense:gn,SuspenseList:Er,lazy:rm,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vm};const Fe=()=>typeof window!="object"?{}:{...window.$superfiliateStorefront,scriptId:"superfiliate-storefront-script"},er=fo([{storefrontData:Fe(),loading:!1},t=>{}]);var re=(t=>(t.Open="Open",t.Hidden="Hidden",t.Folded="Folded",t))(re||{}),ue=(t=>(t.Passerby="Passerby",t.Lead="Lead",t.SuperfiliateShare="SuperfiliateShare",t.SuperfiliateReward="SuperfiliateReward",t))(ue||{});const mn="$sfIframeAuth.plainRefreshToken",xo=t=>{const{sfPortalUrl:e}=window.$superfiliateStorefront.defaultSfVariables||{};return`${e}${t}`.replace("/portal/portal","/portal")},Om=t=>{if(t===ue.Lead){const e=un().utm_campaign||yr();return Pm(e||"")}else if(t===ue.SuperfiliateReward){const e=yr();return Im(e||"")}else return Am()},Pm=t=>xo(`/portal/onSite/lead?code=${t}`),Im=t=>xo(`/portal/onSite/redeem?code=${t}`),Cm=()=>{var r,n,s,o,i,a,f,l;const t={customerEmail:(n=(r=window.Shopify)==null?void 0:r.checkout)==null?void 0:n.email,shopifyCustomerExternalId:(o=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:o.customer_id,shopifyOrderExternalId:(a=(i=window.Shopify)==null?void 0:i.checkout)==null?void 0:a.order_id,shopifyCheckoutToken:(l=(f=window.Shopify)==null?void 0:f.Checkout)==null?void 0:l.token},e=Object.entries(t).filter(([u,c])=>!!c).map(([u,c])=>`${u}=${encodeURIComponent(c||"")}`).join("&");return xo(`/portal/postPurchase/join?${e}`)},Am=()=>{var e;const t=window.localStorage.getItem(mn);return t?`${Fe().apiBaseUrl}/redirects/portal/auth/${t}`:((e=window.$superfiliateStorefront.defaultSfVariables)==null?void 0:e.sfPortalUrl)||"#"},Rm=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==mn)return;t.data.value?window.localStorage.setItem(mn,t.data.value):window.localStorage.removeItem(mn)}catch{return}})},xn=(...t)=>{console.log("[Superfiliate]",...t)},Dt=window.$superfiliateStorefront.health.environment!=="production"||document.cookie.includes("superfiliateStorefrontDebugInProduction")?xn:(...t)=>{};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.customConsoleLog=xn,window.$superfiliateStorefront.logging.debugConsoleLog=Dt;const Nm={CODE_SHARED:"Code Shared",CODE_GENERATED:"Code Generated"},Dm={PROGRAM_WIDGET_OPENED:"Program Widget Opened"};function hl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(r),!0).forEach(function(n){S(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hl(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yo(t){return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ee(t,e,r){return e&&gl(t.prototype,e),r&&gl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bo(t,e)}function yn(t){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(t)}function bo(t,e){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},bo(t,e)}function Fm(t,e){if(t==null)return{};var r,n,s=function(i,a){if(i==null)return{};var f,l,u={},c=Object.keys(i);for(l=0;l<c.length;l++)f=c[l],a.indexOf(f)>=0||(u[f]=i[f]);return u}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Mm(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(t)}function ml(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=yn(t);if(e){var s=yn(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Mm(this,r)}}function $r(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var o,i,a=[],f=!0,l=!1;try{for(s=s.call(r);!(f=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);f=!0);}catch(u){l=!0,i=u}finally{try{f||s.return==null||s.return()}finally{if(l)throw i}}return a}}(t,e)||So(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wo(t){return function(e){if(Array.isArray(e))return ko(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||So(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function So(t,e){if(t){if(typeof t=="string")return ko(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ko(t,e):void 0}}function ko(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ft(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=So(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var f=r.next();return i=f.done,f},e:function(f){a=!0,o=f},f:function(){try{i||r.return==null||r.return()}finally{if(a)throw o}}}}var Mt={DEBUG:!1,LIB_VERSION:"1.91.1"},Lm=Array.isArray,xl=Object.prototype,yl=xl.hasOwnProperty,Tr=xl.toString,_e=Lm||function(t){return Tr.call(t)==="[object Array]"},bl=function(t){return Tr.call(t)==="[object Uint8Array]"},at=function(t){try{return/^\s*\bfunction\b/.test(t)}catch{return!1}},$t=function(t){return t===Object(t)&&!_e(t)},Um=function(t){if($t(t)){for(var e in t)if(yl.call(t,e))return!1;return!0}return!1},L=function(t){return t===void 0},Ne=function(t){return Tr.call(t)=="[object String]"},Me=function(t){return t===null},ft=function(t){return Tr.call(t)=="[object Number]"},Eo=function(t){return Tr.call(t)==="[object Boolean]"},wl=Array.prototype,Sl=wl.forEach,kl=wl.indexOf,p=typeof window<"u"?window:void 0,El=p==null?void 0:p.navigator,$=p==null?void 0:p.document,se=El==null?void 0:El.userAgent,ve=p??{},$l="[PostHog.js]",b={_log:function(t){if(p&&(Mt.DEBUG||ve.POSTHOG_DEBUG)&&!L(p.console)&&p.console){for(var e=("__rrweb_original__"in p.console[t])?p.console[t].__rrweb_original__:p.console[t],r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];e.apply(void 0,[$l].concat(n))}},info:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];b._log.apply(b,["log"].concat(e))},warn:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];b._log.apply(b,["warn"].concat(e))},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];b._log.apply(b,["error"].concat(e))},critical:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).error.apply(t,[$l].concat(r))},uninitializedWarning:function(t){b.error("You must initialize PostHog before calling ".concat(t))}},$o={},To=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function tr(t,e,r){if(_e(t)){if(Sl&&t.forEach===Sl)t.forEach(e,r);else if("length"in t&&t.length===+t.length){for(var n=0,s=t.length;n<s;n++)if(n in t&&e.call(r,t[n],n)===$o)return}}}function G(t,e,r){if(!Me(t)&&!L(t)){if(_e(t))return tr(t,e,r);for(var n in t)if(yl.call(t,n)&&e.call(r,t[n],n)===$o)return}}var de=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return tr(r,function(s){for(var o in s)s[o]!==void 0&&(t[o]=s[o])}),t};function B(t,e){return t.indexOf(e)!==-1}var Tl=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},Ol=function(t){try{return t()}catch{return}},Pl=function(t){return function(){try{for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}catch(s){b.critical("Implementation error. Please turn on debug and contact support@posthog.com."),b.critical(s)}}},Oo=function(t){var e={};return G(t,function(r,n){Ne(r)&&r.length>0&&(e[n]=r)}),e},jm=["$performance_raw"];function Bm(t,e){return r=t,n=function(o,i){return i&&jm.indexOf(i)>-1?o:Ne(o)&&!Me(e)?o.slice(0,e):o},s=new Set,function o(i,a){return i!==Object(i)?n?n(i,a):i:s.has(i)?void 0:(s.add(i),_e(i)?(f=[],tr(i,function(l){f.push(o(l))})):(f={},G(i,function(l,u){s.has(l)||(f[u]=o(l,u))})),f);var f}(r);var r,n,s}function Po(t){var e,r,n,s,o,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,f=0,l="",u=[];if(!t)return t;t=Hm(t);do e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,r=o>>12&63,n=o>>6&63,s=63&o,u[f++]=i.charAt(e)+i.charAt(r)+i.charAt(n)+i.charAt(s);while(a<t.length);switch(l=u.join(""),t.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l}var Hm=function(t){var e,r,n,s,o="";for(e=r=0,n=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var i=t.charCodeAt(s),a=null;i<128?r++:a=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),Me(a)||(r>e&&(o+=t.substring(e,r)),o+=a,e=r=s+1)}return r>e&&(o+=t.substring(e,t.length)),o},zm=["ahrefsbot","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","hubspot","linkedinbot","mj12bot","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","twitterbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],Wm=function(t,e){if(!t)return!1;var r=t.toLowerCase();return zm.concat(e||[]).some(function(n){var s=n.toLowerCase();return r.includes?r.includes(s):r.indexOf(s)!==-1})},Or=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,r,n,s,o){if(e)if(e.addEventListener&&!s)e.addEventListener(r,n,!!o);else{var i="on"+r,a=e[i];e[i]=function(f,l,u){return function(c){if(c=c||t(p==null?void 0:p.event)){var h,d=!0;at(u)&&(h=u(c));var v=l.call(f,c);return h!==!1&&v!==!1||(d=!1),d}}}(e,n,a)}else b.error("No valid element provided to register_event")}}();function Pr(t,e){var r=function(){if(!$)return e("document not found");var n=$.createElement("script");n.type="text/javascript",n.src=t,n.onload=function(i){return e(void 0,i)},n.onerror=function(i){return e(i)};var s,o=$.querySelectorAll("body > script");o.length>0?(s=o[0].parentNode)===null||s===void 0||s.insertBefore(n,o[0]):$.body.appendChild(n)};$!=null&&$.body?r():$==null||$.addEventListener("DOMContentLoaded",r)}function bn(t){switch(yo(t.className)){case"string":return t.className;case"object":return("baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";default:return""}}function wn(t){var e="";return Sn(t)&&!Rl(t)&&t.childNodes&&t.childNodes.length&&G(t.childNodes,function(r){Cl(r)&&r.textContent&&(e+=To(r.textContent).split(/(\s+)/).filter(rr).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),To(e)}function Il(t){return!!t&&t.nodeType===1}function Lt(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Cl(t){return!!t&&t.nodeType===3}function Al(t){return!!t&&t.nodeType===11}var Io=["a","button","form","input","select","textarea","label"];function Sn(t){for(var e=t;e.parentNode&&!Lt(e,"body");e=e.parentNode){var r=bn(e).split(" ");if(B(r,"ph-sensitive")||B(r,"ph-no-capture"))return!1}if(B(bn(t).split(" "),"ph-include"))return!0;var n=t.type||"";if(Ne(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=t.name||t.id||"";return!(Ne(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function Rl(t){return!!(Lt(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||Lt(t,"select")||Lt(t,"textarea")||t.getAttribute("contenteditable")==="true")}function rr(t){return!(Me(t)||L(t)||Ne(t)&&(t=To(t),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(t)))}function Nl(t){var e=wn(t);return rr(e="".concat(e," ").concat(Dl(t)).trim())?e:""}function Dl(t){var e="";return t&&t.childNodes&&t.childNodes.length&&G(t.childNodes,function(r){var n;if(r&&((n=r.tagName)===null||n===void 0?void 0:n.toLowerCase())==="span")try{var s=wn(r);e="".concat(e," ").concat(s).trim(),r.childNodes&&r.childNodes.length&&(e="".concat(e," ").concat(Dl(r)).trim())}catch(o){b.error(o)}}),e}var Gm=function(){function t(e){Z(this,t),this.clicks=[],this.enabled=e}return ee(t,[{key:"isRageClick",value:function(e,r,n){if(!this.enabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(r-s.y)<30&&n-s.timestamp<1e3){if(this.clicks.push({x:e,y:r,timestamp:n}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:r,timestamp:n}];return!1}}]),t}(),Fl="$people_distinct_id",kn="__alias",Ir="__timers",Ml="$autocapture_disabled_server_side",Co="$session_recording_enabled_server_side",Ll="$console_log_recording_enabled_server_side",Ul="$session_recording_recorder_version_server_side",jl="$session_recording_network_payload_capture",En="$sesid",$n="$session_is_sampled",nr="$enabled_feature_flags",Ao="$early_access_features",sr="$stored_person_properties",Tt="$stored_group_properties",Ro="$surveys",Tn="$flag_call_reported",No="$user_state",Do="$posthog_quota_limited",Fo="$client_session_props",qm=[Fl,kn,"__cmpns",Ir,Co,En,nr,No,Do,Ao,Tt,sr,Ro,Tn,Fo];function Mo(t,e){return e.length>t?e.slice(0,t)+"...":e}var Ot={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(t){var e,r=Me(this._isDisabledServerSide)?!((e=t.persistence)===null||e===void 0||!e.props[Ml]):this._isDisabledServerSide,n=!!t.config.autocapture;this._isAutocaptureEnabled=n&&!r},_previousElementSibling:function(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Il(e));return e},_getAugmentPropertiesFromElement:function(t){if(!Sn(t))return{};var e={};return G(t.attributes,function(r){if(r.name.indexOf("data-ph-capture-attribute")===0){var n=r.name.replace("data-ph-capture-attribute-",""),s=r.value;n&&s&&rr(s)&&(e[n]=s)}}),e},_getPropertiesFromElement:function(t,e,r){var n,s=t.tagName.toLowerCase(),o={tag_name:s};Io.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=Mo(1024,Nl(t)):o.$el_text=Mo(1024,wn(t)));var i=bn(t);i.length>0&&(o.classes=i.split(" ").filter(function(c){return c!==""}));var a=(n=this.config)===null||n===void 0?void 0:n.element_attribute_ignorelist;G(t.attributes,function(c){var h;Rl(t)&&["name","id","class"].indexOf(c.name)===-1||a!=null&&a.includes(c.name)||!e&&rr(c.value)&&(h=c.name,!Ne(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")&&(o["attr__"+c.name]=Mo(1024,c.value))});for(var f=1,l=1,u=t;u=this._previousElementSibling(u);)f++,u.tagName===t.tagName&&l++;return o.nth_child=f,o.nth_of_type=l,o},_getDefaultProperties:function(t){return{$event_type:t,$ce_version:1}},_extractCustomPropertyValue:function(t){var e=[];return G($==null?void 0:$.querySelectorAll(t.css_selector),function(r){var n;["input","select"].indexOf(r.tagName.toLowerCase())>-1?n=r.value:r.textContent&&(n=r.textContent),rr(n)&&e.push(n)}),e.join(", ")},_getCustomProperties:function(t){var e=this,r={};return G(this._customProperties,function(n){G(n.event_selectors,function(s){G($==null?void 0:$.querySelectorAll(s),function(o){B(t,o)&&Sn(o)&&(r[n.name]=e._extractCustomPropertyValue(n))})})}),r},_getEventTarget:function(t){return L(t.target)?t.srcElement||null:(e=t.target)!==null&&e!==void 0&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e},_captureEvent:function(t,e){var r,n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"$autocapture",o=this._getEventTarget(t);if(Cl(o)&&(o=o.parentNode||null),s==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,e,"$rageclick"),o&&function(g,w){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!p||!g||Lt(g,"html")||!Il(g))return!1;if(y!=null&&y.url_allowlist){var k=p.location.href,U=y.url_allowlist;if(U&&!U.some(function(Q){return k.match(Q)}))return!1}if(y!=null&&y.dom_event_allowlist){var P=y.dom_event_allowlist;if(P&&!P.some(function(Q){return w.type===Q}))return!1}if(y!=null&&y.element_allowlist){var A=y.element_allowlist;if(A&&!A.some(function(Q){return g.tagName.toLowerCase()===Q}))return!1}if(y!=null&&y.css_selector_allowlist){var F=y.css_selector_allowlist;if(F&&!F.some(function(Q){return g.matches(Q)}))return!1}for(var j=!1,O=[g],te=!0,M=g;M.parentNode&&!Lt(M,"body");)if(Al(M.parentNode))O.push(M.parentNode.host),M=M.parentNode.host;else{if(!(te=M.parentNode||!1))break;if(Io.indexOf(te.tagName.toLowerCase())>-1)j=!0;else{var H=p.getComputedStyle(te);H&&H.getPropertyValue("cursor")==="pointer"&&(j=!0)}O.push(te),M=te}var ie=p.getComputedStyle(g);if(ie&&ie.getPropertyValue("cursor")==="pointer"&&w.type==="click")return!0;var me=g.tagName.toLowerCase();switch(me){case"html":return!1;case"form":return w.type==="submit";case"input":case"select":case"textarea":return w.type==="change"||w.type==="click";default:return j?w.type==="click":w.type==="click"&&(Io.indexOf(me)>-1||g.getAttribute("contenteditable")==="true")}}(o,t,this.config)){for(var i,a,f=[o],l=o;l.parentNode&&!Lt(l,"body");)Al(l.parentNode)?(f.push(l.parentNode.host),l=l.parentNode.host):(f.push(l.parentNode),l=l.parentNode);var u,c=[],h={},d=!1;if(G(f,function(g){var w=Sn(g);g.tagName.toLowerCase()==="a"&&(u=g.getAttribute("href"),u=w&&rr(u)&&u),B(bn(g).split(" "),"ph-no-capture")&&(d=!0),c.push(n._getPropertiesFromElement(g,e.config.mask_all_element_attributes,e.config.mask_all_text));var y=n._getAugmentPropertiesFromElement(g);de(h,y)}),e.config.mask_all_text||(o.tagName.toLowerCase()==="a"||o.tagName.toLowerCase()==="button"?c[0].$el_text=Nl(o):c[0].$el_text=wn(o)),u&&(c[0].attr__href=u),d)return!1;var v=de(this._getDefaultProperties(t.type),{$elements:c},(i=c[0])!==null&&i!==void 0&&i.$el_text?{$el_text:(a=c[0])===null||a===void 0?void 0:a.$el_text}:{},this._getCustomProperties(f),h);return e.capture(s,v),!0}},_navigate:function(t){p&&(p.location.href=t)},_addDomEventHandlers:function(t){var e=this;if(p&&$){var r=function(n){n=n||(p==null?void 0:p.event),e._captureEvent(n,t)};Or($,"submit",r,!1,!0),Or($,"change",r,!1,!0),Or($,"click",r,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(t){var e;Eo(t.__autocapture)||(this.config=t.__autocapture),(e=this.config)!==null&&e!==void 0&&e.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(r){return new RegExp(r)})),this.rageclicks=new Gm(t.config.rageclick)},afterDecideResponse:function(t,e){var r=e.config.token;this._initializedTokens.indexOf(r)>-1?b.info('autocapture already initialized for token "'+r+'"'):(e.persistence&&e.persistence.register(S({},Ml,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this._setIsAutocaptureEnabled(e),this._initializedTokens.push(r),t&&t.config&&t.config.enable_collect_everything&&this._isAutocaptureEnabled?(t.custom_properties&&(this._customProperties=t.custom_properties),this._addDomEventHandlers(e)):e.__autocapture=!1)},enabledForProject:function(t,e,r){if(!t)return!0;e=L(e)?10:e,r=L(r)?10:r;for(var n=0,s=0;s<t.length;s++)n+=t.charCodeAt(s);return n%e<r},isBrowserSupported:function(){return at($==null?void 0:$.querySelectorAll)}};(function(t){for(var e in t)at(t[e])&&(t[e]=t[e].bind(t))})(Ot),function(t){for(var e in t)at(t[e])&&(t[e]=Pl(t[e]))}(Ot);var Lo="$active_feature_flags",On="$override_feature_flags",Bl="$feature_flag_payloads",Hl=function(t){var e,r={},n=Ft(function(a){for(var f=Object.keys(a),l=f.length,u=new Array(l);l--;)u[l]=[f[l],a[f[l]]];return u}(t||{}));try{for(n.s();!(e=n.n()).done;){var s=$r(e.value,2),o=s[0],i=s[1];i&&(r[o]=i)}}catch(a){n.e(a)}finally{n.f()}return r},Vm=function(){function t(e){Z(this,t),this.instance=e,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return ee(t,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(nr),r=this.instance.get_property(On);if(!r)return e||{};for(var n=de({},e),s=Object.keys(r),o=0;o<s.length;o++)r[s[o]]===!1?delete n[s[o]]:n[s[o]]=r[s[o]];return this._override_warning||(b.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:r,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Bl)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;this.setReloadingPaused(!0);var r=this.instance.config.token,n=this.instance.get_property(sr),s=this.instance.get_property(Tt),o=Po(JSON.stringify({token:r,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:s,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:o},{method:"POST"},this.instance._prepare_callback(function(i){e.$anon_distinct_id=void 0,e.receivedFeatureFlags(i),e.setReloadingPaused(!1),e._startReloadTimer()}))}},{key:"getFeatureFlag",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,s=this.getFlagVariants()[e],o="".concat(s),i=this.instance.get_property(Tn)||{};return(r.send_event||!("send_event"in r))&&(!(e in i)||!i[e].includes(o))&&(_e(i[e])?i[e].push(o):i[e]=[o],(n=this.instance.persistence)===null||n===void 0||n.register(S({},Tn,i)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:s})),s}b.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,r);b.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(r){return r!==e})}},{key:"receivedFeatureFlags",value:function(e){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),n=this.getFlagPayloads();(function(s,o){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=s.featureFlags,l=s.featureFlagPayloads;if(f)if(_e(f)){var u,c={};if(f)for(var h=0;h<f.length;h++)c[f[h]]=!0;o&&o.register((S(u={},Lo,f),S(u,nr,c),u))}else{var d,v=f,g=l;s.errorsWhileComputingFlags&&(v=C(C({},i),v),g=C(C({},a),g)),o&&o.register((S(d={},Lo,Object.keys(Hl(v))),S(d,nr,v||{}),S(d,Bl,g||{}),d))}})(e,this.instance.persistence,r,n),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return b.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,e===!1)this.instance.persistence.unregister(On);else if(_e(e)){for(var r={},n=0;n<e.length;n++)r[e[n]]=!0;this.instance.persistence.register(S({},On,r))}else this.instance.persistence.register(S({},On,e))}},{key:"onFeatureFlags",value:function(e){var r=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),s=n.flags,o=n.flagVariants;e(s,o)}return function(){return r.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,r){var n,s,o=S({},"$feature_enrollment/".concat(e),r);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:r,$set:o}),this.setPersonPropertiesForFlags(o,!1);var i=C(C({},this.getFlagVariants()),{},S({},e,r));(n=this.instance.persistence)===null||n===void 0||n.register((S(s={},Lo,Object.keys(Hl(i))),S(s,nr,i),s)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(Ao);if(s&&!n)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var i,a=o.earlyAccessFeatures;return(i=r.instance.persistence)===null||i===void 0||i.register(S({},Ao,a)),e(a)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),r=this.getFlagVariants();return{flags:e.filter(function(n){return r[n]}),flagVariants:Object.keys(r).filter(function(n){return r[n]}).reduce(function(n,s){return n[s]=r[s],n},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var e=this._prepareFeatureFlagsForCallbacks(),r=e.flags,n=e.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,n)})}},{key:"setPersonPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.instance.get_property(sr)||{};this.instance.register(S({},sr,C(C({},n),e))),r&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(sr)}},{key:"setGroupPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.instance.get_property(Tt)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(function(s){n[s]=C(C({},n[s]),e[s]),delete e[s]}),this.instance.register(S({},Tt,C(C({},n),e))),r&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var r=this.instance.get_property(Tt)||{};this.instance.register(S({},Tt,C(C({},r),{},S({},e,{}))))}else this.instance.unregister(Tt)}}]),t}();Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return ft(t)&&isFinite(t)&&Math.floor(t)===t});var zl="0123456789abcdef",Ym=function(){function t(e){if(Z(this,t),this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}return ee(t,[{key:"toString",value:function(){for(var e="",r=0;r<this.bytes.length;r++)e=e+zl.charAt(this.bytes[r]>>>4)+zl.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new t(this.bytes.slice(0))}},{key:"equals",value:function(e){return this.compareTo(e)===0}},{key:"compareTo",value:function(e){for(var r=0;r<16;r++){var n=this.bytes[r]-e.bytes[r];if(n!==0)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(e,r,n,s){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||e<0||r<0||n<0||s<0||e>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|r>>>8,o[7]=r,o[8]=128|n>>>24,o[9]=n>>>16,o[10]=n>>>8,o[11]=n,o[12]=s>>>24,o[13]=s>>>16,o[14]=s>>>8,o[15]=s,new t(o)}}]),t}(),Km=function(){function t(){Z(this,t),S(this,"timestamp",0),S(this,"counter",0),S(this,"random",new Jm)}return ee(t,[{key:"generate",value:function(){var e=this.generateOrAbort();if(L(e)){this.timestamp=0;var r=this.generateOrAbort();if(L(r))throw new Error("Could not generate UUID after timestamp reset");return r}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Ym.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),t}(),Wl=function(t){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};p&&!L(p.crypto)&&crypto.getRandomValues&&(Wl=function(t){return crypto.getRandomValues(t)});var Gl,Jm=function(){function t(){Z(this,t),S(this,"buffer",new Uint32Array(8)),S(this,"cursor",1/0)}return ee(t,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(Wl(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),t}(),Ut=function(){return Xm().toString()},Xm=function(){return(Gl||(Gl=new Km)).generate()},Qm="Thu, 01 Jan 1970 00:00:00 GMT",Zm=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,ex=function(t){var e=t.match(Zm);return e?e[0]:""};function tx(t,e){if(e){var r=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$;if(!o||["localhost","127.0.0.1"].includes(s))return"";for(var i=s.split("."),a=i.length,f="dmn_chk_"+Ut(),l=new RegExp("(^|;)\\s*"+f+"=1");a--;){var u=i.slice(a).join("."),c=f+"=1;domain=."+u;if(o.cookie=c,l.test(o.cookie))return o.cookie=c+";expires="+Qm,u}return""}(t);if(!r){var n=ex(t);n!==r&&b.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var lt={is_supported:function(){return!!$},error:function(t){b.error("cookieStore error: "+t)},get:function(t){if($){try{for(var e=t+"=",r=$.cookie.split(";").filter(function(o){return o.length}),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return decodeURIComponent(s.substring(e.length,s.length))}}catch{}return null}},parse:function(t){var e;try{e=JSON.parse(lt.get(t))||{}}catch{}return e},set:function(t,e,r,n,s){if($)try{var o="",i="",a=tx($.location.hostname,n);if(r){var f=new Date;f.setTime(f.getTime()+24*r*60*60*1e3),o="; expires="+f.toUTCString()}s&&(i="; secure");var l=t+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+a+i;return $.cookie=l,l}catch{return}},remove:function(t,e){try{lt.set(t,"",-1,e)}catch{return}}},Uo=null,ne={is_supported:function(){if(!Me(Uo))return Uo;var t=!0;if(L(p))t=!1;else try{var e="__mplssupport__";ne.set(e,"xyz"),ne.get(e)!=='"xyz"'&&(t=!1),ne.remove(e)}catch{t=!1}return t||b.error("localStorage unsupported; falling back to cookie store"),Uo=t,t},error:function(t){b.error("localStorage error: "+t)},get:function(t){try{return p==null?void 0:p.localStorage.getItem(t)}catch(e){ne.error(e)}return null},parse:function(t){try{return JSON.parse(ne.get(t))||{}}catch{}return null},set:function(t,e){try{p==null||p.localStorage.setItem(t,JSON.stringify(e))}catch(r){ne.error(r)}},remove:function(t){try{p==null||p.localStorage.removeItem(t)}catch(e){ne.error(e)}}},rx=["distinct_id",En,$n],jo=C(C({},ne),{},{parse:function(t){try{var e={};try{e=lt.parse(t)||{}}catch{}var r=de(e,JSON.parse(ne.get(t)||"{}"));return ne.set(t,r),r}catch{}return null},set:function(t,e,r,n,s){try{ne.set(t,e);var o={};rx.forEach(function(i){e[i]&&(o[i]=e[i])}),Object.keys(o).length&&lt.set(t,o,r,n,s)}catch(i){ne.error(i)}},remove:function(t,e){try{p==null||p.localStorage.removeItem(t),lt.remove(t,e)}catch(r){ne.error(r)}}}),Pn={},nx={is_supported:function(){return!0},error:function(t){b.error("memoryStorage error: "+t)},get:function(t){return Pn[t]||null},parse:function(t){return Pn[t]||null},set:function(t,e){Pn[t]=e},remove:function(t){delete Pn[t]}},jt=null,pe={is_supported:function(){if(!Me(jt))return jt;if(jt=!0,L(p))jt=!1;else try{var t="__support__";pe.set(t,"xyz"),pe.get(t)!=='"xyz"'&&(jt=!1),pe.remove(t)}catch{jt=!1}return jt},error:function(t){b.error("sessionStorage error: ",t)},get:function(t){try{return p==null?void 0:p.sessionStorage.getItem(t)}catch(e){pe.error(e)}return null},parse:function(t){try{return JSON.parse(pe.get(t))||null}catch{}return null},set:function(t,e){try{p==null||p.sessionStorage.setItem(t,JSON.stringify(e))}catch(r){pe.error(r)}},remove:function(t){try{p==null||p.sessionStorage.removeItem(t)}catch(e){pe.error(e)}}},sx=["localhost","127.0.0.1"],ox=function(t,e){return!!function(r){try{new RegExp(r)}catch{return!1}return!0}(e)&&new RegExp(e).test(t)},ql=function(t,e){for(var r,n=((t.split("#")[0]||"").split("?")[1]||"").split("&"),s=0;s<n.length;s++){var o=n[s].split("=");if(o[0]===e){r=o;break}}if(!_e(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{b.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},In=function(t,e){var r=t.match(new RegExp(e+"=([^&]*)"));return r?r[1]:null},oe={campaignParams:function(t){var e=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid","msclkid"].concat(t||[]),r={};return G(e,function(n){var s=$?ql($.URL,n):"";s.length&&(r[n]=s)}),r},searchEngine:function(){var t=$==null?void 0:$.referrer;return t?t.search("https?://(.*)google.([^/?]*)")===0?"google":t.search("https?://(.*)bing.com")===0?"bing":t.search("https?://(.*)yahoo.com")===0?"yahoo":t.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var t=oe.searchEngine(),e=t!="yahoo"?"q":"p",r={};if(!Me(t)){r.$search_engine=t;var n=$?ql($.referrer,e):"";n.length&&(r.ph_keyword=n)}return r},browser:function(t,e,r){return e=e||"",r||B(t," OPR/")?B(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":B(t,"IEMobile")||B(t,"WPDesktop")?"Internet Explorer Mobile":B(t,"SamsungBrowser/")?"Samsung Internet":B(t,"Edge")||B(t,"Edg/")?"Microsoft Edge":B(t,"FBIOS")?"Facebook Mobile":B(t,"Chrome")?"Chrome":B(t,"CriOS")?"Chrome iOS":B(t,"UCWEB")||B(t,"UCBrowser")?"UC Browser":B(t,"FxiOS")?"Firefox iOS":B(e,"Apple")||function(n){return B(n,"Safari")&&!B(n,"Chrome")&&!B(n,"Android")}(t)?B(t,"Mobile")?"Mobile Safari":"Safari":B(t,"Android")?"Android Mobile":B(t,"Konqueror")||B(t,"konqueror")?"Konqueror":B(t,"Firefox")?"Firefox":B(t,"MSIE")||B(t,"Trident/")?"Internet Explorer":B(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,r){var n={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[oe.browser(t,e,r)];if(L(n))return null;for(var s=0;s<n.length;s++){var o=n[s],i=t.match(o);if(i)return parseFloat(i[i.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(t){if(/Windows/i.test(t)){if(/Phone/.test(t)||/WPDesktop/.test(t))return{os_name:"Windows Phone",os_version:""};var e=/Windows NT ([0-9.]+)/i.exec(t);return e&&e[1]?{os_name:"Windows",os_version:e[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(t)){var r=/OS (\d+)_(\d+)_?(\d+)?/i.exec(t);return r&&r[1]?{os_name:"iOS",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(t)){var n=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(t);return n&&n[1]?{os_name:"Android",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(t))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(t)){var s=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(t);return s&&s[1]?{os_name:"Mac OS X",os_version:[s[1],s[2],s[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(t)?{os_name:"Linux",os_version:""}:/CrOS/.test(t)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)&&!/Mobile/.test(t)?"Android Tablet":/Android/.test(t)?"Android":""},deviceType:function(t){var e=this.device(t);return e==="iPad"||e==="Android Tablet"?"Tablet":e?"Mobile":"Desktop"},referrer:function(){return($==null?void 0:$.referrer)||"$direct"},referringDomain:function(){if($==null||!$.referrer)return"$direct";var t=$.createElement("a");return t.href=$.referrer,t.host},properties:function(){if(!se)return{};var t=oe.os(se),e=t.os_name,r=t.os_version;return de(Oo({$os:e,$os_version:r,$browser:oe.browser(se,navigator.vendor,ve.opera),$device:oe.device(se),$device_type:oe.deviceType(se)}),{$current_url:p==null?void 0:p.location.href,$host:p==null?void 0:p.location.host,$pathname:p==null?void 0:p.location.pathname,$raw_user_agent:se.length>1e3?se.substring(0,997)+"...":se,$browser_version:oe.browserVersion(se,navigator.vendor,ve.opera),$browser_language:oe.browserLanguage(),$screen_height:p==null?void 0:p.screen.height,$screen_width:p==null?void 0:p.screen.width,$viewport_height:p==null?void 0:p.innerHeight,$viewport_width:p==null?void 0:p.innerWidth,$lib:"web",$lib_version:Mt.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Tl()/1e3})},people_properties:function(){if(!se)return{};var t=oe.os(se),e=t.os_name,r=t.os_version;return de(Oo({$os:e,$os_version:r,$browser:oe.browser(se,navigator.vendor,ve.opera)}),{$browser_version:oe.browserVersion(se,navigator.vendor,ve.opera)})}},ix=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Vl=function(){function t(e){Z(this,t);var r="";e.token&&(r=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=e.custom_campaign_params||[],e.persistence_name?this.name="ph_"+e.persistence_name:this.name="ph_"+r+"_posthog",ix.indexOf(e.persistence.toLowerCase())===-1&&(b.critical("Unknown persistence type "+e.persistence+"; falling back to cookie"),e.persistence="cookie");var n=e.persistence.toLowerCase();n==="localstorage"&&ne.is_supported()?this.storage=ne:n==="localstorage+cookie"&&jo.is_supported()?this.storage=jo:n==="sessionstorage"&&pe.is_supported()?this.storage=pe:this.storage=n==="memory"?nx:lt,this.user_state="anonymous",this.load(),this.update_config(e),this.save()}return ee(t,[{key:"properties",value:function(){var e={};return G(this.props,function(r,n){if(n===nr&&$t(r))for(var s=Object.keys(r),o=0;o<s.length;o++)e["$feature/".concat(s[o])]=r[s[o]];else a=n,f=!1,(Me(i=qm)?f:kl&&i.indexOf===kl?i.indexOf(a)!=-1:(G(i,function(l){if(f||(f=l===a))return $o}),f))||(e[n]=r);var i,a,f}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=de({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,r,n){var s=this;if($t(e)){L(r)&&(r="None"),this.expire_days=L(n)?this.default_expiry:n;var o=!1;if(G(e,function(i,a){s.props.hasOwnProperty(a)&&s.props[a]!==r||(s.props[a]=i,o=!0)}),o)return this.save(),!0}return!1}},{key:"register",value:function(e,r){var n=this;if($t(e)){this.expire_days=L(r)?this.default_expiry:r;var s=!1;if(G(e,function(o,i){e.hasOwnProperty(i)&&n.props[i]!==o&&(n.props[i]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(oe.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(oe.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||oe.referrer(),$referring_domain:this.props.$referring_domain||oe.referringDomain()})}},{key:"get_referrer_info",value:function(){return Oo({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(e){return G(this.props,function(r,n){n in e||(e[n]=r)}),e}},{key:"update_config",value:function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,r){var n=this.props[Ir]||{};n[e]=r,this.props[Ir]=n,this.save()}},{key:"remove_event_timer",value:function(e){var r=(this.props[Ir]||{})[e];return L(r)||(delete this.props[Ir][e],this.save()),r}},{key:"get_user_state",value:function(){return this.props[No]||"anonymous"}},{key:"set_user_state",value:function(e){this.props[No]=e,this.save()}},{key:"get_quota_limits",value:function(){return this.props[Do]||{}}},{key:"set_quota_limits",value:function(e){this.props[Do]=e,this.save()}}]),t}(),Yl=2,ax=4,Kl=3,fx=6,lx=0,cx="rrweb/console@1",Je,ux=ee(function t(e){var r,n,s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z(this,t),S(this,"bucketSize",100),S(this,"refillRate",10),S(this,"mutationBuckets",{}),S(this,"loggedTracker",{}),S(this,"refillBuckets",function(){Object.keys(s.mutationBuckets).forEach(function(i){s.mutationBuckets[i]=s.mutationBuckets[i]+s.refillRate,s.mutationBuckets[i]>=s.bucketSize&&delete s.mutationBuckets[i]})}),S(this,"getNodeOrRelevantParent",function(i){var a=s.rrweb.mirror.getNode(i);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var f=a.closest("svg");if(f)return[s.rrweb.mirror.getId(f),f]}return[i,a]}),S(this,"numberOfChanges",function(i){var a,f,l,u,c,h,d,v;return((a=(f=i.removes)===null||f===void 0?void 0:f.length)!==null&&a!==void 0?a:0)+((l=(u=i.attributes)===null||u===void 0?void 0:u.length)!==null&&l!==void 0?l:0)+((c=(h=i.texts)===null||h===void 0?void 0:h.length)!==null&&c!==void 0?c:0)+((d=(v=i.adds)===null||v===void 0?void 0:v.length)!==null&&d!==void 0?d:0)}),S(this,"throttleMutations",function(i){if(i.type!==Kl||i.data.source!==lx)return i;var a=i.data,f=s.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(u){var c,h,d,v=$r(s.getNodeOrRelevantParent(u.id),2),g=v[0],w=v[1];return s.mutationBuckets[g]===0?!1:(s.mutationBuckets[g]=(c=s.mutationBuckets[g])!==null&&c!==void 0?c:s.bucketSize,s.mutationBuckets[g]=Math.max(s.mutationBuckets[g]-1,0),s.mutationBuckets[g]===0&&(s.loggedTracker[g]||(s.loggedTracker[g]=!0,(h=(d=s.options).onBlockedNode)===null||h===void 0||h.call(d,g,w))),u)}));var l=s.numberOfChanges(a);return l!==0||f===l?i:void 0}),this.rrweb=e,this.options=o,this.refillRate=(r=this.options.refillRate)!==null&&r!==void 0?r:this.refillRate,this.bucketSize=(n=this.options.bucketSize)!==null&&n!==void 0?n:this.bucketSize,setInterval(function(){s.refillBuckets()},1e3)}),Jl=function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t}(Jl||{}),_x={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(t){return t},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1},dx=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Xl=function(t){var e;return Object.keys((e=t.requestHeaders)!==null&&e!==void 0?e:{}).forEach(function(r){var n;dx.includes(r.toLowerCase())&&((n=t.requestHeaders)===null||n===void 0||delete n[r])}),t},px="/s/";(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Je||(Je={}));var hx=[Je.MouseMove,Je.MouseInteraction,Je.Scroll,Je.ViewportResize,Je.Input,Je.TouchMove,Je.MediaInteraction,Je.Drag],gx=function(){function t(e){var r=this;if(Z(this,t),S(this,"isIdle",!1),S(this,"_linkedFlagSeen",!1),S(this,"_lastActivityTimestamp",Date.now()),S(this,"windowId",null),S(this,"sessionId",null),S(this,"_linkedFlag",null),S(this,"_sampleRate",null),S(this,"_minimumDuration",null),this.instance=e,this._captureStarted=!1,this._endpoint=px,this.stopRrweb=void 0,this.receivedDecide=!1,p==null||p.addEventListener("beforeunload",function(){r._flushBuffer()}),!this.instance.sessionManager)throw b.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return ee(t,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw b.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return ft(this._sampleRate)?this.instance.get_property($n):null}},{key:"sessionDuration",get:function(){var e,r,n=(e=this.buffer)===null||e===void 0?void 0:e.data[((r=this.buffer)===null||r===void 0?void 0:r.data.length)-1],s=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-s:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Co),r=!this.instance.config.disable_session_recording;return p&&e&&r}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(Ll),r=this.instance.config.enable_recording_console_log;return r??e}},{key:"recordingVersion",get:function(){var e,r=this.instance.get_property(Ul);return((e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recorderVersion)||r||"v1"}},{key:"networkPayloadCapture",get:function(){var e,r,n=this.instance.get_property(jl),s={recordHeaders:(e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recordHeaders,recordBody:(r=this.instance.config.session_recording)===null||r===void 0?void 0:r.recordBody},o=(s==null?void 0:s.recordHeaders)||(n==null?void 0:n.recordHeaders),i=(s==null?void 0:s.recordBody)||(n==null?void 0:n.recordBody);return o||i?{recordHeaders:o,recordBody:i}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?Ne(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":Eo(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(e){var r,n=this.sessionId!==e;if(ft(this._sampleRate)){var s,o=this.isSampled;n||!Eo(o)?s=Math.random()<this._sampleRate:s=o,s||b.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),(r=this.instance.persistence)===null||r===void 0||r.register(S({},$n,s))}else{var i;(i=this.instance.persistence)===null||i===void 0||i.register(S({},$n,null))}}},{key:"afterDecideResponse",value:function(e){var r,n,s,o,i,a,f,l,u=this;this.instance.persistence&&this.instance.persistence.register((S(l={},Co,!!e.sessionRecording),S(l,Ll,(i=e.sessionRecording)===null||i===void 0?void 0:i.consoleLogRecordingEnabled),S(l,Ul,(a=e.sessionRecording)===null||a===void 0?void 0:a.recorderVersion),S(l,jl,(f=e.sessionRecording)===null||f===void 0?void 0:f.networkPayloadCapture),l));var c=(r=e.sessionRecording)===null||r===void 0?void 0:r.sampleRate;this._sampleRate=L(c)||Me(c)?null:parseFloat(c);var h,d=(n=e.sessionRecording)===null||n===void 0?void 0:n.minimumDurationMilliseconds;if(this._minimumDuration=L(d)?null:d,this._linkedFlag=((s=e.sessionRecording)===null||s===void 0?void 0:s.linkedFlag)||null,(o=e.sessionRecording)!==null&&o!==void 0&&o.endpoint&&(this._endpoint=(h=e.sessionRecording)===null||h===void 0?void 0:h.endpoint),ft(this._sampleRate)&&this.sessionManager.onSessionId(function(g){u.makeSamplingDecision(g)}),Ne(this._linkedFlag)){var v=this._linkedFlag;this.instance.onFeatureFlags(function(g){u._linkedFlagSeen=g.includes(v)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(r=this.instance.sessionRecording)===null||r===void 0||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Tl()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var e=this;if(!L(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var r=this.recordingVersion==="v2"?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?Pr(this.instance.config.api_host+"/static/".concat(r,"?v=").concat(Mt.LIB_VERSION),function(n){if(n)return b.error("Could not load ".concat(r),n);e._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(e){var r;return e.type===Kl&&hx.indexOf((r=e.data)===null||r===void 0?void 0:r.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(e){var r=this._isInteractiveEvent(e);if(r||this.isIdle||e.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0),r&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryTakeFullSnapshot())),!this.isIdle){var n=this.sessionManager.checkAndGetSessionAndWindowId(!r,e.timestamp),s=n.windowId,o=n.sessionId,i=this.sessionId!==o,a=this.windowId!==s;[Yl,ax].indexOf(e.type)===-1&&(a||i)&&this._tryTakeFullSnapshot(),this.windowId=s,this.sessionId=o}}},{key:"_tryTakeFullSnapshot",value:function(){if(!this._captureStarted)return!1;try{var e;return(e=this.rrwebRecord)===null||e===void 0||e.takeFullSnapshot(),!0}catch(r){return b.error("Error taking full snapshot.",r),!1}}},{key:"_onScriptLoaded",value:function(){var e,r=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=p.rrweb?p.rrweb.record:p.rrwebRecord;for(var s=this.instance.config.session_recording,o=0,i=Object.entries(s||{});o<i.length;o++){var a=$r(i[o],2),f=a[0],l=a[1];f in n&&(n[f]=l)}if(this.rrwebRecord){this.mutationRateLimiter=(e=this.mutationRateLimiter)!==null&&e!==void 0?e:new ux(this.rrwebRecord,{onBlockedNode:function(w,y){var k="Too many mutations on node '".concat(w,"'. Rate limiting. This could be due to SVG animations or something similar");b.info(k,{node:y}),r.log("[PostHog Recorder] "+k,"warn")}});var u,c,h,d,v,g=[];ve.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&g.push(ve.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&at(ve.getRecordNetworkPlugin)&&g.push(ve.getRecordNetworkPlugin((u=this.instance.config,c=this.networkPayloadCapture,h=u.session_recording,d=h.recordHeaders!==!1&&c.recordHeaders,v=h.recordBody!==!1&&c.recordBody,h.maskRequestFn=at(u.session_recording.maskNetworkRequestFn)?function(w){var y,k,U,P=Xl(w);return(y=(k=(U=u.session_recording).maskNetworkRequestFn)===null||k===void 0?void 0:k.call(U,P))!==null&&y!==void 0?y:void 0}:void 0,h.maskRequestFn||(h.maskRequestFn=Xl),C(C(C({},_x),h),{},{recordHeaders:d,recordBody:v})))),this.stopRrweb=this.rrwebRecord(C({emit:function(w){r.onRRwebEmit(w)},plugins:g},n)),this.instance._addCaptureHook(function(w){try{if(w==="$pageview"){var y,k=p?r._maskUrl(p.location.href):"";if(!k)return;(y=r.rrwebRecord)===null||y===void 0||y.addCustomEvent("$pageview",{href:k})}}catch(U){b.error("Could not add $pageview to rrweb session",U)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1}else b.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"onRRwebEmit",value:function(e){if(e&&$t(e)){if(e.type===Jl.Meta){var r=this._maskUrl(e.data.href);if(!r)return;e.data.href=r}var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var s=function(a){var f=a;if(f&&$t(f)&&f.type===fx&&$t(f.data)&&f.data.plugin===cx){f.data.payload.payload.length>10&&(f.data.payload.payload=f.data.payload.payload.slice(0,10),f.data.payload.payload.push("...[truncated]"));for(var l=[],u=0;u<f.data.payload.payload.length;u++)f.data.payload.payload[u]&&f.data.payload.payload[u].length>2e3?l.push(f.data.payload.payload[u].slice(0,2e3)+"...[truncated]"):l.push(f.data.payload.payload[u]);return f.data.payload.payload=l,a}return a}(n),o=JSON.stringify(s).length;if(this._updateWindowAndSessionIds(s),!this.isIdle){var i={$snapshot_bytes:o,$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(i):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(e){var r=this.instance.config.session_recording;if(r.maskNetworkRequestFn){var n,s={url:e};return(n=s=r.maskNetworkRequestFn(s))===null||n===void 0?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var r=this._minimumDuration,n=this.sessionDuration,s=ft(n)&&n>=0,o=ft(r)&&s&&n<r;return this.status==="buffering"||o?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var r,n=this,s=2+(((r=this.buffer)===null||r===void 0?void 0:r.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+s>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),Me(this.buffer.sessionId)&&!Me(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){n._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:e.$snapshot_data.type===Yl}})}}]),t}(),Xe={entryType:0,timeOrigin:1,name:2,startTime:3,redirectStart:4,redirectEnd:5,workerStart:6,fetchStart:7,domainLookupStart:8,domainLookupEnd:9,connectStart:10,secureConnectionStart:11,connectEnd:12,requestStart:13,responseStart:14,responseEnd:15,decodedBodySize:16,encodedBodySize:17,initiatorType:18,nextHopProtocol:19,renderBlockingStatus:20,responseStatus:21,transferSize:22,element:23,renderTime:24,loadTime:25,size:26,id:27,url:28,domComplete:29,domContentLoadedEvent:30,domInteractive:31,loadEventEnd:32,loadEventStart:33,redirectCount:34,navigationType:35,unloadEventEnd:36,unloadEventStart:37,duration:39,timestamp:40},vx=["first-input","navigation","paint","resource"],mx=["/s/","/e/"],xx=function(){function t(e){Z(this,t),S(this,"_forceAllowLocalhost",!1),this.instance=e}return ee(t,[{key:"startObservingIfEnabled",value:function(){this.isEnabled()?this.startObserving():this.stopObserving()}},{key:"startObserving",value:function(){var e,r=this;if(!this.observer)if(L(p==null||(e=p.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes))b.info("[PerformanceObserver] not started because PerformanceObserver is not supported by this browser.");else if(!sx.includes(location.hostname)||this._forceAllowLocalhost)try{this.observer=new PerformanceObserver(function(s){s.getEntries().forEach(function(o){r._capturePerformanceEvent(o)})});var n=PerformanceObserver.supportedEntryTypes.filter(function(s){return vx.includes(s)});n.forEach(function(s){var o;(o=r.observer)===null||o===void 0||o.observe({type:s,buffered:!0})})}catch(s){b.error("PostHog failed to start performance observer",s),this.stopObserving()}else b.info("[PerformanceObserver] not started because we are on localhost.")}},{key:"stopObserving",value:function(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}},{key:"isObserving",value:function(){return!!this.observer}},{key:"isEnabled",value:function(){var e,r;return(e=(r=this.instance.config.capture_performance)!==null&&r!==void 0?r:this.remoteEnabled)!==null&&e!==void 0&&e}},{key:"afterDecideResponse",value:function(e){this.remoteEnabled=e.capturePerformance||!1,this.isEnabled()&&this.startObserving()}},{key:"_capturePerformanceEvent",value:function(e){if(e.name.indexOf(this.instance.config.api_host)===0){var r=e.name.replace(this.instance.config.api_host,"");if(mx.find(function(d){return r.indexOf(d)===0}))return}var n={url:e.name},s=this.instance.config.session_recording;if(s.maskNetworkRequestFn&&(n=s.maskNetworkRequestFn(n)),n){var o=e.toJSON();o.name=n.url;var i={},a=Math.floor(Date.now()-performance.now());for(var f in i[Xe.timeOrigin]=a,i[Xe.timestamp]=Math.floor(a+e.startTime),Xe)L(o[f])||(i[Xe[f]]=o[f]);if(this.capturePerformanceEvent(i),yx(e)){var l,u=Ft(e.serverTiming||[]);try{for(u.s();!(l=u.n()).done;){var c,h=l.value;this.capturePerformanceEvent((S(c={},Xe.timeOrigin,a),S(c,Xe.timestamp,Math.floor(a+e.startTime)),S(c,Xe.name,h.name),S(c,Xe.duration,h.duration),S(c,Xe.entryType,"serverTiming"),c))}}catch(d){u.e(d)}finally{u.f()}}}}},{key:"capturePerformanceEvent",value:function(e){var r,n=e[Xe.timestamp];(r=this.instance.sessionRecording)===null||r===void 0||r.onRRwebEmit({type:6,data:{plugin:"posthog/network@1",payload:e},timestamp:n})}}]),t}(),yx=function(t){return t.entryType==="navigation"||t.entryType==="resource"},bx=function(){function t(e){Z(this,t),this.instance=e,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return ee(t,[{key:"call",value:function(){var e=this,r=Po(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(sr),group_properties:this.instance.get_property(Tt),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:r,verbose:!0},{method:"POST"},function(n){return e.parseDecideResponse(n)})}},{key:"parseDecideResponse",value:function(e){var r,n,s=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),(e==null?void 0:e.status)!==0){if(!$||!$.body)return b.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){s.parseDecideResponse(e)},500);this.instance.toolbar.afterDecideResponse(e),(r=this.instance.sessionRecording)===null||r===void 0||r.afterDecideResponse(e),Ot.afterDecideResponse(e,this.instance),(n=this.instance.webPerformance)===null||n===void 0||n.afterDecideResponse(e),this.instance._afterDecideResponse(e),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.featureFlags.receivedFeatureFlags(e);var o=p==null?void 0:p.extendPostHogWithSurveys;e.surveys&&!o&&Pr(this.instance.config.api_host+"/static/surveys.js",function(c){if(c)return b.error("Could not load surveys script",c);p.extendPostHogWithSurveys(s.instance)});var i=p==null?void 0:p.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&L(i)&&Pr(this.instance.config.api_host+"/static/exception-autocapture.js",function(c){if(c)return b.error("Could not load exception autocapture script",c);p.extendPostHogWithExceptionAutocapture(s.instance,e)}),e.siteApps)if(this.instance.config.opt_in_site_apps){var a,f=this.instance.config.api_host,l=Ft(e.siteApps);try{var u=function(){var c=a.value,h=c.id,d=c.url,v=[f,f[f.length-1]==="/"&&d[0]==="/"?d.substring(1):d].join("");ve["__$$ph_site_app_".concat(h)]=s.instance,Pr(v,function(g){g&&b.error("Error while initializing PostHog app with config id ".concat(h),g)})};for(l.s();!(a=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}}else e.siteApps.length>0&&b.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}else b.error("Failed to fetch feature flags from PostHog.")}}]),t}(),wx=["https://app.posthog.com","https://eu.posthog.com"],Sx=["source"],kx=p!=null&&p.location?In(p.location.hash,"__posthog")||In(location.hash,"state"):null,Ex=function(){function t(e){Z(this,t),this.instance=e}return ee(t,[{key:"afterDecideResponse",value:function(e){var r=e.toolbarParams||e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&r.toolbarVersion&&r.toolbarVersion.indexOf("toolbar")===0&&this.loadToolbar(C({},r))}},{key:"maybeLoadToolbar",value:function(){var e,r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!p||!$)return!1;n=(e=n)!==null&&e!==void 0?e:p.location,o=(r=o)!==null&&r!==void 0?r:p.history;try{if(!s){try{p.localStorage.setItem("test","test"),p.localStorage.removeItem("test")}catch{return!1}s=p==null?void 0:p.localStorage}var i,a=kx||In(n.hash,"__posthog")||In(n.hash,"state"),f=a?Ol(function(){return JSON.parse(atob(decodeURIComponent(a)))})||Ol(function(){return JSON.parse(decodeURIComponent(a))}):null;return f&&f.action==="ph_authorize"?((i=f).source="url",i&&Object.keys(i).length>0&&(f.desiredHash?n.hash=f.desiredHash:o?o.replaceState("",$.title,n.pathname+n.search):n.hash="")):((i=JSON.parse(s.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}},{key:"loadToolbar",value:function(e){var r=this;if(!p||ve._postHogToolbarLoaded)return!1;ve._postHogToolbarLoaded=!0;var n=this.instance.config.api_host,s=3e5,o=Math.floor(Date.now()/s)*s,i="".concat(n).concat(n.endsWith("/")?"":"/","static/toolbar.js?t=").concat(o),a=!wx.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,f=C(C({token:this.instance.config.token},e),{},{apiURL:n},a?{instrument:!1}:{});f.source;var l=Fm(f,Sx);return p.localStorage.setItem("_postHogToolbarParams",JSON.stringify(l)),Pr(i,function(u){u?b.error("Failed to load toolbar",u):(ve.ph_load_toolbar||ve.ph_load_editor)(f,r.instance)}),Or(p,"turbolinks:load",function(){ve._postHogToolbarLoaded=!1,r.loadToolbar(f)}),!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(e,r,n)}}]),t}(),$x="__ph_opt_in_out_";function Tx(t,e){ec(!0,t,e)}function Ox(t,e){ec(!1,t,e)}function Px(t,e){return Zl(t,e)==="1"}function Ql(t,e){return!!function(r){if(r&&r.respectDnt){var n=r&&r.window||p,s=n==null?void 0:n.navigator,o=!1;return G([s==null?void 0:s.doNotTrack,s.msDoNotTrack,n.doNotTrack],function(i){B([!0,1,"1","yes"],i)&&(o=!0)}),o}return!1}(e)||Zl(t,e)==="0"}function Ix(t,e){Bo(e=e||{}).remove(Ho(t,e),!!e.crossSubdomainCookie)}function Bo(t){return(t=t||{}).persistenceType==="localStorage"?ne:t.persistenceType==="localStorage+cookie"?jo:lt}function Ho(t,e){return((e=e||{}).persistencePrefix||$x)+t}function Zl(t,e){return Bo(e).get(Ho(t,e))}function ec(t,e,r){Ne(e)&&e.length?(Bo(r=r||{}).set(Ho(e,r),t?1:0,ft(r.cookieExpiration)?r.cookieExpiration:null,r.crossSubdomainCookie,r.secureCookie),r.capture&&t&&r.capture(r.captureEventName||"$opt_in",r.captureProperties||{},{send_instantly:!0})):b.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token")}var tc=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3;Z(this,t),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=e}return ee(t,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return new Date().getTime()}}]),t}(),Cx=function(t){vl(r,tc);var e=ml(r);function r(n){var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3e3;return Z(this,r),(s=e.call(this,o)).handlePollRequest=n,s}return ee(r,[{key:"enqueue",value:function(n,s,o){this._event_queue.push({url:n,data:s,options:o}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var n=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(n._event_queue.length>0){var s=n.formatQueue(),o=function(a){var f=s[a],l=f.url,u=f.data,c=f.options;G(u,function(h,d){u[d].offset=Math.abs(u[d].timestamp-n.getTime()),delete u[d].timestamp}),n.handlePollRequest(l,u,c)};for(var i in s)o(i);n._event_queue.length=0,n._empty_queue_count=0}else n._empty_queue_count++;n._empty_queue_count>4&&(n.isPolling=!1,n._empty_queue_count=0),n.isPolling&&n.poll()},this._pollInterval)}},{key:"unload",value:function(){var n=this;clearTimeout(this._poller);var s=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var o=Object.values(s);[].concat(wo(o.filter(function(i){return i.url.indexOf("/e")===0})),wo(o.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){var a=i.url,f=i.data,l=i.options;n.handlePollRequest(a,f,C(C({},l),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var n={};return G(this._event_queue,function(s){var o=s.url,i=s.data,a=s.options,f=(a?a._batchKey:null)||o;L(n[f])&&(n[f]={data:[],url:o,options:a}),a&&n[f].options&&n[f].options._metrics&&!n[f].options._metrics.rrweb_full_snapshot&&(n[f].options._metrics.rrweb_full_snapshot=a._metrics.rrweb_full_snapshot),n[f].data.push(i)}),n}}]),r}(),De=Uint8Array,we=Uint16Array,or=Uint32Array,zo=new De([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wo=new De([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rc=new De([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nc=function(t,e){for(var r=new we(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var s=new or(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)s[o]=o-r[n]<<5|n;return[r,s]},sc=nc(zo,2),Ax=sc[0],Go=sc[1];Ax[28]=258,Go[258]=28;for(var oc=nc(Wo,0)[1],qo=new we(32768),Y=0;Y<32768;++Y){var Bt=(43690&Y)>>>1|(21845&Y)<<1;Bt=(61680&(Bt=(52428&Bt)>>>2|(13107&Bt)<<2))>>>4|(3855&Bt)<<4,qo[Y]=((65280&Bt)>>>8|(255&Bt)<<8)>>>1}var Cr=function(t,e,r){for(var n=t.length,s=0,o=new we(e);s<n;++s)++o[t[s]-1];var i,a=new we(e);for(s=0;s<e;++s)a[s]=a[s-1]+o[s-1]<<1;if(r){i=new we(1<<e);var f=15-e;for(s=0;s<n;++s)if(t[s])for(var l=s<<4|t[s],u=e-t[s],c=a[t[s]-1]++<<u,h=c|(1<<u)-1;c<=h;++c)i[qo[c]>>>f]=l}else for(i=new we(n),s=0;s<n;++s)i[s]=qo[a[t[s]-1]++]>>>15-t[s];return i},Ht=new De(288);for(Y=0;Y<144;++Y)Ht[Y]=8;for(Y=144;Y<256;++Y)Ht[Y]=9;for(Y=256;Y<280;++Y)Ht[Y]=7;for(Y=280;Y<288;++Y)Ht[Y]=8;var Cn=new De(32);for(Y=0;Y<32;++Y)Cn[Y]=5;var zt,Rx=Cr(Ht,9,0),Nx=Cr(Cn,5,0),ic=function(t){return(t/8>>0)+(7&t&&1)},ac=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof we?we:t instanceof or?or:De)(r-e);return n.set(t.subarray(e,r)),n},ct=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8},Ar=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},Vo=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,o=r.slice();if(!s)return[new De(0),0];if(s==1){var i=new De(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(A,F){return A.f-F.f}),r.push({s:-1,f:25001});var a=r[0],f=r[1],l=0,u=1,c=2;for(r[0]={s:-1,f:a.f+f.f,l:a,r:f};u!=s-1;)a=r[r[l].f<r[c].f?l++:c++],f=r[l!=u&&r[l].f<r[c].f?l++:c++],r[u++]={s:-1,f:a.f+f.f,l:a,r:f};var h=o[0].s;for(n=1;n<s;++n)o[n].s>h&&(h=o[n].s);var d=new we(h+1),v=Dx(r[u-1],d,0);if(v>e){n=0;var g=0,w=v-e,y=1<<w;for(o.sort(function(A,F){return d[F.s]-d[A.s]||A.f-F.f});n<s;++n){var k=o[n].s;if(!(d[k]>e))break;g+=y-(1<<v-d[k]),d[k]=e}for(g>>>=w;g>0;){var U=o[n].s;d[U]<e?g-=1<<e-d[U]++-1:++n}for(;n>=0&&g;--n){var P=o[n].s;d[P]==e&&(--d[P],++g)}v=e}return[new De(d),v]},Dx=function t(e,r,n){return e.s==-1?Math.max(t(e.l,r,n+1),t(e.r,r,n+1)):r[e.s]=n},fc=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new we(++e),n=0,s=t[0],o=1,i=function(f){r[n++]=f},a=1;a<=e;++a)if(t[a]==s&&a!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(s),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(s);o=1,s=t[a]}return[r.subarray(0,n),e]},Rr=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},An=function(t,e,r){var n=r.length,s=ic(e+2);t[s]=255&n,t[s+1]=n>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var o=0;o<n;++o)t[s+o+4]=r[o];return 8*(s+4+n)},lc=function(t,e,r,n,s,o,i,a,f,l,u){ct(e,u++,r),++s[256];for(var c=Vo(s,15),h=c[0],d=c[1],v=Vo(o,15),g=v[0],w=v[1],y=fc(h),k=y[0],U=y[1],P=fc(g),A=P[0],F=P[1],j=new we(19),O=0;O<k.length;++O)j[31&k[O]]++;for(O=0;O<A.length;++O)j[31&A[O]]++;for(var te=Vo(j,7),M=te[0],H=te[1],ie=19;ie>4&&!M[rc[ie-1]];--ie);var me,Q,Ue,Ct,Ze=l+5<<3,et=Rr(s,Ht)+Rr(o,Cn)+i,je=Rr(s,h)+Rr(o,g)+i+14+3*ie+Rr(j,M)+(2*j[16]+3*j[17]+7*j[18]);if(Ze<=et&&Ze<=je)return An(e,u,t.subarray(f,f+l));if(ct(e,u,1+(je<et)),u+=2,je<et){me=Cr(h,d,0),Q=h,Ue=Cr(g,w,0),Ct=g;var We=Cr(M,H,0);for(ct(e,u,U-257),ct(e,u+5,F-1),ct(e,u+10,ie-4),u+=14,O=0;O<ie;++O)ct(e,u+3*O,M[rc[O]]);u+=3*ie;for(var K=[k,A],le=0;le<2;++le){var z=K[le];for(O=0;O<z.length;++O){var xe=31&z[O];ct(e,u,We[xe]),u+=M[xe],xe>15&&(ct(e,u,z[O]>>>5&127),u+=z[O]>>>12)}}}else me=Rx,Q=Ht,Ue=Nx,Ct=Cn;for(O=0;O<a;++O)if(n[O]>255){xe=n[O]>>>18&31,Ar(e,u,me[xe+257]),u+=Q[xe+257],xe>7&&(ct(e,u,n[O]>>>23&31),u+=zo[xe]);var W=31&n[O];Ar(e,u,Ue[W]),u+=Ct[W],W>3&&(Ar(e,u,n[O]>>>5&8191),u+=Wo[W])}else Ar(e,u,me[n[O]]),u+=Q[n[O]];return Ar(e,u,me[256]),u+Q[256]},Fx=new or([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mx=new De(0),Lx=function(){for(var t=new or(256),e=0;e<256;++e){for(var r=e,n=9;--n;)r=(1&r&&3988292384)^r>>>1;t[e]=r}return t}(),Ux=function(){var t=4294967295;return{p:function(e){for(var r=t,n=0;n<e.length;++n)r=Lx[255&r^e[n]]^r>>>8;t=r},d:function(){return 4294967295^t}}},jx=function(t,e,r,n,s){return function(o,i,a,f,l,u){var c=o.length,h=new De(f+c+5*(1+Math.floor(c/7e3))+l),d=h.subarray(f,h.length-l),v=0;if(!i||c<8)for(var g=0;g<=c;g+=65535){var w=g+65535;w<c?v=An(d,v,o.subarray(g,w)):(d[g]=u,v=An(d,v,o.subarray(g,c)))}else{for(var y=Fx[i-1],k=y>>>13,U=8191&y,P=(1<<a)-1,A=new we(32768),F=new we(P+1),j=Math.ceil(a/3),O=2*j,te=function(rt){return(o[rt]^o[rt+1]<<j^o[rt+2]<<O)&P},M=new or(25e3),H=new we(288),ie=new we(32),me=0,Q=0,Ue=(g=0,0),Ct=0,Ze=0;g<c;++g){var et=te(g),je=32767&g,We=F[et];if(A[je]=We,F[et]=je,Ct<=g){var K=c-g;if((me>7e3||Ue>24576)&&K>423){v=lc(o,d,0,M,H,ie,Q,Ue,Ze,g-Ze,v),Ue=me=Q=0,Ze=g;for(var le=0;le<286;++le)H[le]=0;for(le=0;le<30;++le)ie[le]=0}var z=2,xe=0,W=U,Ie=je-We&32767;if(K>2&&et==te(g-Ie))for(var Hr=Math.min(k,K)-1,Bn=Math.min(32767,g),zr=Math.min(258,K);Ie<=Bn&&--W&&je!=We;){if(o[g+z]==o[g+z-Ie]){for(var Ge=0;Ge<zr&&o[g+Ge]==o[g+Ge-Ie];++Ge);if(Ge>z){if(z=Ge,xe=Ie,Ge>Hr)break;var Hn=Math.min(Ie,Ge-2),_t=0;for(le=0;le<Hn;++le){var At=g-Ie+le+32768&32767,tt=At-A[At]+32768&32767;tt>_t&&(_t=tt,We=At)}}}Ie+=(je=We)-(We=A[je])+32768&32767}if(xe){M[Ue++]=268435456|Go[z]<<18|oc[xe];var ar=31&Go[z],fr=31&oc[xe];Q+=zo[ar]+Wo[fr],++H[257+ar],++ie[fr],Ct=g+z,++me}else M[Ue++]=o[g],++H[o[g]]}}v=lc(o,d,u,M,H,ie,Q,Ue,Ze,g-Ze,v),u||(v=An(d,v,Mx))}return ac(h,0,f+ic(v)+l)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,r,n,!s)},Yo=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Bx=function(t,e){var r=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&Yo(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),r){t[3]=8;for(var n=0;n<=r.length;++n)t[n+10]=r.charCodeAt(n)}},Hx=function(t){return 10+(t.filename&&t.filename.length+1||0)};function zx(t,e){e===void 0&&(e={});var r=Ux(),n=t.length;r.p(t);var s=jx(t,e,Hx(e),8),o=s.length;return Bx(s,e),Yo(s,o-8,r.d()),Yo(s,o-4,n),s}function Wx(t,e){var r=t.length;if(!e&&typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var n=new De(t.length+(t.length>>>1)),s=0,o=function(l){n[s++]=l},i=0;i<r;++i){if(s+5>n.length){var a=new De(s+8+(r-i<<1));a.set(n),n=a}var f=t.charCodeAt(i);f<128||e?o(f):f<2048?(o(192|f>>>6),o(128|63&f)):f>55295&&f<57344?(o(240|(f=65536+(1047552&f)|1023&t.charCodeAt(++i))>>>18),o(128|f>>>12&63),o(128|f>>>6&63),o(128|63&f)):(o(224|f>>>12),o(128|f>>>6&63),o(128|63&f))}return ac(n,0,s)}(function(t){t.GZipJS="gzip-js",t.Base64="base64"})(zt||(zt={}));var cc=function(t,e,r){var n=e||{};n.ip=r.ip?1:0,n._=new Date().getTime().toString(),n.ver=Mt.LIB_VERSION;var s=t.split("?");if(s.length>1){var o,i=Ft(s[1].split("&"));try{for(i.s();!(o=i.n()).done;){var a=o.value.split("=")[0];L(n[a])||delete n[a]}}catch(l){i.e(l)}finally{i.f()}}var f=t.indexOf("?")>-1?"&":"?";return t+f+function(l){var u,c,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",d=[];return G(l,function(v,g){L(v)||L(g)||g==="undefined"||(u=encodeURIComponent(v.toString()),c=encodeURIComponent(g),d[d.length]=c+"="+u)}),d.join(h)}(n)},Ko=function t(e,r){if(r.blob&&e.buffer)return new Blob([bl(e)?e:e.buffer],{type:"text/plain"});if(r.sendBeacon||r.blob){var n=t(e,{method:"POST"});return new Blob([n],{type:"application/x-www-form-urlencoded"})}return r.method!=="POST"?null:(s=_e(e)||bl(e)?"data="+encodeURIComponent(e):"data="+encodeURIComponent(e.data),"compression"in e&&e.compression&&(s+="&compression="+e.compression),s);var s},uc=function(t){var e=t.url,r=t.data,n=t.headers,s=t.options,o=t.callback,i=t.retriesPerformedSoFar,a=t.retryQueue,f=t.onXHRError,l=t.timeout,u=l===void 0?6e4:l,c=t.onResponse;ft(i)&&i>0&&(e=cc(e,{retry_count:i},{}));var h=new XMLHttpRequest;h.open(s.method||"GET",e,!0);var d=Ko(r,s);G(n,function(v,g){h.setRequestHeader(g,v)}),s.method!=="POST"||s.blob||h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.timeout=u,h.withCredentials=!0,h.onreadystatechange=function(){if(h.readyState===4)if(c==null||c(h),h.status===200){if(o){var v;try{v=JSON.parse(h.responseText)}catch(g){return void b.error(g)}o(v)}}else at(f)&&f(h),(h.status<400||h.status>500)&&a.enqueue({url:e,data:r,options:s,headers:n,retriesPerformedSoFar:(i||0)+1,callback:o}),o==null||o({status:0})},h.send(d)},Gx=18e5,qx=function(t){vl(r,tc);var e=ml(r);function r(n,s){var o;return Z(this,r),(o=e.call(this)).isPolling=!1,o.queue=[],o.areWeOnline=!0,o.onXHRError=n,o.rateLimiter=s,!L(p)&&"onLine"in p.navigator&&(o.areWeOnline=p.navigator.onLine,p.addEventListener("online",function(){o._handleWeAreNowOnline()}),p.addEventListener("offline",function(){o.areWeOnline=!1})),o}return ee(r,[{key:"enqueue",value:function(n){var s=n.retriesPerformedSoFar||0;if(!(s>=10)){var o=function(f){var l=3e3*Math.pow(2,f),u=l/2,c=Math.min(Gx,l),h=(Math.random()-.5)*(c-u);return Math.ceil(c+h)}(s),i=new Date(Date.now()+o);this.queue.push({retryAt:i,requestData:n});var a="Enqueued failed request for retry in ".concat(o);navigator.onLine||(a+=" (Browser is offline)"),b.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var n=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){n.areWeOnline&&n.queue.length>0&&n.flush(),n.poll()},this._pollInterval)}},{key:"flush",value:function(){var n=new Date(Date.now()),s=this.queue.filter(function(f){return f.retryAt<n});if(s.length>0){this.queue=this.queue.filter(function(f){return f.retryAt>=n});var o,i=Ft(s);try{for(i.s();!(o=i.n()).done;){var a=o.value.requestData;this._executeXhrRequest(a)}}catch(f){i.e(f)}finally{i.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var n,s=Ft(this.queue);try{for(s.s();!(n=s.n()).done;){var o=n.value.requestData,i=o.url,a=o.data,f=o.options;if(this.rateLimiter.isRateLimited(f._batchKey))b.warn("[RetryQueue] is quota limited. Dropping request.");else try{p==null||p.navigator.sendBeacon(i,Ko(a,C(C({},f),{},{sendBeacon:!0})))}catch(l){b.error(l)}}}catch(l){s.e(l)}finally{s.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(n){var s=n.url,o=n.data,i=n.options,a=n.headers,f=n.callback,l=n.retriesPerformedSoFar;this.rateLimiter.isRateLimited(i._batchKey)||uc({url:s,data:o||{},options:i||{},headers:a||{},retriesPerformedSoFar:l||0,callback:f,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),r}(),Rn=1800,_c=60,Vx=864e5,Yx=function(){function t(e,r,n,s){Z(this,t),S(this,"_sessionIdChangedHandlers",[]),this.config=e,this.persistence=r,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||Ut,this._windowIdGenerator=s||Ut;var o=e.persistence_name||e.token,i=e.session_idle_timeout_seconds||Rn;if(ft(i)?i>Rn?b.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):i<_c&&b.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(b.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),i=Rn),this._sessionTimeoutMs=1e3*Math.min(Math.max(i,_c),Rn),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var a=pe.parse(this._window_id_storage_key),f=pe.parse(this._primary_window_exists_storage_key);a&&!f?this._windowId=a:pe.remove(this._window_id_storage_key),pe.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return ee(t,[{key:"onSessionId",value:function(e){var r=this;return L(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){r._sessionIdChangedHandlers=r._sessionIdChangedHandlers.filter(function(n){return n!==e})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&pe.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&pe.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?pe.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,r,n){e===this._sessionId&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this._sessionId=e,this.persistence.register(S({},En,[r,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[En];return _e(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;p==null||p.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&pe.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),n=$r(this._getSessionId(),3),s=n[0],o=n[1],i=n[2],a=this._getWindowId(),f=i&&i>0&&Math.abs(r-i)>Vx,l=!1,u=!o,c=!e&&Math.abs(r-s)>this._sessionTimeoutMs;u||c||f?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),i=r,l=!0):a||(a=this._windowIdGenerator(),l=!0);var h=s===0||!e||f?r:s,d=i===0?new Date().getTime():i;return this._setWindowId(a),this._setSessionId(o,h,d),l&&this._sessionIdChangedHandlers.forEach(function(v){return v(o,a)}),{sessionId:o,windowId:a,sessionStartTimestamp:d}}}]),t}(),Kx=ee(function t(e,r,n,s){Z(this,t),this.name="posthog-js",this.setupOnce=function(o){o(function(i){var a,f,l,u,c;if(i.level!=="error"||!e.__loaded)return i;i.tags||(i.tags={});var h=e.config.ui_host||e.config.api_host;i.tags["PostHog Person URL"]=h+"/person/"+e.get_distinct_id(),e.sessionRecordingStarted()&&(i.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var d=((a=i.exception)===null||a===void 0?void 0:a.values)||[],v={$exception_message:(f=d[0])===null||f===void 0?void 0:f.value,$exception_type:(l=d[0])===null||l===void 0?void 0:l.type,$exception_personURL:h+"/person/"+e.get_distinct_id(),$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(u=d[0])===null||u===void 0?void 0:u.value,$sentry_exception_type:(c=d[0])===null||c===void 0?void 0:c.type,$sentry_tags:i.tags};return r&&n&&(v.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+i.event_id),e.capture("$exception",v),i})}}),Jx=function(t){Promise&&Promise.resolve||b.warn("This browser does not have Promise support, and can not use the segment integration");var e=function(r,n){r.event.userId||r.event.anonymousId===t.get_distinct_id()||t.reset(),r.event.userId&&r.event.userId!==t.get_distinct_id()&&(t.register({distinct_id:r.event.userId}),t.reloadFeatureFlags());var s=t._calculate_event_properties(n,r.event.properties);return r.event.properties=Object.assign({},s,r.event.properties),r};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(r){return e(r,r.event.event)},page:function(r){return e(r,"$pageview")},identify:function(r){return e(r,"$identify")},screen:function(r){return e(r,"$screen")}}},Xx=function(){function t(){var e=this;Z(this,t),S(this,"_hasSeenPageView",!1),S(this,"_updateScrollData",function(){var r,n,s,o;e._pageViewData||(e._pageViewData=e._createPageViewData());var i=e._pageViewData,a=e._scrollY(),f=e._scrollHeight(),l=e._contentY(),u=e._contentHeight();i.lastScrollY=a,i.maxScrollY=Math.max(a,(r=i.maxScrollY)!==null&&r!==void 0?r:0),i.maxScrollHeight=Math.max(f,(n=i.maxScrollHeight)!==null&&n!==void 0?n:0),i.lastContentY=l,i.maxContentY=Math.max(l,(s=i.maxContentY)!==null&&s!==void 0?s:0),i.maxContentHeight=Math.max(u,(o=i.maxContentHeight)!==null&&o!==void 0?o:0)})}return ee(t,[{key:"_createPageViewData",value:function(){var e;return{pathname:(e=p==null?void 0:p.location.pathname)!==null&&e!==void 0?e:""}}},{key:"doPageView",value:function(){var e,r;return this._hasSeenPageView?(r=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,r=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),C({$prev_pageview_pathname:(e=r)===null||e===void 0?void 0:e.pathname},this._calculatePrevPageScrollProperties(r))}},{key:"doPageLeave",value:function(){var e=this._pageViewData;return C({$prev_pageview_pathname:e==null?void 0:e.pathname},this._calculatePrevPageScrollProperties(e))}},{key:"_calculatePrevPageScrollProperties",value:function(e){if(!e||e.maxScrollHeight==null||e.lastScrollY==null||e.maxScrollY==null||e.maxContentHeight==null||e.lastContentY==null||e.maxContentY==null)return{};var r=e.maxScrollHeight,n=e.lastScrollY,s=e.maxScrollY,o=e.maxContentHeight,i=e.lastContentY,a=e.maxContentY;return r=Math.ceil(r),n=Math.ceil(n),s=Math.ceil(s),o=Math.ceil(o),i=Math.ceil(i),a=Math.ceil(a),{$prev_pageview_last_scroll:n,$prev_pageview_last_scroll_percentage:r<=1?1:Nn(n/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Nn(s/r,0,1),$prev_pageview_last_content:i,$prev_pageview_last_content_percentage:o<=1?1:Nn(i/o,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:o<=1?1:Nn(a/o,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){p==null||p.addEventListener("scroll",this._updateScrollData),p==null||p.addEventListener("scrollend",this._updateScrollData),p==null||p.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){p==null||p.removeEventListener("scroll",this._updateScrollData),p==null||p.removeEventListener("scrollend",this._updateScrollData),p==null||p.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return p?Math.max(0,p.document.documentElement.scrollHeight-p.document.documentElement.clientHeight):0}},{key:"_scrollY",value:function(){return p&&(p.scrollY||p.pageYOffset||p.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){return(p==null?void 0:p.document.documentElement.scrollHeight)||0}},{key:"_contentY",value:function(){var e=(p==null?void 0:p.document.documentElement.clientHeight)||0;return this._scrollY()+e}}]),t}();function Nn(t,e,r){return Math.max(e,Math.min(t,r))}var Nr,Jo,he,Qx={icontains:function(t){return!!p&&p.location.href.toLowerCase().indexOf(t.toLowerCase())>-1},regex:function(t){return!!p&&ox(p.location.href,t)},exact:function(t){return(p==null?void 0:p.location.href)===t}},Zx=function(){function t(e){Z(this,t),this.instance=e}return ee(t,[{key:"getSurveys",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(Ro);if(s&&!n)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var i,a=o.surveys||[];return(i=r.instance.persistence)===null||i===void 0||i.register(S({},Ro,a)),e(a)})}},{key:"getActiveMatchingSurveys",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(s){var o=s.filter(function(i){return!(!i.start_date||i.end_date)}).filter(function(i){var a,f,l,u;if(!i.conditions)return!0;var c=(a=i.conditions)===null||a===void 0||!a.url||Qx[(f=(l=i.conditions)===null||l===void 0?void 0:l.urlMatchType)!==null&&f!==void 0?f:"icontains"](i.conditions.url),h=(u=i.conditions)===null||u===void 0||!u.selector||($==null?void 0:$.querySelector(i.conditions.selector));return c&&h}).filter(function(i){if(!i.linked_flag_key&&!i.targeting_flag_key)return!0;var a=!i.linked_flag_key||r.instance.featureFlags.isFeatureEnabled(i.linked_flag_key),f=!i.targeting_flag_key||r.instance.featureFlags.isFeatureEnabled(i.targeting_flag_key);return a&&f});return e(o)},n)}}]),t}(),ey=6e4,ty=function(){function t(){var e=this;Z(this,t),S(this,"limits",{}),S(this,"checkForLimiting",function(r){try{var n=r.responseText;if(!n||!n.length)return;(JSON.parse(n).quota_limited||[]).forEach(function(s){b.info("[RateLimiter] ".concat(s||"events"," is quota limited.")),e.limits[s]=new Date().getTime()+ey})}catch(s){return void b.error(s)}})}return ee(t,[{key:"isRateLimited",value:function(e){var r=this.limits[e||"events"]||!1;return r!==!1&&new Date().getTime()<r}}]),t}(),ry=function(){return C({initialPathName:(p==null?void 0:p.location.pathname)||"",referringDomain:oe.referringDomain()},oe.campaignParams())},ny=function(){function t(e,r,n){var s=this;Z(this,t),S(this,"_onSessionIdCallback",function(o){var i=s._getStoredProps();if(!i||i.sessionId!==o){var a={sessionId:o,props:s._sessionSourceParamGenerator()};s._persistence.register(S({},Fo,a))}}),this._sessionIdManager=e,this._persistence=r,this._sessionSourceParamGenerator=n||ry,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return ee(t,[{key:"_getStoredProps",value:function(){return this._persistence.props[Fo]}},{key:"getSessionProps",value:function(){var e,r=(e=this._getStoredProps())===null||e===void 0?void 0:e.props;return r?{$client_session_initial_referring_host:r.referringDomain,$client_session_initial_pathname:r.initialPathName,$client_session_initial_utm_source:r.utm_source,$client_session_initial_utm_campaign:r.utm_campaign,$client_session_initial_utm_medium:r.utm_medium,$client_session_initial_utm_content:r.utm_content,$client_session_initial_utm_term:r.utm_term}:{}}}]),t}();(function(t){t[t.INIT_MODULE=0]="INIT_MODULE",t[t.INIT_SNIPPET=1]="INIT_SNIPPET"})(Nr||(Nr={}));var Xo=function(){},Dn={},Pe="posthog",Fn=(p==null?void 0:p.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,dc=!Fn&&(se==null?void 0:se.indexOf("MSIE"))===-1&&(se==null?void 0:se.indexOf("Mozilla"))===-1,pc=function(){var t,e,r;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(e=$==null?void 0:$.location,r=e==null?void 0:e.hostname,!!Ne(r)&&r.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"cookie",persistence_name:"",cookie_name:"",loaded:Xo,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:(p==null||(t=p.location)===null||t===void 0?void 0:t.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(n){var s="Bad HTTP status: "+n.status+" "+n.statusText;b.error(s)},get_device_id:function(n){return n},_onCapture:Xo,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},Qo=function(t,e,r,n){var s,o=r!==Pe&&he?r?he[r]:void 0:he,i={initComplete:!1,syncCode:!1},a=function(f){return function(l){i[f]||(i[f]=!0,i.initComplete&&i.syncCode&&(n==null||n(l)))}};if(o&&Jo===Nr.INIT_MODULE)s=o;else{if(o&&!_e(o))return void b.error("You have already initialized "+r);s=new Zo}return s._init(t,e,r,a("initComplete")),s.toolbar.maybeLoadToolbar(),s.sessionRecording=new gx(s),s.sessionRecording.startRecordingIfEnabled(),s.webPerformance=new xx(s),s.webPerformance.startObservingIfEnabled(),s.config.__preview_measure_pageview_stats&&s.pageViewManager.startMeasuringScrollPosition(),s.__autocapture=s.config.autocapture,Ot._setIsAutocaptureEnabled(s),Ot._isAutocaptureEnabled&&(s.__autocapture=s.config.autocapture,Ot.enabledForProject(s.config.token,100,100)?Ot.isBrowserSupported()?Ot.init(s):(s.__autocapture=!1,b.info("Disabling Automatic Event Collection because this browser is not supported")):(s.__autocapture=!1,b.info("Not in active bucket: disabling Automatic Event Collection."))),Mt.DEBUG=Mt.DEBUG||s.config.debug,!L(o)&&_e(o)&&(s._execute_array.call(s.people,o.people),s._execute_array(o)),a("syncCode")(s),s},Zo=function(){function t(){var e=this;Z(this,t),this.config=pc(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=Kx,this.segmentIntegration=function(){return Jx(e)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.featureFlags=new Vm(this),this.toolbar=new Ex(this),this.pageViewManager=new Xx,this.surveys=new Zx(this),this.rateLimiter=new ty,this.people={set:function(r,n,s){var o=Ne(r)?S({},r,n):r;e.setPersonProperties(o),s==null||s({})},set_once:function(r,n,s){var o=Ne(r)?S({},r,n):r;e.setPersonProperties(void 0,o),s==null||s({})}}}return ee(t,[{key:"init",value:function(e,r,n){if(L(n))b.critical("You must name your new library: init(token, config, name)");else{if(n!==Pe){var s=Qo(e,r,n,function(o){he[n]=o,o._loaded()});return he[n]=s,s}b.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(e){var r,n,s,o=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var l,u={segmentRegister:!1,syncCode:!1},c=function(A){return function(){u[A]||(u[A]=!0,u.segmentRegister&&u.syncCode&&(f==null||f(o)))}};if(this.set_config(de({},pc(),i,{name:a,token:e,callback_fn:(a===Pe?a:Pe+"."+a)+"._jsc"})),this._jsc=function(){},(p!=null&&(r=p.rrweb)!==null&&r!==void 0&&r.record||p!=null&&p.rrwebRecord)&&(this.__loaded_recorder_version=p==null||(l=p.rrweb)===null||l===void 0?void 0:l.version),this.persistence=new Vl(this.config),this._requestQueue=new Cx(this._handle_queued_event.bind(this)),this._retryQueue=new qx(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new Yx(this.config,this.persistence),this.sessionPropsManager=new ny(this.sessionManager,this.persistence),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Vl(C(C({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),i.segment?(this.config.get_device_id=function(){return i.segment.user().anonymousId()},i.segment.user().id()&&(this.register({distinct_id:i.segment.user().id()}),this.persistence.set_user_state("identified")),i.segment.register(this.segmentIntegration()).then(c("segmentRegister"))):c("segmentRegister")(),((n=i.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var h,d,v=this.config.get_device_id(Ut()),g=(h=i.bootstrap)!==null&&h!==void 0&&h.isIdentifiedID?v:i.bootstrap.distinctID;this.persistence.set_user_state((d=i.bootstrap)!==null&&d!==void 0&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:g})}if(this._hasBootstrappedFeatureFlags()){var w,y,k=Object.keys(((w=i.bootstrap)===null||w===void 0?void 0:w.featureFlags)||{}).filter(function(A){var F,j;return!((F=i.bootstrap)===null||F===void 0||(j=F.featureFlags)===null||j===void 0||!j[A])}).reduce(function(A,F){var j,O;return A[F]=((j=i.bootstrap)===null||j===void 0||(O=j.featureFlags)===null||O===void 0?void 0:O[F])||!1,A},{}),U=Object.keys(((y=i.bootstrap)===null||y===void 0?void 0:y.featureFlagPayloads)||{}).filter(function(A){return k[A]}).reduce(function(A,F){var j,O,te,M;return(j=i.bootstrap)!==null&&j!==void 0&&(O=j.featureFlagPayloads)!==null&&O!==void 0&&O[F]&&(A[F]=(te=i.bootstrap)===null||te===void 0||(M=te.featureFlagPayloads)===null||M===void 0?void 0:M[F]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:k,featureFlagPayloads:U})}if(!this.get_distinct_id()){var P=this.config.get_device_id(Ut());this.register_once({distinct_id:P,$device_id:P},""),this.persistence.set_user_state("anonymous")}p==null||(s=p.addEventListener)===null||s===void 0||s.call(p,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),c("syncCode")()}},{key:"_afterDecideResponse",value:function(e){var r;if(this.compression={},e.supportedCompression&&!this.config.disable_compression){var n,s={},o=Ft(e.supportedCompression);try{for(o.s();!(n=o.n()).done;)s[n.value]=!0}catch(i){o.e(i)}finally{o.f()}this.compression=s}(r=e.analytics)!==null&&r!==void 0&&r.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint)}},{key:"_loaded",value:function(){var e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){b.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&$&&this.capture("$pageview",{title:$.title},{send_instantly:!0}),e||(new bx(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this._requestQueue)===null||e===void 0||e.poll())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||tr(this.__request_queue,function(r){e._send_request.apply(e,wo(r))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(e,r){if(L(e))return null;if(Fn)return function(i){e(i,r)};var n=this._jsc,s=""+Math.floor(1e8*Math.random()),o=this.config.callback_fn+"["+s+"]";return n[s]=function(i){delete n[s],e(i,r)},o}},{key:"_handle_unload",value:function(){var e,r;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(e=this._requestQueue)===null||e===void 0||e.unload(),(r=this._retryQueue)===null||r===void 0||r.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(e,r,n){var s=JSON.stringify(r);this.__compress_and_send_json_request(e,s,n||Dn,Xo)}},{key:"__compress_and_send_json_request",value:function(e,r,n,s){var o=function(l,u,c){return l===zt.GZipJS?[zx(Wx(u),{mtime:0}),C(C({},c),{},{blob:!0,urlQueryArgs:{compression:zt.GZipJS}})]:[{data:Po(u)},c]}(this.compression[zt.GZipJS]?zt.GZipJS:zt.Base64,r,n),i=$r(o,2),a=i[0],f=i[1];this._send_request(e,a,f,s)}},{key:"_send_request",value:function(e,r,n,s){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(n._batchKey))if(dc)this.__request_queue.push([e,r,n,s]);else{var o={method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose};n=de(o,n||{}),Fn||(n.method="GET");var i=p&&"sendBeacon"in p.navigator&&n.transport==="sendBeacon";if(e=cc(e,n.urlQueryArgs||{},{ip:this.config.ip}),i)try{p==null||p.navigator.sendBeacon(e,Ko(r,C(C({},n),{},{sendBeacon:!0})))}catch{}else if(Fn||!$)try{uc({url:e,data:r,headers:this.config.xhr_headers,options:n,callback:s,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(u){b.error(u)}else{var a,f=$.createElement("script");f.type="text/javascript",f.async=!0,f.defer=!0,f.src=e;var l=$.getElementsByTagName("script")[0];(a=l.parentNode)===null||a===void 0||a.insertBefore(f,l)}}}},{key:"_execute_array",value:function(e){var r,n=this,s=[],o=[],i=[];tr(e,function(f){f&&(r=f[0],_e(r)?i.push(f):at(f)?f.call(n):_e(f)&&r==="alias"?s.push(f):_e(f)&&r.indexOf("capture")!==-1&&at(n[r])?i.push(f):o.push(f))});var a=function(f,l){tr(f,function(u){if(_e(u[0])){var c=l;G(u,function(h){c=c[h[0]].apply(c,h.slice(1))})}else this[u[0]].apply(this,u.slice(1))},l)};a(s,this),a(o,this),a(i,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,r;return((e=this.config.bootstrap)===null||e===void 0?void 0:e.featureFlags)&&Object.keys((r=this.config.bootstrap)===null||r===void 0?void 0:r.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dn;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return b.uninitializedWarning("posthog.capture");if(!function(u){var c=!1;try{var h=u.config.token,d=u.config.respect_dnt,v=u.config.opt_out_capturing_persistence_type,g=u.config.opt_out_capturing_cookie_prefix||void 0,w=u.config.window;h&&(c=Ql(h,{respectDnt:d,persistenceType:v,persistencePrefix:g,window:w}))}catch(y){b.error("Unexpected error when checking capturing opt-out status: "+y)}return c}(this)){var s=(n=n||Dn).transport;if(s&&(n.transport=s),!L(e)&&Ne(e)){if(!se||!Wm(se,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var o={uuid:Ut(),event:e,properties:this._calculate_event_properties(e,r||{})};e==="$identify"&&(o.$set=n.$set,o.$set_once=n.$set_once),(o=Bm(o,n._noTruncate?null:this.config.properties_string_max_length)).timestamp=n.timestamp||new Date;var i=C(C({},o.properties.$set),o.$set);Um(i)||this.setPersonPropertiesForFlags(i),b.info("send",o);var a=JSON.stringify(o),f=this.config.api_host+(n.endpoint||this.analyticsDefaultEndpoint),l=n!==Dn;return!this.config.request_batching||l&&!n._batchKey||n.send_instantly?this.__compress_and_send_json_request(f,a,n):this._requestQueue.enqueue(f,o,n),this._invokeCaptureHooks(e,o),o}}else b.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.__captureHooks.push(e)}},{key:"_invokeCaptureHooks",value:function(e,r){this.config._onCapture(e,r),G(this.__captureHooks,function(n){return n(e)})}},{key:"_calculate_event_properties",value:function(e,r){if(!this.persistence||!this.sessionPersistence)return r;var n=this.persistence.remove_event_timer(e),s=C({},r);if(s.token=this.config.token,e==="$snapshot"){var o=C(C({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,s}var i=oe.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),f=a.sessionId,l=a.windowId;s.$session_id=f,s.$window_id=l}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(e==="$pageview"||e==="$pageleave"||e==="$autocapture")){var u=this.sessionPropsManager.getSessionProps();s=de(s,u)}if(this.config.__preview_measure_pageview_stats){var c={};e==="$pageview"?c=this.pageViewManager.doPageView():e==="$pageleave"&&(c=this.pageViewManager.doPageLeave()),s=de(s,c)}if(e==="$pageview"&&$&&(s.title=$.title),e==="$performance_event"){var h=this.persistence.properties();return s.distinct_id=h.distinct_id,s.$current_url=i.$current_url,s}if(!L(n)){var d=new Date().getTime()-n;s.$duration=parseFloat((d/1e3).toFixed(3))}s=de({},oe.properties(),this.persistence.properties(),this.sessionPersistence.properties(),s);var v=this.config.property_blacklist;_e(v)?G(v,function(w){delete s[w]}):b.error("Invalid value for property_blacklist config: "+v);var g=this.config.sanitize_properties;return g&&(s=g(s,e)),s}},{key:"register",value:function(e,r){var n;(n=this.persistence)===null||n===void 0||n.register(e,r)}},{key:"register_once",value:function(e,r,n){var s;(s=this.persistence)===null||s===void 0||s.register_once(e,r,n)}},{key:"register_for_session",value:function(e){var r;(r=this.sessionPersistence)===null||r===void 0||r.register(e)}},{key:"unregister",value:function(e){var r;(r=this.persistence)===null||r===void 0||r.unregister(e)}},{key:"unregister_for_session",value:function(e){var r;(r=this.sessionPersistence)===null||r===void 0||r.unregister(e)}},{key:"_register_single",value:function(e,r){this.register(S({},e,r))}},{key:"getFeatureFlag",value:function(e,r){return this.featureFlags.getFeatureFlag(e,r)}},{key:"getFeatureFlagPayload",value:function(e){var r=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(r)}catch{return r}}},{key:"isFeatureEnabled",value:function(e,r){return this.featureFlags.isFeatureEnabled(e,r)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,r)}},{key:"getEarlyAccessFeatures",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,r)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var r,n;return(r=(n=this.sessionManager)===null||n===void 0?void 0:n.onSessionId(e))!==null&&r!==void 0?r:function(){}}},{key:"getSurveys",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(e,r)}},{key:"getActiveMatchingSurveys",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(e,r)}},{key:"identify",value:function(e,r,n){if(!this.__loaded||!this.persistence)return b.uninitializedWarning("posthog.identify");if(e){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==s&&e!==this.get_property(kn)&&(this.unregister(kn),this.register({distinct_id:e}));var i=this.persistence.get_user_state()==="anonymous";e!==s&&i?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(r||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),e!==s&&(this.reloadFeatureFlags(),this.unregister(Tn))}else b.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,r){(e||r)&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:r||{}}))}},{key:"group",value:function(e,r,n){if(e&&r){var s=this.getGroups();s[e]!==r&&this.resetGroupPropertiesForFlags(e),this.register({$groups:C(C({},s),{},S({},e,r))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags(S({},e,n))),s[e]===r||n||this.reloadFeatureFlags()}else b.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,r)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setGroupPropertiesForFlags(e,r)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var r,n,s,o;if(!this.__loaded)return b.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");(r=this.persistence)===null||r===void 0||r.clear(),(n=this.sessionPersistence)===null||n===void 0||n.clear(),(s=this.persistence)===null||s===void 0||s.set_user_state("anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var a=this.config.get_device_id(Ut());this.register_once({distinct_id:a,$device_id:e?a:i},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,r;return(e=(r=this.sessionManager)===null||r===void 0?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var r=this.config.ui_host||this.config.api_host,n=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=n.sessionId,o=n.sessionStartTimestamp,i=r+"/replay/"+s;if(e!=null&&e.withTimestamp&&o){var a,f=(a=e.timestampLookBack)!==null&&a!==void 0?a:10;if(!o)return i;var l=Math.max(Math.floor((new Date().getTime()-o)/1e3)-f,0);i+="?t=".concat(l)}return i}},{key:"alias",value:function(e,r){return e===this.get_property(Fl)?(b.critical("Attempting to create alias for existing People user - aborting."),-2):(L(r)&&(r=this.get_distinct_id()),e!==r?(this._register_single(kn,e),this.capture("$create_alias",{alias:e,distinct_id:r})):(b.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1))}},{key:"set_config",value:function(e){var r,n,s=C({},this.config);$t(e)&&(de(this.config,e),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),(r=this.persistence)===null||r===void 0||r.update_config(this.config),(n=this.sessionPersistence)===null||n===void 0||n.update_config(this.config),ne.is_supported()&&ne.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Mt.DEBUG=!0),this.sessionRecording&&!L(e.disable_session_recording)&&s.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!((e=this.sessionRecording)===null||e===void 0||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var r;return(r=this.persistence)===null||r===void 0?void 0:r.props[e]}},{key:"getSessionProperty",value:function(e){var r;return(r=this.sessionPersistence)===null||r===void 0?void 0:r.props[e]}},{key:"toString",value:function(){var e,r=(e=this.config.name)!==null&&e!==void 0?e:Pe;return r!==Pe&&(r=Pe+"."+r),r}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&ne.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!lt.get("ph_optout")||(lt.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var r,n,s,o,i;if(e&&e.clear_persistence)s=!0;else{if(!e||!e.enable_persistence)return;s=!1}this.config.disable_persistence||((r=this.persistence)===null||r===void 0?void 0:r.disabled)===s||(o=this.persistence)===null||o===void 0||o.set_disabled(s),this.config.disable_persistence||((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)===s||(i=this.sessionPersistence)===null||i===void 0||i.set_disabled(s)}},{key:"_gdpr_call_func",value:function(e,r){return r=de({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},r||{}),ne.is_supported()||r.persistence_type!=="localStorage"||(r.persistence_type="cookie"),e(this.config.token,{capture:r.capture,captureEventName:r.capture_event_name,captureProperties:r.capture_properties,persistenceType:r.persistence_type,persistencePrefix:r.cookie_prefix,cookieExpiration:r.cookie_expiration,crossSubdomainCookie:r.cross_subdomain_cookie,secureCookie:r.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=de({enable_persistence:!0},e||{}),this._gdpr_call_func(Tx,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var r=de({clear_persistence:!0},e||{});this._gdpr_call_func(Ox,r),this._gdpr_update_persistence(r)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(Px,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(Ql,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var r=de({enable_persistence:!0},e??{});this._gdpr_call_func(Ix,r),this._gdpr_update_persistence(r)}},{key:"debug",value:function(e){e===!1?(p==null||p.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(p==null||p.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),t}();(function(t,e){for(var r=0;r<e.length;r++)t.prototype[e[r]]=Pl(t.prototype[e[r]])})(Zo,["identify"]);var hc,gc,Pt={},sy=function(){he.init=function(t,e,r){if(r)return he[r]||(he[r]=Pt[r]=Qo(t||"",e||{},r,function(s){he[r]=Pt[r]=s,s._loaded()})),he[r];var n=he;return Pt[Pe]?n=Pt[Pe]:t&&(n=Qo(t,e||{},Pe,function(s){Pt[Pe]=s,s._loaded()}),Pt[Pe]=n),he=n,Jo===Nr.INIT_SNIPPET&&(ve[Pe]=he),G(Pt,function(s,o){o!==Pe&&(he[o]=s)}),n}},oy=function(){function t(){t.done||(t.done=!0,dc=!1,G(Pt,function(e){e._dom_loaded()}))}$!=null&&$.addEventListener&&($.readyState==="complete"?t():$.addEventListener("DOMContentLoaded",t,!1)),p&&Or(p,"load",t,!0)};(function(t){t.Popover="popover",t.API="api"})(hc||(hc={})),function(t){t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link"}(gc||(gc={}));var iy=(Jo=Nr.INIT_MODULE,he=new Zo,sy(),he.init(),oy(),he);let Dr=null;const ay=()=>Dr,fy={storefront:{id:"storefront",name:"Storefront"},microsite:{id:"microsite",name:"Microsite"},portal:{id:"portal",name:"Portal"}},ly=(t,e,r)=>{if(!t)return;const{onLoaded:n,recordSession:s=!0,autocapture:o=!0}=r||{};iy.init(t,{api_host:"https://app.posthog.com",persistence:"localStorage",autocapture:o,capture_pageview:o,loaded:i=>{Dr=i,Dr.group("app",e,fy[e]),n&&n(Dr),s&&Dr.startSessionRecording()}},e)},cy=(t,e)=>`shop:${e};${t}`,uy=t=>{try{return t.get_distinct_id().startsWith("shop:")}catch{return!1}},_y=(t,e,r,n)=>{uy(t)||t.identify(cy(e,r),n)},dy=()=>{const t=window.Shopify&&window.Shopify.trackingConsent;return!t||t.userCanBeTracked()},py=window.$superfiliateStorefront.health.environment===ff.Production?"phc_5G3cfzs931jOEyfbVFkD77HJcNd8bQQVzcH0GsL6wGc":"phc_GUvUykv7SJRySiClvIGZFl38C4DZ07eXkdKen3pYo9S";(fu=window.$superfiliateStorefront).analytics??(fu.analytics={posthogInitialized:!1,posthog:null});const vc={...Nm,...Dm},hy=t=>{window.$superfiliateStorefront.analytics.posthogInitialized||!dy()||ly(py,"storefront",{recordSession:!1,autocapture:!1,onLoaded:e=>{const{shop:r}=Fe();e.group("shop",`id:${r.id}`,r),window.$superfiliateStorefront.analytics.posthogInitialized=!0,window.$superfiliateStorefront.analytics.posthog=e,t&&t(e)}})},mc=()=>ay(),ei=()=>window.$superfiliateStorefront.analytics.posthogInitialized,gy=(t,e,r)=>{_y(mc(),t,e,r)},vy=()=>({resolution:{height:window.screen.availHeight,width:window.screen.availWidth}}),my=async(t,e,r=[200,201,204])=>{const n=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return bf(n,r)},xy=async(t,e,r=[200,201,204])=>{const n=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});return bf(n,r)},yy=()=>Fe().apiBaseUrl,xc=t=>`${yy()}/${t}`,by=()=>Fe().shop.micrositeDomain,wy=t=>`https://${by()}/${t}`,yc=t=>!!(t!=null&&t.responseJson);var ti=(t=>(t.GET="GET",t.POST="POST",t))(ti||{});const Sy={GET:xy,POST:my},bc=async(t,e,r)=>{var n,s;try{const o=Sy[t];return await o(e,r)}catch(o){if(yc(o)&&((n=o.response)==null?void 0:n.status)===422&&(s=o.responseJson)!=null&&s.error)return o;throw eo(o),o}},wc={activation:()=>xc("shop_frontend/activations"),preview:()=>xc("shop_frontend/activations/preview")},Sc=({shop:t},e)=>({shop:{shopify_domain:t.shopifyDomain},customer:{...e},context:{fingerprint:vy(),page_type:wt()}}),ky={CREATE:(t,e)=>bc(ti.POST,wc.activation(),Sc(t,e)),PREVIEW:(t,e)=>bc(ti.POST,wc.preview(),Sc(t,e))};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:kc,setPrototypeOf:Ec,isFrozen:Ey,getPrototypeOf:$y,getOwnPropertyDescriptor:Ty}=Object;let{freeze:Se,seal:Le,create:$c}=Object,{apply:ri,construct:ni}=typeof Reflect<"u"&&Reflect;Se||(Se=function(e){return e}),Le||(Le=function(e){return e}),ri||(ri=function(e,r,n){return e.apply(r,n)}),ni||(ni=function(e,r){return new e(...r)});const Mn=Ee(Array.prototype.forEach),Oy=Ee(Array.prototype.lastIndexOf),Tc=Ee(Array.prototype.pop),Fr=Ee(Array.prototype.push),Py=Ee(Array.prototype.splice),Ln=Ee(String.prototype.toLowerCase),si=Ee(String.prototype.toString),Oc=Ee(String.prototype.match),Mr=Ee(String.prototype.replace),Iy=Ee(String.prototype.indexOf),Cy=Ee(String.prototype.trim),ze=Ee(Object.prototype.hasOwnProperty),ke=Ee(RegExp.prototype.test),Lr=Ay(TypeError);function Ee(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return ri(t,e,n)}}function Ay(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ni(t,r)}}function D(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ln;Ec&&Ec(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const o=r(s);o!==s&&(Ey(e)||(e[n]=o),s=o)}t[s]=!0}return t}function Ry(t){for(let e=0;e<t.length;e++)ze(t,e)||(t[e]=null);return t}function ut(t){const e=$c(null);for(const[r,n]of kc(t))ze(t,r)&&(Array.isArray(n)?e[r]=Ry(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=ut(n):e[r]=n);return e}function Ur(t,e){for(;t!==null;){const n=Ty(t,e);if(n){if(n.get)return Ee(n.get);if(typeof n.value=="function")return Ee(n.value)}t=$y(t)}function r(){return null}return r}const Pc=Se(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),oi=Se(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ii=Se(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ny=Se(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ai=Se(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Dy=Se(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ic=Se(["#text"]),Cc=Se(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fi=Se(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ac=Se(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Un=Se(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Fy=Le(/\{\{[\w\W]*|[\w\W]*\}\}/gm),My=Le(/<%[\w\W]*|[\w\W]*%>/gm),Ly=Le(/\$\{[\w\W]*/gm),Uy=Le(/^data-[\-\w.\u00B7-\uFFFF]+$/),jy=Le(/^aria-[\-\w]+$/),Rc=Le(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),By=Le(/^(?:\w+script|data):/i),Hy=Le(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nc=Le(/^html$/i),zy=Le(/^[a-z][.\w]*(-[.\w]+)+$/i);var Dc=Object.freeze({__proto__:null,ARIA_ATTR:jy,ATTR_WHITESPACE:Hy,CUSTOM_ELEMENT:zy,DATA_ATTR:Uy,DOCTYPE_NAME:Nc,ERB_EXPR:My,IS_ALLOWED_URI:Rc,IS_SCRIPT_OR_DATA:By,MUSTACHE_EXPR:Fy,TMPLIT_EXPR:Ly});const jr={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Wy=function(){return typeof window>"u"?null:window},Gy=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Fc=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Mc(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wy();const e=T=>Mc(T);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==jr.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:a,Element:f,NodeFilter:l,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:c,DOMParser:h,trustedTypes:d}=t,v=f.prototype,g=Ur(v,"cloneNode"),w=Ur(v,"remove"),y=Ur(v,"nextSibling"),k=Ur(v,"childNodes"),U=Ur(v,"parentNode");if(typeof i=="function"){const T=r.createElement("template");T.content&&T.content.ownerDocument&&(r=T.content.ownerDocument)}let P,A="";const{implementation:F,createNodeIterator:j,createDocumentFragment:O,getElementsByTagName:te}=r,{importNode:M}=n;let H=Fc();e.isSupported=typeof kc=="function"&&typeof U=="function"&&F&&F.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ie,ERB_EXPR:me,TMPLIT_EXPR:Q,DATA_ATTR:Ue,ARIA_ATTR:Ct,IS_SCRIPT_OR_DATA:Ze,ATTR_WHITESPACE:et,CUSTOM_ELEMENT:je}=Dc;let{IS_ALLOWED_URI:We}=Dc,K=null;const le=D({},[...Pc,...oi,...ii,...ai,...Ic]);let z=null;const xe=D({},[...Cc,...fi,...Ac,...Un]);let W=Object.seal($c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ie=null,Hr=null,Bn=!0,zr=!0,Ge=!1,Hn=!0,_t=!1,At=!0,tt=!1,ar=!1,fr=!1,rt=!1,zn=!1,Wn=!1,_u=!0,du=!1;const u0="user-content-";let xi=!0,Wr=!1,lr={},cr=null;const pu=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let hu=null;const gu=D({},["audio","video","img","source","image","track"]);let yi=null;const vu=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gn="http://www.w3.org/1998/Math/MathML",qn="http://www.w3.org/2000/svg",dt="http://www.w3.org/1999/xhtml";let ur=dt,bi=!1,wi=null;const _0=D({},[Gn,qn,dt],si);let Vn=D({},["mi","mo","mn","ms","mtext"]),Yn=D({},["annotation-xml"]);const d0=D({},["title","style","font","a","script"]);let Gr=null;const p0=["application/xhtml+xml","text/html"],h0="text/html";let ce=null,_r=null;const g0=r.createElement("form"),mu=function(_){return _ instanceof RegExp||_ instanceof Function},Si=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(_r&&_r===_)){if((!_||typeof _!="object")&&(_={}),_=ut(_),Gr=p0.indexOf(_.PARSER_MEDIA_TYPE)===-1?h0:_.PARSER_MEDIA_TYPE,ce=Gr==="application/xhtml+xml"?si:Ln,K=ze(_,"ALLOWED_TAGS")?D({},_.ALLOWED_TAGS,ce):le,z=ze(_,"ALLOWED_ATTR")?D({},_.ALLOWED_ATTR,ce):xe,wi=ze(_,"ALLOWED_NAMESPACES")?D({},_.ALLOWED_NAMESPACES,si):_0,yi=ze(_,"ADD_URI_SAFE_ATTR")?D(ut(vu),_.ADD_URI_SAFE_ATTR,ce):vu,hu=ze(_,"ADD_DATA_URI_TAGS")?D(ut(gu),_.ADD_DATA_URI_TAGS,ce):gu,cr=ze(_,"FORBID_CONTENTS")?D({},_.FORBID_CONTENTS,ce):pu,Ie=ze(_,"FORBID_TAGS")?D({},_.FORBID_TAGS,ce):ut({}),Hr=ze(_,"FORBID_ATTR")?D({},_.FORBID_ATTR,ce):ut({}),lr=ze(_,"USE_PROFILES")?_.USE_PROFILES:!1,Bn=_.ALLOW_ARIA_ATTR!==!1,zr=_.ALLOW_DATA_ATTR!==!1,Ge=_.ALLOW_UNKNOWN_PROTOCOLS||!1,Hn=_.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_t=_.SAFE_FOR_TEMPLATES||!1,At=_.SAFE_FOR_XML!==!1,tt=_.WHOLE_DOCUMENT||!1,rt=_.RETURN_DOM||!1,zn=_.RETURN_DOM_FRAGMENT||!1,Wn=_.RETURN_TRUSTED_TYPE||!1,fr=_.FORCE_BODY||!1,_u=_.SANITIZE_DOM!==!1,du=_.SANITIZE_NAMED_PROPS||!1,xi=_.KEEP_CONTENT!==!1,Wr=_.IN_PLACE||!1,We=_.ALLOWED_URI_REGEXP||Rc,ur=_.NAMESPACE||dt,Vn=_.MATHML_TEXT_INTEGRATION_POINTS||Vn,Yn=_.HTML_INTEGRATION_POINTS||Yn,W=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&mu(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&mu(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(zr=!1),zn&&(rt=!0),lr&&(K=D({},Ic),z=[],lr.html===!0&&(D(K,Pc),D(z,Cc)),lr.svg===!0&&(D(K,oi),D(z,fi),D(z,Un)),lr.svgFilters===!0&&(D(K,ii),D(z,fi),D(z,Un)),lr.mathMl===!0&&(D(K,ai),D(z,Ac),D(z,Un))),_.ADD_TAGS&&(K===le&&(K=ut(K)),D(K,_.ADD_TAGS,ce)),_.ADD_ATTR&&(z===xe&&(z=ut(z)),D(z,_.ADD_ATTR,ce)),_.ADD_URI_SAFE_ATTR&&D(yi,_.ADD_URI_SAFE_ATTR,ce),_.FORBID_CONTENTS&&(cr===pu&&(cr=ut(cr)),D(cr,_.FORBID_CONTENTS,ce)),xi&&(K["#text"]=!0),tt&&D(K,["html","head","body"]),K.table&&(D(K,["tbody"]),delete Ie.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=_.TRUSTED_TYPES_POLICY,A=P.createHTML("")}else P===void 0&&(P=Gy(d,s)),P!==null&&typeof A=="string"&&(A=P.createHTML(""));Se&&Se(_),_r=_}},xu=D({},[...oi,...ii,...Ny]),yu=D({},[...ai,...Dy]),v0=function(_){let m=U(_);(!m||!m.tagName)&&(m={namespaceURI:ur,tagName:"template"});const E=Ln(_.tagName),J=Ln(m.tagName);return wi[_.namespaceURI]?_.namespaceURI===qn?m.namespaceURI===dt?E==="svg":m.namespaceURI===Gn?E==="svg"&&(J==="annotation-xml"||Vn[J]):!!xu[E]:_.namespaceURI===Gn?m.namespaceURI===dt?E==="math":m.namespaceURI===qn?E==="math"&&Yn[J]:!!yu[E]:_.namespaceURI===dt?m.namespaceURI===qn&&!Yn[J]||m.namespaceURI===Gn&&!Vn[J]?!1:!yu[E]&&(d0[E]||!xu[E]):!!(Gr==="application/xhtml+xml"&&wi[_.namespaceURI]):!1},nt=function(_){Fr(e.removed,{element:_});try{U(_).removeChild(_)}catch{w(_)}},dr=function(_,m){try{Fr(e.removed,{attribute:m.getAttributeNode(_),from:m})}catch{Fr(e.removed,{attribute:null,from:m})}if(m.removeAttribute(_),_==="is")if(rt||zn)try{nt(m)}catch{}else try{m.setAttribute(_,"")}catch{}},bu=function(_){let m=null,E=null;if(fr)_="<remove></remove>"+_;else{const ae=Oc(_,/^[\r\n\t ]+/);E=ae&&ae[0]}Gr==="application/xhtml+xml"&&ur===dt&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");const J=P?P.createHTML(_):_;if(ur===dt)try{m=new h().parseFromString(J,Gr)}catch{}if(!m||!m.documentElement){m=F.createDocument(ur,"template",null);try{m.documentElement.innerHTML=bi?A:J}catch{}}const ye=m.body||m.documentElement;return _&&E&&ye.insertBefore(r.createTextNode(E),ye.childNodes[0]||null),ur===dt?te.call(m,tt?"html":"body")[0]:tt?m.documentElement:ye},wu=function(_){return j.call(_.ownerDocument||_,_,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},ki=function(_){return _ instanceof c&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof u)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},Su=function(_){return typeof a=="function"&&_ instanceof a};function pt(T,_,m){Mn(T,E=>{E.call(e,_,m,_r)})}const ku=function(_){let m=null;if(pt(H.beforeSanitizeElements,_,null),ki(_))return nt(_),!0;const E=ce(_.nodeName);if(pt(H.uponSanitizeElement,_,{tagName:E,allowedTags:K}),At&&_.hasChildNodes()&&!Su(_.firstElementChild)&&ke(/<[/\w!]/g,_.innerHTML)&&ke(/<[/\w!]/g,_.textContent)||_.nodeType===jr.progressingInstruction||At&&_.nodeType===jr.comment&&ke(/<[/\w]/g,_.data))return nt(_),!0;if(!K[E]||Ie[E]){if(!Ie[E]&&$u(E)&&(W.tagNameCheck instanceof RegExp&&ke(W.tagNameCheck,E)||W.tagNameCheck instanceof Function&&W.tagNameCheck(E)))return!1;if(xi&&!cr[E]){const J=U(_)||_.parentNode,ye=k(_)||_.childNodes;if(ye&&J){const ae=ye.length;for(let Ce=ae-1;Ce>=0;--Ce){const ht=g(ye[Ce],!0);ht.__removalCount=(_.__removalCount||0)+1,J.insertBefore(ht,y(_))}}}return nt(_),!0}return _ instanceof f&&!v0(_)||(E==="noscript"||E==="noembed"||E==="noframes")&&ke(/<\/no(script|embed|frames)/i,_.innerHTML)?(nt(_),!0):(_t&&_.nodeType===jr.text&&(m=_.textContent,Mn([ie,me,Q],J=>{m=Mr(m,J," ")}),_.textContent!==m&&(Fr(e.removed,{element:_.cloneNode()}),_.textContent=m)),pt(H.afterSanitizeElements,_,null),!1)},Eu=function(_,m,E){if(_u&&(m==="id"||m==="name")&&(E in r||E in g0))return!1;if(!(zr&&!Hr[m]&&ke(Ue,m))){if(!(Bn&&ke(Ct,m))){if(!z[m]||Hr[m]){if(!($u(_)&&(W.tagNameCheck instanceof RegExp&&ke(W.tagNameCheck,_)||W.tagNameCheck instanceof Function&&W.tagNameCheck(_))&&(W.attributeNameCheck instanceof RegExp&&ke(W.attributeNameCheck,m)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(m))||m==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&ke(W.tagNameCheck,E)||W.tagNameCheck instanceof Function&&W.tagNameCheck(E))))return!1}else if(!yi[m]){if(!ke(We,Mr(E,et,""))){if(!((m==="src"||m==="xlink:href"||m==="href")&&_!=="script"&&Iy(E,"data:")===0&&hu[_])){if(!(Ge&&!ke(Ze,Mr(E,et,"")))){if(E)return!1}}}}}}return!0},$u=function(_){return _!=="annotation-xml"&&Oc(_,je)},Tu=function(_){pt(H.beforeSanitizeAttributes,_,null);const{attributes:m}=_;if(!m||ki(_))return;const E={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let J=m.length;for(;J--;){const ye=m[J],{name:ae,namespaceURI:Ce,value:ht}=ye,qr=ce(ae),Ei=ht;let be=ae==="value"?Ei:Cy(Ei);if(E.attrName=qr,E.attrValue=be,E.keepAttr=!0,E.forceKeepAttr=void 0,pt(H.uponSanitizeAttribute,_,E),be=E.attrValue,du&&(qr==="id"||qr==="name")&&(dr(ae,_),be=u0+be),At&&ke(/((--!?|])>)|<\/(style|title)/i,be)){dr(ae,_);continue}if(E.forceKeepAttr)continue;if(!E.keepAttr){dr(ae,_);continue}if(!Hn&&ke(/\/>/i,be)){dr(ae,_);continue}_t&&Mn([ie,me,Q],Pu=>{be=Mr(be,Pu," ")});const Ou=ce(_.nodeName);if(!Eu(Ou,qr,be)){dr(ae,_);continue}if(P&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Ce)switch(d.getAttributeType(Ou,qr)){case"TrustedHTML":{be=P.createHTML(be);break}case"TrustedScriptURL":{be=P.createScriptURL(be);break}}if(be!==Ei)try{Ce?_.setAttributeNS(Ce,ae,be):_.setAttribute(ae,be),ki(_)?nt(_):Tc(e.removed)}catch{dr(ae,_)}}pt(H.afterSanitizeAttributes,_,null)},m0=function T(_){let m=null;const E=wu(_);for(pt(H.beforeSanitizeShadowDOM,_,null);m=E.nextNode();)pt(H.uponSanitizeShadowNode,m,null),ku(m),Tu(m),m.content instanceof o&&T(m.content);pt(H.afterSanitizeShadowDOM,_,null)};return e.sanitize=function(T){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=null,E=null,J=null,ye=null;if(bi=!T,bi&&(T="<!-->"),typeof T!="string"&&!Su(T))if(typeof T.toString=="function"){if(T=T.toString(),typeof T!="string")throw Lr("dirty is not a string, aborting")}else throw Lr("toString is not a function");if(!e.isSupported)return T;if(ar||Si(_),e.removed=[],typeof T=="string"&&(Wr=!1),Wr){if(T.nodeName){const ht=ce(T.nodeName);if(!K[ht]||Ie[ht])throw Lr("root node is forbidden and cannot be sanitized in-place")}}else if(T instanceof a)m=bu("<!---->"),E=m.ownerDocument.importNode(T,!0),E.nodeType===jr.element&&E.nodeName==="BODY"||E.nodeName==="HTML"?m=E:m.appendChild(E);else{if(!rt&&!_t&&!tt&&T.indexOf("<")===-1)return P&&Wn?P.createHTML(T):T;if(m=bu(T),!m)return rt?null:Wn?A:""}m&&fr&&nt(m.firstChild);const ae=wu(Wr?T:m);for(;J=ae.nextNode();)ku(J),Tu(J),J.content instanceof o&&m0(J.content);if(Wr)return T;if(rt){if(zn)for(ye=O.call(m.ownerDocument);m.firstChild;)ye.appendChild(m.firstChild);else ye=m;return(z.shadowroot||z.shadowrootmode)&&(ye=M.call(n,ye,!0)),ye}let Ce=tt?m.outerHTML:m.innerHTML;return tt&&K["!doctype"]&&m.ownerDocument&&m.ownerDocument.doctype&&m.ownerDocument.doctype.name&&ke(Nc,m.ownerDocument.doctype.name)&&(Ce="<!DOCTYPE "+m.ownerDocument.doctype.name+`>
`+Ce),_t&&Mn([ie,me,Q],ht=>{Ce=Mr(Ce,ht," ")}),P&&Wn?P.createHTML(Ce):Ce},e.setConfig=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Si(T),ar=!0},e.clearConfig=function(){_r=null,ar=!1},e.isValidAttribute=function(T,_,m){_r||Si({});const E=ce(T),J=ce(_);return Eu(E,J,m)},e.addHook=function(T,_){typeof _=="function"&&Fr(H[T],_)},e.removeHook=function(T,_){if(_!==void 0){const m=Oy(H[T],_);return m===-1?void 0:Py(H[T],m,1)[0]}return Tc(H[T])},e.removeHooks=function(T){H[T]=[]},e.removeAllHooks=function(){H=Fc()},e}var Lc=Mc(),qy=0;function x(t,e,r,n,s,o){e||(e={});var i,a,f=e;"ref"in e&&(i=e.ref,delete e.ref);var l={type:t,props:f,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--qy,__i:-1,__u:0,__source:s,__self:o};if(typeof t=="function"&&(i=t.defaultProps))for(a in i)f[a]===void 0&&(f[a]=i[a]);return R.vnode&&R.vnode(l),l}const Vy={woff:"format('woff')",woff2:"format('woff2')",otf:"format('opentype')",ttf:"format('truetype')"},Yy=(t,e,r)=>{const n=(r||"").split(".").at(-1)||"";return`
    @font-face {
      font-family: '${t}';
      src: url('${r||""}') ${Vy[n]||""};
      font-weight: ${e};
    }
  `},Ky=()=>{var o,i,a,f,l,u,c,h,d;const[t,e]=Et(er),r=((a=(i=(o=t==null?void 0:t.storefrontData)==null?void 0:o.personalization)==null?void 0:i.branding)==null?void 0:a.fonts)||{},s=[["SF-Primary-Font","100 300",(f=r==null?void 0:r.primary)==null?void 0:f.light],["SF-Primary-Font","400 500",(l=r==null?void 0:r.primary)==null?void 0:l.regular],["SF-Primary-Font","600 900",(u=r==null?void 0:r.primary)==null?void 0:u.bold],["SF-Secondary-Font","100 300",(c=r==null?void 0:r.secondary)==null?void 0:c.light],["SF-Secondary-Font","400 500",(h=r==null?void 0:r.secondary)==null?void 0:h.regular],["SF-Secondary-Font","600 900",(d=r==null?void 0:r.secondary)==null?void 0:d.bold]].map(v=>Yy(...v));return x("style",{dangerouslySetInnerHTML:{__html:Lc.sanitize(s.join(" "))}})};function li(t){return t!=null}const Jy=t=>t.filter(li),Xy=t=>Object.fromEntries(Object.entries(t).filter(([e,r])=>li(r)));function Qy(t){return li(t)?Array.isArray(t)?Jy(t):Xy(t):null}const Zy=(t,e)=>t.filter(r=>e.indexOf(r)<0),eb=t=>t.replace(/([A-Z])/g," $1").split(" ").join("_").toLowerCase(),tb=t=>Object.fromEntries(Object.entries(t).map(([e,r])=>[eb(e),r]));let Qe;typeof window<"u"&&(Qe=window==null?void 0:window.$superfiliateStorefront);const Uc=((lu=Qe==null?void 0:Qe.logging)==null?void 0:lu.reportError)||console.error;(cu=Qe==null?void 0:Qe.logging)!=null&&cu.customConsoleLog,(uu=Qe==null?void 0:Qe.logging)!=null&&uu.debugConsoleLog;const rb=({htmlTemplate:t,fallback:e,fallbackText:r,ignoreMissingVariables:n=[],variables:s={}})=>{const o={...Qy(tb(s))};let i=`${t||""}`;Object.entries(o).forEach(([f,l])=>{const u=new RegExp(`{{ *${f} *}}`,"g"),c=`${l}`.replace(/</g,"&lt;").replace(/>/g,"&gt;");i=i.replace(u,c)});const a=Array.from(i.matchAll(/{{(.*)}}/g));if(a.length){if(r)return r;if(e)return"";const f=a.map(l=>l[1]);Zy(f,n).length>0&&Uc(`Mustache variables missing: '${i}', ${JSON.stringify(s)}`)}return i=i.replace(/{{.*?}}/g,""),i=i.replace(/\\n/g,"<br/>"),i},jc=fo({}),Bc=({htmlTemplate:t,fallback:e,ignoreMissingVariables:r=[]})=>{const n=Et(jc);return rb({htmlTemplate:t,fallback:e,ignoreMissingVariables:r,variables:n})},Hc={Context:jc,Content:({htmlTemplate:t,fallback:e,className:r,ignoreMissingVariables:n=[]})=>{const s=Bc({htmlTemplate:t,fallback:e,ignoreMissingVariables:n});return!s&&e&&r?x("div",{className:r,children:e}):!s&&e?x(Oe,{children:e}):s?x("div",{dangerouslySetInnerHTML:{__html:Lc.sanitize(s)},className:r}):null},useMustacheContent:Bc};var zc={exports:{}},nb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sb=nb,ob=sb;function Wc(){}function Gc(){}Gc.resetWarningCache=Wc;var ib=function(){function t(n,s,o,i,a,f){if(f!==ob){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Gc,resetWarningCache:Wc};return r.PropTypes=r,r};zc.exports=ib();var ab=zc.exports;const ir=$i(ab);var fb=["color","size","title","className"];function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ci.apply(null,arguments)}function lb(t,e){if(t==null)return{};var r,n,s=cb(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function cb(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}var qc=Qf(function(t,e){var r=t.color,n=r===void 0?"currentColor":r,s=t.size,o=s===void 0?"1em":s,i=t.title,a=i===void 0?null:i,f=t.className,l=f===void 0?"":f,u=lb(t,fb);return mo.createElement("svg",ci({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:o,height:o,fill:n,className:["bi","bi-x-lg",l].filter(Boolean).join(" ")},u),a?mo.createElement("title",null,a):null,mo.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"}))});qc.propTypes={color:ir.string,size:ir.oneOfType([ir.string,ir.number]),title:ir.string,className:ir.string};const Vc=qc;var N=(t=>(t.Hidden="hidden",t.BottomRight="bottom_right",t.MiddleRight="middle_right",t.MiddleLeft="middle_left",t.BottomLeft="bottom_left",t.MainContent="main_content",t))(N||{}),jn=(t=>(t.SmallButton="small_button",t.Video="video",t))(jn||{}),fe=(t=>(t.Hidden="hidden",t.Visible="visible",t))(fe||{}),It={},ui=qe&&qe.__assign||function(){return ui=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ui.apply(this,arguments)};Object.defineProperty(It,"__esModule",{value:!0}),It.join=It.subst=It.query=void 0;function ub(t,e,r){if(r===void 0&&(r={}),typeof e=="string"){var n=t,s=e,o=r;return Kc(s,o,n)}else{var i=t,o=e;return Kc(i,o)}}var Yc=It.default=ub;function Kc(t,e,r){var n=Xc(t,e),s=n.renderedPath,o=n.remainingParams,i=db(o),a=Jc(i),f=_i(s,"?",a);return r?_i(r,"/",f):f}function Jc(t){return new URLSearchParams(t).toString()}It.query=Jc;function _b(t,e){var r=Xc(t,e).renderedPath;return r}It.subst=_b;function Xc(t,e){var r=ui({},e),n=["boolean","string","number"],s=t.replace(/:\w+/g,function(o){var i=o.slice(1);if(/^\d+$/.test(i))return o;if(!e.hasOwnProperty(i))throw new Error("Missing value for path parameter "+i+".");if(!n.includes(typeof e[i]))throw new TypeError("Path parameter "+i+" cannot be of type "+typeof e[i]+". "+("Allowed types are: "+n.join(", ")+"."));if(typeof e[i]=="string"&&e[i].trim()==="")throw new Error("Path parameter "+i+" cannot be an empty string.");return delete r[i],encodeURIComponent(e[i])});return{renderedPath:s,remainingParams:r}}function _i(t,e,r){var n=t.endsWith(e)?t.slice(0,-e.length):t,s=r.startsWith(e)?r.slice(e.length):r;return n===""||s===""?n+s:n+e+s}It.join=_i;function db(t){return Object.keys(t).filter(function(e){return pb(t[e])}).reduce(function(e,r){return e[r]=t[r],e},{})}function pb(t){return t!=null}const hb=(t,e)=>Yc("https://image.mux.com/:mediaID/animated.webp",{mediaID:t,fps:24,end:e||5}),gb=(t,e,r)=>Yc(`https://image.mux.com/:mediaID/thumbnail.${r||"webp"}`,{mediaID:t,time:e||0}),vb=({setWidgetVisibility:t,position:e,preview:r,buttonFormat:n})=>{const[s,o]=Et(er),[i,a]=Ke(fe.Hidden),[f,l]=Ke(),[u,c]=Ke(),h=[N.BottomLeft,N.BottomRight].includes(e),d=s.storefrontData.personalization,v=d==null?void 0:d.widget.media,g=!!v&&n===jn.Video,w="superfiliateWidgetState",{closedAt:y,visibility:k}=JSON.parse(localStorage.getItem(w)||"{}"),U=P=>{k==fe.Hidden&&P>1?(a(fe.Visible),localStorage.setItem(w,JSON.stringify({closedAt:null,visibility:fe.Visible}))):!k||k===fe.Visible?a(fe.Visible):a(fe.Hidden)};return He(()=>{const P=(new Date().getTime()-new Date(y).getTime())/864e5;!g||!h?a(fe.Hidden):U(P)},[]),He(()=>{l(d==null?void 0:d.widget.htmlFoldedPasserbyText),c(d==null?void 0:d.widget.foldedPasserbyIconUrl)},[s]),e==N.Hidden||e==N.MainContent?null:x("div",{className:I({"origin-bottom-right slide-in-from-right right-0 bottom-[50vh] translate-x-[36%]":e===N.MiddleRight,"origin-bottom-left slide-in-from-left left-0 bottom-[50vh] translate-x-[-36%]":e===N.MiddleLeft,"right-4 bottom-4 slide-in-from-right":e===N.BottomRight,"left-4 bottom-4 slide-in-from-left":e===N.BottomLeft,"pointer-events-none":r},"fixed z-index-program-widget-modal","animate-in fade-in"),children:x("div",{"aria-label":"Show referral offer","aria-live":"polite",className:I({"right-0 rotate-[270deg] rounded-t-2xl":e===N.MiddleRight,"left-0 rotate-[90deg] rounded-t-2xl":e===N.MiddleLeft,"rounded-lg p-0.5":![N.MiddleRight,N.MiddleLeft].includes(e)&&i===fe.Visible,"rounded-lg":![N.MiddleRight,N.MiddleLeft].includes(e)&&i===fe.Hidden},"bg-primary text-primary-content","flex items-center"),"data-cy":"pw-folded","data-testid":"sf-widget-folded",role:"button",tabIndex:-1,children:x("div",{className:I("flex flex-col",g&&i===fe.Visible?"w-[80px] sm:w-[126px]":"w-full"),children:[n===jn.Video&&i===fe.Visible&&x(Oe,{children:[x("div",{className:I("w-5 h-5 absolute -top-2.5 -right-2.5 cursor-pointer font-bold z-10 flex bg-white rounded-full p-[6px]",{"pointer-events-none":r}),onClick:()=>{t(re.Folded),a(fe.Hidden),localStorage.setItem(w,JSON.stringify({closedAt:new Date,visibility:fe.Hidden}))},children:x(Vc,{className:I("text-primary font-bold w-2 h-2")})}),x("div",{className:I("relative w-full max-w-full rounded-lg overflow-hidden h-[141px] sm:h-[222px]",{"pointer-events-none":r}),onClick:()=>t(re.Open),children:[(v==null?void 0:v.mediaType)!=="video"?null:x("img",{alt:"Blurred asset background",className:I("blur absolute w-[120%] max-w-[unset] h-[120%] left-[-10%] top-[-10%] -z-[10]"),src:gb(v.mediaId)}),(v==null?void 0:v.mediaType)!=="video"?null:x("img",{alt:"Preview referral widget",className:"size-full max-h-full max-w-full object-contain absolute",src:hb(v==null?void 0:v.mediaId)})]})]}),(u||f)&&x("div",{className:I("flex bg-primary justify-center items-center rounded-lg",{"absolute inset-x-0 bottom-0 mx-1 mb-1.5 py-1 px-2":i===fe.Visible,"px-4 py-3 w-fit":i===fe.Hidden,"pointer-events-none":r}),onClick:()=>t(re.Open),children:[u&&x("img",{alt:"Gift",className:I("h-[18px] w-[18px]"),src:u}),f&&x(Hc.Content,{className:I({"ml-1":!!u,"text-xs":i===fe.Visible},"font-semibold font-display leading-4 sm:leading-6"),htmlTemplate:f})]})]})})})},mb=(t,e)=>{const r=e||"quality=85";if(t.includes("cdn.shopify.com")){const[i,a]=t.split("?");return a?`${i}?${r.replace(",","&")}&${a}`:`${i}?${r.replace(",","&")}`}return t.startsWith("http")?`https://superfiliate-cdn.com/cdn-cgi/image/${r}/${t}`:t.includes("downgraded-cloudflare-image")?`https://app.superfiliate.com/redirects/upgrade_cloudflare_image/${t}/${r}`:`https://imagedelivery.net/JxMt8_0v0PNFhBJLkwBu2A/${t}/${r}`},xb=({logoMediaId:t})=>x("div",{className:I("flex flex-col w-full h-full bg-primary items-center justify-center"),children:[x("div",{className:I("flex flex-col"),children:x("div",{className:I("absolute h-[190px] w-[190px] inset-0 m-auto"),children:[x("svg",{className:I("animate-spin text-primary-content"),fill:"none",height:"190",viewBox:"0 0 190 190",width:"190",xmlns:"http://www.w3.org/2000/svg",children:[x("path",{d:"M95 2.375C95 1.06332 96.0638 -0.00309968 97.3751 0.029681C116.06 0.496782 134.211 6.46689 149.543 17.218C164.875 27.9691 176.673 43.0005 183.478 60.4079C183.956 61.6295 183.316 62.993 182.082 63.4399V63.4399C180.849 63.8869 179.49 63.2479 179.011 62.0269C172.539 45.5368 161.349 31.2978 146.816 21.1071C132.283 10.9163 115.084 5.24726 97.375 4.78124C96.0638 4.74674 95 3.68668 95 2.375V2.375Z",fill:"currentColor"}),x("defs",{children:x("clipPath",{id:"clip0_43382_19090",children:x("rect",{fill:"white",height:"40",transform:"translate(35 75)",width:"120"})})})]}),x("span",{className:I("absolute text-primary-content w-full text-center text-sm mt-[32px]"),children:"Preparing your experience"})]})}),t&&x("div",{className:I("w-[120px] h-[120px] flex items-center justify-center"),children:x("img",{alt:"Logo",className:"flex items-center",src:mb(t)})})]}),yb=({persona:t})=>{var o,i,a,f;const e=Te("order_status")?Cm():Om(t),[r,n]=Et(er),s=Te("order_status")&&((o=r.storefrontData.personalization)==null?void 0:o.widget.positionOrderStatus)===N.MainContent;return t===ue.Lead&&((i=r.discountResponse)==null?void 0:i.sf_lead_one_time_discount)=="$0"?null:x("div",{className:I("w-full relative bg-primary",{"h-[662px]":s,"h-full":!s}),children:[x("div",{className:"sf-size-full sf-absolute sf-flex sf-justify-center sf-items-center",children:t!==ue.Lead&&x(xb,{logoMediaId:((f=(a=r.storefrontData.personalization)==null?void 0:a.branding.images.altLogoMedia)==null?void 0:f.mediaId)??null})}),x("iframe",{allow:"web-share",className:"sf-size-full sf-absolute",src:e})]})},bb=({setWidgetVisibility:t,position:e,className:r})=>e==N.Hidden||e==N.MainContent?null:x("div",{className:I("relative"),children:x("div",{className:I("z-10 absolute right-2.5 top-2.5","p-2.5 h-9 w-9","flex items-center justify-center","text-lg rounded-full bg-black/50",r),"data-cy":"fold-pw","data-testid":"sf-fold-button",role:"button",onClick:()=>t(re.Folded),children:x("span",{children:x(Vc,{className:I("font-bold text-white"),size:13})})})}),Qc=({className:t,children:e,withShadow:r=!1,onClick:n})=>x("div",{className:I("rounded-2xl bg-base p-6 text-center text-base-content",!r&&"border border-base-content/10",t),style:{boxShadow:r?"0px 4px 4px rgba(0, 0, 0, 0.06)":""},onClick:n,children:e}),wb=()=>x("div",{className:I("animate-in fade-in"),children:[x("div",{className:I("bg-primary-gradient py-10"),children:x("div",{className:I("mx-5 grid w-full grid-cols-2 gap-2 text-base"),children:[x("p",{className:I("col-span-2 mb-2 h-4 w-6/12 animate-pulse rounded bg-base/[0.5]")}),x("p",{className:I("col-span-2 h-8 w-10/12 animate-pulse rounded bg-base/[0.5]")})]})}),x("div",{className:I("mx-5 -mt-7 pb-2"),children:x(Qc,{withShadow:!0,children:x("div",{className:I("animate-pulse"),children:[x("p",{className:I("mb-4 h-12 w-full rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-11/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-9/12 rounded bg-gray-300")})]})})}),x("div",{className:I("mx-5 py-2"),children:x(Qc,{withShadow:!0,children:x("div",{className:I("animate-pulse"),children:[x("p",{className:I("mx-auto mb-4 h-5 w-6/12 rounded bg-gray-300")}),x("div",{className:I("relative mx-auto mb-8 h-36"),children:[x("p",{className:I("absolute right-0 mx-auto h-36 w-[95%] rounded-xl bg-gray-300")}),x("p",{className:I("absolute right-4 top-4 mx-auto h-36 w-[95%]  rounded-xl bg-gray-300")})]}),x("p",{className:I("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),x("p",{className:I("mx-auto my-1 h-3 w-4/12 rounded bg-gray-300")})]})})})]}),Sb=({setWidgetVisibility:t,position:e,persona:r,preview:n})=>{const[s,o]=Et(er);return e==N.Hidden?null:x(Oe,{children:[e!==N.MainContent&&r!==ue.Lead&&x(Oe,{children:[x("div",{className:I("fixed block sm:hidden","z-index-program-widget-modal h-screen w-screen","bg-base-content/20 backdrop-blur-xl","animate-in fade-in",{"pointer-events-none":n}),"data-testid":"sf-widget-backdrop",onClick:()=>t(re.Folded)}),x("style",{children:`
              @media only screen and (max-width: 640px) {
                body {
                  overflow: hidden;
                }
              }
            `})]}),x("div",{"aria-label":"Referral offer","aria-modal":"true",className:I({"right-0 bottom-0 slide-in-from-right sm:right-4 sm:bottom-4":e===N.BottomRight||e===N.MiddleRight,"left-0 bottom-0 slide-in-from-left sm:left-4 sm:bottom-4":e===N.BottomLeft||e===N.MiddleLeft,"fixed z-index-program-widget-modal shadow-2xl sm:max-w-[390px] sm:max-h-[680px]":e!==N.MainContent,"my-3 w-full sm:max-h-[662px]":e===N.MainContent,"pointer-events-none":n,"h-[144px] rounded-3xl mx-3 my-6 sm:m-0 w-3/4 overflow-hidden":r===ue.Lead,"w-screen":r!==ue.Lead&&e!==N.MainContent,"min-h-[360px] h-full":r!==ue.Lead},"overflow-auto bg-soft-primary-gradient text-base-content text-md","no-scrollbar max-h-screen","animate-in fade-in sm:rounded-3xl"),"data-cy":"pw-opened","data-testid":"sf-widget-open",role:"dialog",children:[x(bb,{className:I({"h-6 w-6 right-4 top-3":r===ue.Lead},r===ue.Passerby?"text-base-content":"text-primary-content"),position:e,setWidgetVisibility:t}),s.loading?x(wb,{}):x(yb,{persona:r})]})]})},di="$superfiliate.programWidget.activationResponse",Zc="$superfiliate.programWidget.activationResponseUpdatedAt",kb=1,eu="$superfiliate.leadModalAutoOpened",Eb=()=>{const t=window.localStorage.getItem(Zc);return t?parseInt(t,10):0},$b=()=>{const t=Eb();return(Date.now()-t)/(1e3*3600)<kb},tu=()=>{const t=window.localStorage.getItem(di);let e;try{e=JSON.parse(t||"null")}catch{e=null}return e&&(!e.sf_code||!e.sf_link)?(window.localStorage.removeItem(di),null):e},Tb=t=>{if(t)try{window.localStorage.setItem(di,JSON.stringify(t)),window.localStorage.setItem(Zc,JSON.stringify(Date.now()))}catch(e){xn(e)}},Ob=()=>{const t=window.localStorage.getItem(eu);let e;try{e=JSON.parse(t||"false")}catch{e=!1}return e},Pb=t=>{if(t!==void 0)try{window.localStorage.setItem(eu,JSON.stringify(t))}catch(e){xn(e)}},pi=()=>{const t=df()||un(),e=yr(),r=tu();if(Dt("pageType",wt()),Dt("autoAppliedDiscount",e),Dt("utmParams",t),Te("online_store")&&e&&(t!=null&&t.utm_source)){if(t.utm_source==="superfiliate-reward")return ue.SuperfiliateReward;if(t.utm_source==="superfiliate")return ue.Lead}return r!=null&&r.sf_code?ue.SuperfiliateShare:ue.Passerby},hi=()=>{var n,s,o,i,a,f;const t=Fe(),e=window.location.href;if(Te("order_status"))return((s=(n=t.personalization)==null?void 0:n.widget)==null?void 0:s.positionOrderStatus)||N.Hidden;const r=(((i=(o=t.personalization)==null?void 0:o.widget)==null?void 0:i.positionCustom)||[]).find(({regex:l})=>!!new RegExp(l).exec(e));return r?r.position:Te("online_store")&&((f=(a=t.personalization)==null?void 0:a.widget)==null?void 0:f.positionOnlineStore)||N.Hidden},Ib={[N.Hidden]:re.Hidden,[N.MainContent]:re.Open,[N.BottomLeft]:re.Folded,[N.BottomRight]:re.Folded,[N.MiddleRight]:re.Folded,[N.MiddleLeft]:re.Folded},Cb=()=>{var a;const t=Fe(),e=hi(),r=Ib[e],n=pi(),s=[ue.Lead,ue.SuperfiliateReward].includes(n),o=Ob();if(s&&!o)return Pb(!0),re.Open;const i=(a=t.personalization)==null?void 0:a.widget;return Te("order_status")&&(i!=null&&i.hiddenOrderStatus)||Te("online_store")&&(i!=null&&i.hiddenOnlineStore)?re.Hidden:r},Ab=()=>x("style",{children:`
      @media (max-width: 1024px) {
        *[tabindex="-1"][role="dialog"] {
          visibility: hidden !important;
        }
      }
    `}),Rb=()=>{if("pushState"in window.history){const r=new URL(window.location.href);r.hash="",window.history.pushState("",document.title,r.toString());return}const t=document.body.scrollTop,e=document.body.scrollLeft;window.location.hash="",document.body.scrollTop=t,document.body.scrollLeft=e},Nb=()=>{var u;const[t,e]=kt(()=>[hi(),Cb()],[]),[r,n]=Ke(e);He(()=>{r===re.Open&&(ei()?mc().capture(vc.PROGRAM_WIDGET_OPENED,{pageType:wt()}):hy(c=>{c.capture(vc.PROGRAM_WIDGET_OPENED,{pageType:wt()})}))},[r]);const[s,o]=Ke(pi()),[i,a]=Et(er),f=((u=i.storefrontData.personalization)==null?void 0:u.widget.buttonFormat)||jn.SmallButton,l=()=>{window.location.hash==="#referral"&&(n(re.Open),Rb())};return He(()=>{window.addEventListener("hashchange",l),l()},[]),He(()=>{const c=pi();s!==c&&o(c)},[i,s,o]),Dt("widgetVisibility",r),Dt("widgetPosition",t),Dt("widgetPersona",s),x(Oe,{children:[r===re.Open&&x(Ab,{}),r===re.Folded&&x(vb,{buttonFormat:f,position:t,setWidgetVisibility:n}),r===re.Open&&x(Sb,{persona:s,position:t===N.Hidden?N.BottomLeft:t,setWidgetVisibility:n})]})};var Br=(t=>(t.Shopify="shopify",t.Recharge="recharge",t))(Br||{});const Db=()=>{const{scriptId:t}=Fe(),e=document.getElementById(t);return e?JSON.parse(e.innerHTML):null},ru=()=>{const t=wt();return t===q.RechargeOrderStatus?Br.Recharge:t===q.ShopifyOrderStatus?Br.Shopify:null},Fb=()=>{var t,e,r,n,s,o,i,a,f,l,u,c;return{customer:{shopify_customer_id:(e=(t=window.Shopify)==null?void 0:t.checkout)==null?void 0:e.customer_id,email:(n=(r=window.Shopify)==null?void 0:r.checkout)==null?void 0:n.email,first_name:(i=(o=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:o.shipping_address)==null?void 0:i.first_name,last_name:(l=(f=(a=window.Shopify)==null?void 0:a.checkout)==null?void 0:f.shipping_address)==null?void 0:l.last_name},order:{shopify_order_id:(c=(u=window.Shopify)==null?void 0:u.checkout)==null?void 0:c.order_id}}},Mb=()=>{const t=window.location.search,e=new URLSearchParams(t).get("preview")||"{}";return{preview:JSON.parse(e)}},Lb=()=>{let t;return ru()===Br.Shopify?t=Fb():ru()===Br.Recharge&&(t=Db()),t?{...t,...Mb()}:null},Ub=t=>{const e=document.createElement("style");e.textContent=t,document.head.appendChild(e)},jb=t=>{let e=t||"#000000";if(e.length<3)e="#000000";else if(e.length<5){const r=e[e.length-3],n=e[e.length-2],s=e[e.length-1];e=`#${r}${r}${n}${n}${s}${s}`}return e.toUpperCase()},Bb=t=>{if(!t)return null;const e=jb(t),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?`${parseInt(r[1],16)},
       ${parseInt(r[2],16)},
       ${parseInt(r[3],16)}`.replace(/\s+/g,""):null},Hb=t=>/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t),zb=t=>t.replace(/_/g,"-").replace(/([A-Z])/g," $1").split(" ").join("-").toLowerCase().replace(/[^a-z0-9-]/g,""),Wb=t=>{var r,n;const e=Object.entries(((n=(r=t.personalization)==null?void 0:r.branding)==null?void 0:n.colors)||{}).filter(([s,o])=>!!Hb(o)).map(([s,o])=>{const i=zb(s),a=Bb(o);return`--${i}-color: ${a};`});Ub(`._sf-storefront { ${e.join("")} }`)},Gb=()=>{const t=kt(()=>Fe(),[]),e=kt(()=>Te("order_status")?Lb():null,[]),[r,n]=Ke(!1),[s,o]=Ke({loading:r,storefrontData:t,cartData:e}),i=u=>o(c=>({...c,activationResponse:u})),a=async u=>{const c={...(e==null?void 0:e.customer)||{},code:u==null?void 0:u.sf_code};if((c.email||c.shopify_customer_id||c.code)&&!$b()){n(!0);try{const d=await ky.PREVIEW(Fe(),c);if(!d||yc(d))return;i(d),Tb(d)}finally{n(!1)}}},f=async()=>{Wb(t);const u=tu()||void 0;i(u),a(u)};He(()=>{o(u=>({...u,loading:r}))},[r]),He(()=>{var u,c;if(ei()&&((c=(u=s.cartData)==null?void 0:u.customer)!=null&&c.email)){const{email:h}=s.cartData.customer,{shop:d}=Fe();gy(h,d.id,s.cartData.customer)}},[ei(),s]),He(()=>{f().catch(Uc)},[]);const l=kt(()=>({...t.defaultSfVariables,...s.activationResponse,...s.discountResponse}),[s.activationResponse,s.discountResponse]);return x(er.Provider,{value:[s,o],children:x(Hc.Context.Provider,{value:l,children:[x(Ky,{}),x(Nb,{})]})})},gi=t=>new Promise(e=>setTimeout(e,t)),qb=t=>100+t**.7,nu=async(t,e=6e4,r=qb)=>{let n=0;for(;!await t();){const s=typeof r=="function"?r(n):r;if(await gi(s),n=n+s,n>=e)throw new Error("[Superfiliate] Max wait time reached before check passed")}},su="_sf-storefront-ProgramWidget",Vb=async t=>{let e;return Te(q.ShopifyOrderStatus)?e=".section__content .content-box":Te(q.RechargeOrderStatus)&&(e="#checkout .section--thank-you"),t!==N.MainContent||!e?{element:document.body,position:"afterbegin"}:(await nu(()=>!!document.querySelector(e)),{element:document.querySelector(e),position:"afterend"})},Yb=async()=>{await nu(()=>!!document.body);const t=hi(),e=`<div class="_sf-storefront _sf-x" id="${su}"></div>`,{element:r,position:n}=await Vb(t);if(!r)throw new Error("Could not find the reference element where to show the Superfiliate widget");return r.insertAdjacentHTML(n,e),document.getElementById(su)},ou=2147483e3;let iu=ou;const vi={zIndexMap:t=>t?19e6:ou,containerPresent:()=>!!document.querySelector("#privy-container"),modalOpen:()=>!!document.querySelector(".privy-popup-content")},Kb=async()=>{for(;;){if(vi.containerPresent())for(;;){const t=vi.zIndexMap(vi.modalOpen());t!==iu&&(iu=t,document.documentElement.style.setProperty("--sf-z-index-program-widget-modal",`${t}`)),await gi(200)}await gi(2e3)}},Jb=[q.RechargeOrderStatus,q.ShopifyOrderStatus,q.ShopifyOnlineStore,q.Unknown],Xb=async()=>{var t;Jb.includes(wt())&&(t=window.$superfiliateStorefront.personalization)!=null&&t.widget&&(Kb(),Xt(x(Gb,{}),await Yb()))},Qb=t=>{const r=` ${document.cookie};`.match(new RegExp(` ${t}=(.*?);`));return r?r[1]:null},Zb=(t,e)=>{document.cookie=`${t}=${e}; path=/; max-age=2592000`},e0=()=>({cookie:{get:async t=>Qb(t),set:async(t,e)=>Zb(t,e)},sessionStorage:{getItem:async t=>{try{return window.sessionStorage.getItem(t)}catch{return null}},setItem:async(t,e)=>{try{window.sessionStorage.setItem(t,e)}catch{}}}}),mi=(t,e,r)=>{const n=wy("api/events"),s={...e,event_type:t,document_referrer:r.location.href};fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s),keepalive:!0})},t0=async(t,e,r,n)=>{await n.sessionStorage.setItem(cf,e);const s=un(),o=(s==null?void 0:s.utm_campaign)||"";mi(Pv,{...t,code:o},r)},r0=async(t,e,r,n)=>{await n.sessionStorage.setItem(lf,e),mi(Iv,t,r)},n0="attributes",s0=t=>{const e=new URLSearchParams(t.search).get(n0);let r=e==null?void 0:e.replace(/=>/g,":");return r=r==null?void 0:r.replace(/"/g,'"'),r?JSON.parse(r):{}},o0="sf_microsite_session",i0="order_completed";class a0{constructor(){Iu(this,"browserAdapter",e0())}createContext(){const e=Fe();return{location:window.location,settings:{accountID:e.shop.id.toString(),micrositeDomain:e.shop.micrositeDomain}}}sendEvent(e,r,n){const s=n||this.createContext();mi(e,r,s)}async handleCheckoutCompleted(e){var s;const r=await this.browserAdapter.cookie.get(o0);if(!(r!=null&&r.length))return;const n={uuid:r,shop_id:this.createContext().settings.accountID,order_external_id:e==null?void 0:e.id,customer_external_id:(s=e==null?void 0:e.customer)==null?void 0:s.id,user_agent:navigator.userAgent};this.sendEvent(i0,n)}async handlePageView(){const e=window.location,r=s0(e),n=this.createContext(),s=r[uf],o=Rv(),i=!!s||!!o,a=await this.browserAdapter.cookie.get(_f)||s||o;if(a){await this.browserAdapter.cookie.set(_f,a);const f=await this.browserAdapter.sessionStorage.getItem(lf),l=await this.browserAdapter.sessionStorage.getItem(cf),u={uuid:a,shop_id:n.settings.accountID,user_agent:navigator.userAgent};i&&!l&&t0(u,a,n,this.browserAdapter),f||r0(u,a,n,this.browserAdapter)}}}const f0=()=>{const t=new a0;window.$superfiliateStorefront.sdk={sendEvent:(e,r,n)=>t.sendEvent(e,r,n),handleCheckoutCompleted:e=>t.handleCheckoutCompleted(e),handlePageView:()=>t.handlePageView()}},au="sfIframe.clipboardCopy",l0=async t=>{if(!navigator.clipboard)return!1;try{return typeof window<"u"&&window.top&&window.top!==window.self?(window.top.postMessage({name:au,value:t},"*"),!0):(await navigator.clipboard.writeText(t),!0)}catch(e){return console.error(e),!1}},c0=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==au)return;l0(t.data.value)}catch{return}})};try{Hv("sf-"),Lv(),Xb(),Rm(),c0(),f0()}catch(t){eo(t)}})();

})();
